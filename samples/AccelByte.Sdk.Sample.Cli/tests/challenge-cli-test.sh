#!/usr/bin/env bash

# Copyright (c) 2021 AccelByte Inc. All Rights Reserved.
# This is licensed software from AccelByte Inc, for limitations
# and restrictions contact your company contract manager.

# This code is generated by tool. DO NOT EDIT.

# Meta:
# - random seed: 
# - template file: 

# Instructions:
# - Run the Justice SDK Mock Server first before running this script.

export AB_BASE_URL="http://127.0.0.1:8080"
export AB_CLIENT_ID="admin"
export AB_CLIENT_SECRET="admin"
export AB_NAMESPACE="test"
export AB_APP_NAME="UnitTest"

EXIT_CODE=0

eval_tap() {
  if [ $1 -eq 0 ]; then
    echo "ok $2 - $3"
  else
    EXIT_CODE=1
    echo "not ok $2 - $3"
    sed 's/^/# /g' $4
  fi
  rm -f $4
}

CLI_EXE="AccelByte.Sdk.Sample.Cli"
CLI_TOKEN_FILE="$(dirname "$(which $CLI_EXE)")/token.json"
TEMP_JSON_INPUT="input_json.json"
TEMP_FILE_UPLOAD="file_upload.bin"

echo "TAP version 13"
echo "1..39"

#- 1 Login
$CLI_EXE --op login --lt user --user user --pass user > test.out 2>&1
eval_tap $? 1 'Login' test.out

if [ $EXIT_CODE -ne 0 ]; then
  echo "Bail out! Login failed."
  exit $EXIT_CODE
fi

# echo "foo" > "$CLI_TOKEN_FILE"

#- 2 AdminGetChallenges
$CLI_EXE \
    --sn challenge \
    --op AdminGetChallenges \
    --namespace $AB_NAMESPACE \
    --keyword 'Dme2RKTT' \
    --limit '81' \
    --offset '34' \
    --sortBy 'createdAt:desc' \
    --status 'RETIRED' \
    --tags '["IjRKZgxD", "BfPeGAQ8", "fKLMrvwK"]' \
    > test.out 2>&1
eval_tap $? 2 'AdminGetChallenges' test.out

#- 3 AdminCreateChallenge
# body param: body
echo '{"activeGoalsPerRotation": 97, "assignmentRule": "RANDOMIZED", "code": "M2rquE4a", "description": "ehlMV3ma", "endAfter": 88, "endDate": "1984-04-12T00:00:00Z", "goalsVisibility": "PERIODONLY", "name": "Vx3joPdD", "randomizedPerRotation": true, "repeatAfter": 56, "resetConfig": {"resetDate": 25, "resetDay": 26, "resetTime": "FJfQ1rNA"}, "rotation": "WEEKLY", "startDate": "1974-09-02T00:00:00Z", "tags": ["VjFnkMgk", "2cJNIygl", "yKnNOKkz"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminCreateChallenge \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 3 'AdminCreateChallenge' test.out

#- 4 AdminGetItemReferences
$CLI_EXE \
    --sn challenge \
    --op AdminGetItemReferences \
    --namespace $AB_NAMESPACE \
    --itemId '0rWBcwQ4' \
    > test.out 2>&1
eval_tap $? 4 'AdminGetItemReferences' test.out

#- 5 AdminGetActiveChallenges
$CLI_EXE \
    --sn challenge \
    --op AdminGetActiveChallenges \
    --namespace $AB_NAMESPACE \
    --userId 'bzlreNAO' \
    --limit '79' \
    --offset '73' \
    > test.out 2>&1
eval_tap $? 5 'AdminGetActiveChallenges' test.out

#- 6 AdminGetChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminGetChallenge \
    --challengeCode '6KxwTJhh' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 6 'AdminGetChallenge' test.out

#- 7 AdminUpdateChallenge
# body param: body
echo '{"activeGoalsPerRotation": 50, "assignmentRule": "RANDOMIZED", "description": "Gv7qWnI6", "endAfter": 36, "endDate": "1987-06-18T00:00:00Z", "goalsVisibility": "SHOWALL", "name": "rlPVk3BQ", "randomizedPerRotation": true, "repeatAfter": 2, "resetConfig": {"resetDate": 97, "resetDay": 88, "resetTime": "bh2XfMVN"}, "rotation": "NONE", "startDate": "1973-01-31T00:00:00Z", "tags": ["CVUBl7F1", "RdtjrMyP", "RboOVe1i"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateChallenge \
    --challengeCode 'zjxGfM9j' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 7 'AdminUpdateChallenge' test.out

#- 8 AdminDeleteChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteChallenge \
    --challengeCode '9wjj6S2F' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 8 'AdminDeleteChallenge' test.out

#- 9 AdminGetGoals
$CLI_EXE \
    --sn challenge \
    --op AdminGetGoals \
    --challengeCode 'Uwz2sksl' \
    --namespace $AB_NAMESPACE \
    --limit '27' \
    --offset '6' \
    --sortBy 'updatedAt:asc' \
    --tags '["0QTVyZZu", "9gTuy4fj", "giplryhe"]' \
    > test.out 2>&1
eval_tap $? 9 'AdminGetGoals' test.out

#- 10 AdminCreateGoal
# body param: body
echo '{"code": "qzHMBnOF", "description": "kiJW3AFF", "isActive": true, "name": "ZyzPuNiD", "requirementGroups": [{"operator": "AND", "predicates": [{"matcher": "GREATER_THAN", "parameterName": "bZTL9li9", "parameterType": "USERACCOUNT", "statCycleId": "NvwiHsvV", "targetValue": 0.07948727191252536}, {"matcher": "LESS_THAN_EQUAL", "parameterName": "VHsSUy2e", "parameterType": "STATISTIC", "statCycleId": "eHzyteXS", "targetValue": 0.6276352847317229}, {"matcher": "LESS_THAN_EQUAL", "parameterName": "kfCNh3es", "parameterType": "STATISTIC", "statCycleId": "45b97tGx", "targetValue": 0.7862890924080578}]}, {"operator": "AND", "predicates": [{"matcher": "LESS_THAN_EQUAL", "parameterName": "XyKlraoB", "parameterType": "ENTITLEMENT", "statCycleId": "rGV0pbPV", "targetValue": 0.7796795431794536}, {"matcher": "GREATER_THAN", "parameterName": "FoGaCftx", "parameterType": "ACHIEVEMENT", "statCycleId": "sMM4OPGc", "targetValue": 0.18775975710045423}, {"matcher": "LESS_THAN_EQUAL", "parameterName": "wDW3MdLE", "parameterType": "USERACCOUNT", "statCycleId": "85Id5usm", "targetValue": 0.9974492541035671}]}, {"operator": "AND", "predicates": [{"matcher": "EQUAL", "parameterName": "h4OpbW2N", "parameterType": "USERACCOUNT", "statCycleId": "xIOd7mWh", "targetValue": 0.6029068354817433}, {"matcher": "LESS_THAN", "parameterName": "2wbwzxx9", "parameterType": "STATISTIC_CYCLE", "statCycleId": "LZRpjDX8", "targetValue": 0.10103517506760129}, {"matcher": "GREATER_THAN", "parameterName": "5M7DVbZ1", "parameterType": "ACHIEVEMENT", "statCycleId": "pySo9JMu", "targetValue": 0.7126144641616309}]}], "rewards": [{"itemId": "1blwTKwR", "itemName": "g52uJNWF", "qty": 0.4788868620666733, "type": "ENTITLEMENT"}, {"itemId": "8PKvY2J3", "itemName": "Bd9u5UZ6", "qty": 0.31746279159465707, "type": "ENTITLEMENT"}, {"itemId": "MA2PH5pW", "itemName": "m21KXF24", "qty": 0.008145058903174851, "type": "STATISTIC"}], "schedule": {"endTime": "1982-08-13T00:00:00Z", "order": 28, "startTime": "1988-02-09T00:00:00Z"}, "tags": ["0b9Tr3aK", "1Cbrm0UN", "tbUozWAM"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminCreateGoal \
    --challengeCode 'ti52HTCj' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 10 'AdminCreateGoal' test.out

#- 11 AdminGetGoal
$CLI_EXE \
    --sn challenge \
    --op AdminGetGoal \
    --challengeCode 'kAhZlnNv' \
    --code '411WIUkz' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 11 'AdminGetGoal' test.out

#- 12 AdminUpdateGoals
# body param: body
echo '{"description": "j5NZxCzf", "isActive": true, "name": "fj3v5SjC", "requirementGroups": [{"operator": "AND", "predicates": [{"matcher": "LESS_THAN", "parameterName": "hW7tWXBj", "parameterType": "ACHIEVEMENT", "statCycleId": "cX96jrUN", "targetValue": 0.4061436465245212}, {"matcher": "GREATER_THAN_EQUAL", "parameterName": "OKJBlVEV", "parameterType": "USERACCOUNT", "statCycleId": "S5jyPQ3G", "targetValue": 0.0633013574347222}, {"matcher": "GREATER_THAN", "parameterName": "AKK4PZiM", "parameterType": "STATISTIC_CYCLE", "statCycleId": "7qEqkRio", "targetValue": 0.8139157926927938}]}, {"operator": "AND", "predicates": [{"matcher": "LESS_THAN", "parameterName": "ZeAzTeAK", "parameterType": "ACHIEVEMENT", "statCycleId": "Ob3SDGMH", "targetValue": 0.9184818027519633}, {"matcher": "EQUAL", "parameterName": "nvW0H6vs", "parameterType": "ENTITLEMENT", "statCycleId": "98Mwtszr", "targetValue": 0.8585172528348894}, {"matcher": "EQUAL", "parameterName": "Qs1JDcmd", "parameterType": "ENTITLEMENT", "statCycleId": "7BpWweyH", "targetValue": 0.5507672577513958}]}, {"operator": "AND", "predicates": [{"matcher": "GREATER_THAN_EQUAL", "parameterName": "fOd3uQH9", "parameterType": "ACHIEVEMENT", "statCycleId": "JBnUUrZK", "targetValue": 0.7807309973311881}, {"matcher": "LESS_THAN", "parameterName": "JagOf6Ak", "parameterType": "ENTITLEMENT", "statCycleId": "FYFcZ75K", "targetValue": 0.4873777813975292}, {"matcher": "GREATER_THAN_EQUAL", "parameterName": "D1uALGU1", "parameterType": "STATISTIC", "statCycleId": "7tmf8DkG", "targetValue": 0.048376882233074125}]}], "rewards": [{"itemId": "5OjMIP6W", "itemName": "uc9nrqza", "qty": 0.4288916816644722, "type": "ENTITLEMENT"}, {"itemId": "vwzIEjLl", "itemName": "B8Iuvrun", "qty": 0.20829027566057678, "type": "STATISTIC"}, {"itemId": "z3AdsHJF", "itemName": "mcK0cwia", "qty": 0.3856877435937667, "type": "ENTITLEMENT"}], "schedule": {"endTime": "1981-10-23T00:00:00Z", "order": 28, "startTime": "1996-09-25T00:00:00Z"}, "tags": ["TaGdHOpD", "ymLHalTj", "7xFevL0r"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateGoals \
    --challengeCode 'u90RWt20' \
    --code '6mT44D7c' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 12 'AdminUpdateGoals' test.out

#- 13 AdminDeleteGoal
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteGoal \
    --challengeCode 'vqxGtzlw' \
    --code 'tZU5Fqlj' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 13 'AdminDeleteGoal' test.out

#- 14 AdminListSchedulesByGoal
$CLI_EXE \
    --sn challenge \
    --op AdminListSchedulesByGoal \
    --challengeCode '2Ac0AHKQ' \
    --code '2nw2hirX' \
    --namespace $AB_NAMESPACE \
    --limit '78' \
    --offset '68' \
    --userId 'XiempgTR' \
    > test.out 2>&1
eval_tap $? 14 'AdminListSchedulesByGoal' test.out

#- 15 AdminGetPeriods
$CLI_EXE \
    --sn challenge \
    --op AdminGetPeriods \
    --challengeCode 'eP6XnEyy' \
    --namespace $AB_NAMESPACE \
    --limit '80' \
    --offset '31' \
    > test.out 2>&1
eval_tap $? 15 'AdminGetPeriods' test.out

#- 16 AdminRandomizeChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminRandomizeChallenge \
    --challengeCode 'Bec9UmbQ' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 16 'AdminRandomizeChallenge' test.out

#- 17 AdminListSchedules
$CLI_EXE \
    --sn challenge \
    --op AdminListSchedules \
    --challengeCode '3V4JV6OY' \
    --namespace $AB_NAMESPACE \
    --dateTime '1983-11-30T00:00:00Z' \
    --limit '93' \
    --offset '68' \
    --userId 'oXV9sEvz' \
    > test.out 2>&1
eval_tap $? 17 'AdminListSchedules' test.out

#- 18 AdminDeleteTiedChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteTiedChallenge \
    --challengeCode 'pQo5mxdp' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 18 'AdminDeleteTiedChallenge' test.out

#- 19 AdminUpdateTiedChallengeSchedule
# body param: body
echo '{"action": "STOP", "endDate": "1984-08-01T00:00:00Z"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateTiedChallengeSchedule \
    --challengeCode 'C2BwdTtR' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 19 'AdminUpdateTiedChallengeSchedule' test.out

#- 20 AdminGetAssignmentPlugin
$CLI_EXE \
    --sn challenge \
    --op AdminGetAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 20 'AdminGetAssignmentPlugin' test.out

#- 21 AdminUpdateAssignmentPlugin
# body param: body
echo '{"appName": "JI14lDJD", "extendType": "APP", "grpcServerAddress": "muwT1Afo"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 21 'AdminUpdateAssignmentPlugin' test.out

#- 22 AdminCreateAssignmentPlugin
# body param: body
echo '{"appName": "3Cu9GVG1", "extendType": "CUSTOM", "grpcServerAddress": "Pt1ZIqP2"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminCreateAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 22 'AdminCreateAssignmentPlugin' test.out

#- 23 AdminDeleteAssignmentPlugin
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 23 'AdminDeleteAssignmentPlugin' test.out

#- 24 AdminEvaluateProgress
# body param: body
echo '{"userIds": ["8HKX1iFj", "9KMu0Wt0", "ISMQTupL"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminEvaluateProgress \
    --namespace $AB_NAMESPACE \
    --challengeCode '["Hrez8Bwu", "Qjgd7VYb", "scqye0E4"]' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 24 'AdminEvaluateProgress' test.out

#- 25 AdminClaimUsersRewards
# body param: body
echo '[{"rewardIds": ["lzLY3Xpy", "60c6HuNh", "JD4oF1SU"], "userId": "8LrvI5Px"}, {"rewardIds": ["U578k0eo", "2zTUezkt", "corGcabR"], "userId": "vSfPKbXd"}, {"rewardIds": ["38QNnl0z", "EF0WOjaq", "4WRHgMh8"], "userId": "7ulWK7nS"}]' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminClaimUsersRewards \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 25 'AdminClaimUsersRewards' test.out

#- 26 AdminClaimUserRewardsByGoalCode
# body param: body
echo '{"goalCode": "moTBNv5J"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminClaimUserRewardsByGoalCode \
    --challengeCode 'vTigC3aD' \
    --namespace $AB_NAMESPACE \
    --userId 'gHKkK6k3' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 26 'AdminClaimUserRewardsByGoalCode' test.out

#- 27 AdminGetUserProgression
$CLI_EXE \
    --sn challenge \
    --op AdminGetUserProgression \
    --challengeCode 'Yj8pAgs7' \
    --namespace $AB_NAMESPACE \
    --userId 'Hfs78JuI' \
    --dateTime '1986-05-27T00:00:00Z' \
    --goalCode 'CyxVo3bf' \
    --limit '17' \
    --offset '60' \
    --tags '["ws0PESYk", "efXwhT4C", "HsfLaFNl"]' \
    > test.out 2>&1
eval_tap $? 27 'AdminGetUserProgression' test.out

#- 28 AdminGetUserRewards
$CLI_EXE \
    --sn challenge \
    --op AdminGetUserRewards \
    --namespace $AB_NAMESPACE \
    --userId 'yLDS59VF' \
    --challengeCode 'u3SV9Qth' \
    --goalProgressionId 'n2APo4Gc' \
    --limit '24' \
    --offset '69' \
    --sortBy 'createdAt:asc' \
    --status 'CLAIMED' \
    > test.out 2>&1
eval_tap $? 28 'AdminGetUserRewards' test.out

#- 29 AdminClaimUserRewards
# body param: body
echo '{"rewardIDs": ["BHbiG8my", "3CAog6qc", "fMSlHSaI"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminClaimUserRewards \
    --namespace $AB_NAMESPACE \
    --userId 'JU6LSq7b' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 29 'AdminClaimUserRewards' test.out

#- 30 GetChallenges
$CLI_EXE \
    --sn challenge \
    --op GetChallenges \
    --namespace $AB_NAMESPACE \
    --keyword 'SMmKifMO' \
    --limit '59' \
    --offset '38' \
    --sortBy 'updatedAt:asc' \
    --status 'TIED' \
    --tags '["2GuoBNxj", "pc7VSNbn", "loLku8WM"]' \
    > test.out 2>&1
eval_tap $? 30 'GetChallenges' test.out

#- 31 PublicGetScheduledGoals
$CLI_EXE \
    --sn challenge \
    --op PublicGetScheduledGoals \
    --challengeCode 'dEjOwoGZ' \
    --namespace $AB_NAMESPACE \
    --limit '38' \
    --offset '38' \
    --sortBy 'updatedAt:desc' \
    --tags '["cewsRUPb", "sEh9j7Ts", "mAG2mkFt"]' \
    > test.out 2>&1
eval_tap $? 31 'PublicGetScheduledGoals' test.out

#- 32 PublicListSchedulesByGoal
$CLI_EXE \
    --sn challenge \
    --op PublicListSchedulesByGoal \
    --challengeCode 'Pmnn0hvF' \
    --code '1dSiwWV6' \
    --namespace $AB_NAMESPACE \
    --limit '20' \
    --offset '33' \
    > test.out 2>&1
eval_tap $? 32 'PublicListSchedulesByGoal' test.out

#- 33 PublicListSchedules
$CLI_EXE \
    --sn challenge \
    --op PublicListSchedules \
    --challengeCode 'e8C5WNbo' \
    --namespace $AB_NAMESPACE \
    --dateTime '1998-07-24T00:00:00Z' \
    --limit '37' \
    --offset '48' \
    > test.out 2>&1
eval_tap $? 33 'PublicListSchedules' test.out

#- 34 PublicClaimUserRewardsByGoalCode
# body param: body
echo '{"goalCode": "ytA6oMIq"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op PublicClaimUserRewardsByGoalCode \
    --challengeCode 'oDnzs4ab' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 34 'PublicClaimUserRewardsByGoalCode' test.out

#- 35 EvaluateMyProgress
$CLI_EXE \
    --sn challenge \
    --op EvaluateMyProgress \
    --namespace $AB_NAMESPACE \
    --challengeCode '["CWGU5G9i", "FzGjqbW0", "GN0mllzG"]' \
    > test.out 2>&1
eval_tap $? 35 'EvaluateMyProgress' test.out

#- 36 PublicGetUserProgression
$CLI_EXE \
    --sn challenge \
    --op PublicGetUserProgression \
    --challengeCode 'NgMPHk1v' \
    --namespace $AB_NAMESPACE \
    --dateTime '1980-07-19T00:00:00Z' \
    --goalCode 'pOA4uVDg' \
    --limit '2' \
    --offset '51' \
    --tags '["DcfIPHop", "0olokmti", "HQTXzoHm"]' \
    > test.out 2>&1
eval_tap $? 36 'PublicGetUserProgression' test.out

#- 37 PublicGetPastUserProgression
$CLI_EXE \
    --sn challenge \
    --op PublicGetPastUserProgression \
    --challengeCode '7VEmmR2f' \
    --index '83' \
    --namespace $AB_NAMESPACE \
    --goalCode 'XMIokTxK' \
    --limit '67' \
    --offset '69' \
    --tags '["M3K9mG8Y", "QJNdf8bh", "U0RfRBwK"]' \
    > test.out 2>&1
eval_tap $? 37 'PublicGetPastUserProgression' test.out

#- 38 PublicGetUserRewards
$CLI_EXE \
    --sn challenge \
    --op PublicGetUserRewards \
    --namespace $AB_NAMESPACE \
    --challengeCode '2oYFot0r' \
    --goalProgressionId 'QO101QG1' \
    --limit '94' \
    --offset '54' \
    --sortBy 'updatedAt:desc' \
    --status 'CLAIMED' \
    > test.out 2>&1
eval_tap $? 38 'PublicGetUserRewards' test.out

#- 39 PublicClaimUserRewards
# body param: body
echo '{"rewardIDs": ["z1TeFS7H", "jTUm1sPH", "9WqjOOyp"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op PublicClaimUserRewards \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 39 'PublicClaimUserRewards' test.out


# remove artifacts
rm -f "$CLI_TOKEN_FILE"
rm -f "$TEMP_JSON_INPUT"
rm -f "$TEMP_FILE_UPLOAD"

exit $EXIT_CODE