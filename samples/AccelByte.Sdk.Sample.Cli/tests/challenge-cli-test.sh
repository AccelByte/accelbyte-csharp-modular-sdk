#!/usr/bin/env bash

# Copyright (c) 2021 AccelByte Inc. All Rights Reserved.
# This is licensed software from AccelByte Inc, for limitations
# and restrictions contact your company contract manager.

# This code is generated by tool. DO NOT EDIT.

# Meta:
# - random seed: 
# - template file: 

# Instructions:
# - Run the Justice SDK Mock Server first before running this script.

export AB_BASE_URL="http://127.0.0.1:8080"
export AB_CLIENT_ID="admin"
export AB_CLIENT_SECRET="admin"
export AB_NAMESPACE="test"
export AB_APP_NAME="UnitTest"

EXIT_CODE=0

eval_tap() {
  if [ $1 -eq 0 ]; then
    echo "ok $2 - $3"
  else
    EXIT_CODE=1
    echo "not ok $2 - $3"
    sed 's/^/# /g' $4
  fi
  rm -f $4
}

CLI_EXE="AccelByte.Sdk.Sample.Cli"
CLI_TOKEN_FILE="$(dirname "$(which $CLI_EXE)")/token.json"
TEMP_JSON_INPUT="input_json.json"
TEMP_FILE_UPLOAD="file_upload.bin"

echo "TAP version 13"
echo "1..39"

#- 1 Login
$CLI_EXE --op login --lt user --user user --pass user > test.out 2>&1
eval_tap $? 1 'Login' test.out

if [ $EXIT_CODE -ne 0 ]; then
  echo "Bail out! Login failed."
  exit $EXIT_CODE
fi

# echo "foo" > "$CLI_TOKEN_FILE"

#- 2 AdminGetChallenges
$CLI_EXE \
    --sn challenge \
    --op AdminGetChallenges \
    --namespace $AB_NAMESPACE \
    --keyword 'uwQ4Pv2t' \
    --limit '30' \
    --offset '78' \
    --sortBy 'code:asc' \
    --status 'RETIRED' \
    --tags '["xkBAi7lv", "LZ3xUxUS", "iCLAZafq"]' \
    > test.out 2>&1
eval_tap $? 2 'AdminGetChallenges' test.out

#- 3 AdminCreateChallenge
# body param: body
echo '{"activeGoalsPerRotation": 24, "assignmentRule": "FIXED", "code": "v7eSqrhF", "description": "0qxEXN69", "endAfter": 90, "endDate": "1975-10-18T00:00:00Z", "goalsVisibility": "PERIODONLY", "name": "s1lp3zlS", "randomizedPerRotation": true, "repeatAfter": 33, "resetConfig": {"resetDate": 99, "resetDay": 94, "resetTime": "PgcfOyAs"}, "rotation": "DAILY", "startDate": "1985-12-08T00:00:00Z", "tags": ["EAiamqJ2", "HPVT0GFl", "cVphFJTr"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminCreateChallenge \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 3 'AdminCreateChallenge' test.out

#- 4 AdminGetItemReferences
$CLI_EXE \
    --sn challenge \
    --op AdminGetItemReferences \
    --namespace $AB_NAMESPACE \
    --itemId 'jFpda5ai' \
    > test.out 2>&1
eval_tap $? 4 'AdminGetItemReferences' test.out

#- 5 AdminGetActiveChallenges
$CLI_EXE \
    --sn challenge \
    --op AdminGetActiveChallenges \
    --namespace $AB_NAMESPACE \
    --userId 'xnN2KaVs' \
    --limit '19' \
    --offset '5' \
    > test.out 2>&1
eval_tap $? 5 'AdminGetActiveChallenges' test.out

#- 6 AdminGetChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminGetChallenge \
    --challengeCode 'S6CZtfoP' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 6 'AdminGetChallenge' test.out

#- 7 AdminUpdateChallenge
# body param: body
echo '{"activeGoalsPerRotation": 50, "assignmentRule": "CUSTOM", "description": "MJmomNgH", "endAfter": 63, "endDate": "1978-03-14T00:00:00Z", "goalsVisibility": "PERIODONLY", "name": "D4O6zvHm", "randomizedPerRotation": false, "repeatAfter": 38, "resetConfig": {"resetDate": 26, "resetDay": 99, "resetTime": "gXZMuIkr"}, "rotation": "WEEKLY", "startDate": "1998-09-30T00:00:00Z", "tags": ["6BjflOb8", "ukxQiA1S", "UFIha1L7"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateChallenge \
    --challengeCode 'bg6vK7pQ' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 7 'AdminUpdateChallenge' test.out

#- 8 AdminDeleteChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteChallenge \
    --challengeCode 'ixOyFnD3' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 8 'AdminDeleteChallenge' test.out

#- 9 AdminGetGoals
$CLI_EXE \
    --sn challenge \
    --op AdminGetGoals \
    --challengeCode 'ltxuL3TR' \
    --namespace $AB_NAMESPACE \
    --limit '74' \
    --offset '47' \
    --sortBy 'createdAt:desc' \
    --tags '["09mMRG61", "1tQwkTAD", "R5xz0yHd"]' \
    > test.out 2>&1
eval_tap $? 9 'AdminGetGoals' test.out

#- 10 AdminCreateGoal
# body param: body
echo '{"code": "ie9cfhog", "description": "w3qfS33Z", "isActive": false, "name": "6Crtxpi9", "requirementGroups": [{"operator": "AND", "predicates": [{"id": "uSTTSEth", "matcher": "LESS_THAN_EQUAL", "parameterName": "Bo2mrPBf", "parameterType": "STATISTIC_CYCLE", "statCycleId": "I7EVBtEH", "targetValue": 0.7305554584519063}, {"id": "jpxUVjkN", "matcher": "EQUAL", "parameterName": "bcWOlpFo", "parameterType": "ENTITLEMENT", "statCycleId": "i7HgRgk9", "targetValue": 0.7550776007278924}, {"id": "gnvdJHa3", "matcher": "EQUAL", "parameterName": "5FWQudpP", "parameterType": "ACHIEVEMENT", "statCycleId": "Iulp8qqZ", "targetValue": 0.3018862122690783}]}, {"operator": "AND", "predicates": [{"id": "PHCeYkin", "matcher": "LESS_THAN", "parameterName": "UttfnwYc", "parameterType": "ENTITLEMENT", "statCycleId": "oXaxNzKY", "targetValue": 0.6465523584046263}, {"id": "DOqAEShn", "matcher": "LESS_THAN_EQUAL", "parameterName": "wyvyIlXI", "parameterType": "ENTITLEMENT", "statCycleId": "EHnx2UgE", "targetValue": 0.08433829958289318}, {"id": "r4V8w7Ic", "matcher": "LESS_THAN", "parameterName": "sEPnz8j3", "parameterType": "USERACCOUNT", "statCycleId": "TPyTWi0X", "targetValue": 0.42263463536659074}]}, {"operator": "AND", "predicates": [{"id": "6jrYQx4H", "matcher": "LESS_THAN", "parameterName": "m9v4sOCs", "parameterType": "USERACCOUNT", "statCycleId": "8LDz7Yu8", "targetValue": 0.4645500822455102}, {"id": "xXuOqq74", "matcher": "GREATER_THAN", "parameterName": "MRCsuDrB", "parameterType": "ACHIEVEMENT", "statCycleId": "7iBoyPR3", "targetValue": 0.632915775131184}, {"id": "U3mcTdMT", "matcher": "LESS_THAN", "parameterName": "tGWOxNUh", "parameterType": "ENTITLEMENT", "statCycleId": "L5AGB6ik", "targetValue": 0.1541504598010568}]}], "rewards": [{"itemId": "bm0kkGCa", "itemName": "OhML8Erf", "qty": 0.07333992833457736, "type": "ENTITLEMENT"}, {"itemId": "bF1ondEO", "itemName": "lWwrz8kh", "qty": 0.4474839027575934, "type": "STATISTIC"}, {"itemId": "AeVIyn0x", "itemName": "nNWJy0VN", "qty": 0.49346091641630496, "type": "STATISTIC"}], "schedule": {"endTime": "1990-08-09T00:00:00Z", "order": 70, "startTime": "1971-03-20T00:00:00Z"}, "tags": ["RxEBDWXw", "5EqgpDwc", "c6llpEpH"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminCreateGoal \
    --challengeCode '1IH2qQEC' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 10 'AdminCreateGoal' test.out

#- 11 AdminGetGoal
$CLI_EXE \
    --sn challenge \
    --op AdminGetGoal \
    --challengeCode 'KTM9eOf6' \
    --code '5xAwBjTW' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 11 'AdminGetGoal' test.out

#- 12 AdminUpdateGoals
# body param: body
echo '{"description": "PEncHR0v", "isActive": true, "name": "OO67HBt0", "requirementGroups": [{"operator": "AND", "predicates": [{"id": "QEnunp7J", "matcher": "EQUAL", "parameterName": "qO9VjzgO", "parameterType": "STATISTIC", "statCycleId": "WVicaC0U", "targetValue": 0.6768090981040438}, {"id": "wez1uSMR", "matcher": "GREATER_THAN_EQUAL", "parameterName": "INPs8l7m", "parameterType": "STATISTIC_CYCLE", "statCycleId": "eGbt5OBA", "targetValue": 0.4548580368168019}, {"id": "ND3jWhRU", "matcher": "EQUAL", "parameterName": "i69QQ17a", "parameterType": "STATISTIC_CYCLE", "statCycleId": "qJBDcgmL", "targetValue": 0.1037954661190229}]}, {"operator": "AND", "predicates": [{"id": "xfcXex8c", "matcher": "GREATER_THAN_EQUAL", "parameterName": "EZllLWij", "parameterType": "ENTITLEMENT", "statCycleId": "aeixVXdr", "targetValue": 0.9975098838296946}, {"id": "v0JY8AQn", "matcher": "EQUAL", "parameterName": "K2lYg3ZK", "parameterType": "STATISTIC", "statCycleId": "TH3dARyq", "targetValue": 0.9602207499984666}, {"id": "0jTBi5yh", "matcher": "LESS_THAN", "parameterName": "5VpWkxAb", "parameterType": "STATISTIC", "statCycleId": "SafwQNmE", "targetValue": 0.5111409639443102}]}, {"operator": "AND", "predicates": [{"id": "beXNSUSC", "matcher": "EQUAL", "parameterName": "xXlsWgeb", "parameterType": "STATISTIC", "statCycleId": "9a9V2VMF", "targetValue": 0.057896519912012945}, {"id": "XzlHGpVs", "matcher": "GREATER_THAN_EQUAL", "parameterName": "ZLgTAUJA", "parameterType": "USERACCOUNT", "statCycleId": "QpwMjB3X", "targetValue": 0.0004929244978471026}, {"id": "B6Qv78ZD", "matcher": "GREATER_THAN_EQUAL", "parameterName": "s0e6jWtQ", "parameterType": "ACHIEVEMENT", "statCycleId": "apxHuHxm", "targetValue": 0.32415868722735286}]}], "rewards": [{"itemId": "HX4wE1IV", "itemName": "BilJhXU3", "qty": 0.4576134728252297, "type": "ENTITLEMENT"}, {"itemId": "9ErpJceV", "itemName": "aPaw3n8L", "qty": 0.12713847535884293, "type": "ENTITLEMENT"}, {"itemId": "kxxY3D6g", "itemName": "yMyuNXaE", "qty": 0.26558267103465305, "type": "ENTITLEMENT"}], "schedule": {"endTime": "1976-01-29T00:00:00Z", "order": 23, "startTime": "1980-01-13T00:00:00Z"}, "tags": ["acVv066b", "ZsLKSEGs", "sbuTY4g7"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateGoals \
    --challengeCode 'GMEPPVb0' \
    --code 'qmBGkSP1' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 12 'AdminUpdateGoals' test.out

#- 13 AdminDeleteGoal
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteGoal \
    --challengeCode '7tvK5ckc' \
    --code 'OMTetfKG' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 13 'AdminDeleteGoal' test.out

#- 14 AdminListSchedulesByGoal
$CLI_EXE \
    --sn challenge \
    --op AdminListSchedulesByGoal \
    --challengeCode '5rcZXbe1' \
    --code 'LTp5xJmu' \
    --namespace $AB_NAMESPACE \
    --limit '53' \
    --offset '87' \
    --userId 'GlGPml7P' \
    > test.out 2>&1
eval_tap $? 14 'AdminListSchedulesByGoal' test.out

#- 15 AdminGetPeriods
$CLI_EXE \
    --sn challenge \
    --op AdminGetPeriods \
    --challengeCode '55HpYFI3' \
    --namespace $AB_NAMESPACE \
    --limit '44' \
    --offset '21' \
    > test.out 2>&1
eval_tap $? 15 'AdminGetPeriods' test.out

#- 16 AdminRandomizeChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminRandomizeChallenge \
    --challengeCode 'SVHWbtqR' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 16 'AdminRandomizeChallenge' test.out

#- 17 AdminListSchedules
$CLI_EXE \
    --sn challenge \
    --op AdminListSchedules \
    --challengeCode 'VO8mmLWf' \
    --namespace $AB_NAMESPACE \
    --dateTime '1971-08-17T00:00:00Z' \
    --limit '86' \
    --offset '19' \
    --userId 'CXFox74A' \
    > test.out 2>&1
eval_tap $? 17 'AdminListSchedules' test.out

#- 18 AdminDeleteTiedChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteTiedChallenge \
    --challengeCode 'Y8XMdMCc' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 18 'AdminDeleteTiedChallenge' test.out

#- 19 AdminUpdateTiedChallengeSchedule
# body param: body
echo '{"action": "STOP", "endDate": "1986-06-02T00:00:00Z"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateTiedChallengeSchedule \
    --challengeCode 'kqeluPFI' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 19 'AdminUpdateTiedChallengeSchedule' test.out

#- 20 AdminGetAssignmentPlugin
$CLI_EXE \
    --sn challenge \
    --op AdminGetAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 20 'AdminGetAssignmentPlugin' test.out

#- 21 AdminUpdateAssignmentPlugin
# body param: body
echo '{"appName": "a8ZO5Bnq", "extendType": "APP", "grpcServerAddress": "rxklqKjE"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 21 'AdminUpdateAssignmentPlugin' test.out

#- 22 AdminCreateAssignmentPlugin
# body param: body
echo '{"appName": "i41fk7DW", "extendType": "APP", "grpcServerAddress": "TFciNG5x"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminCreateAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 22 'AdminCreateAssignmentPlugin' test.out

#- 23 AdminDeleteAssignmentPlugin
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 23 'AdminDeleteAssignmentPlugin' test.out

#- 24 AdminEvaluateProgress
# body param: body
echo '{"userIds": ["8QXQSrLc", "gtQykMou", "OI4QeAZo"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminEvaluateProgress \
    --namespace $AB_NAMESPACE \
    --challengeCode '["7I1qezBY", "5JZJVav8", "3h9olmz2"]' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 24 'AdminEvaluateProgress' test.out

#- 25 AdminClaimUsersRewards
# body param: body
echo '[{"rewardIds": ["iZSMCbgD", "vNzi5IMz", "FzdcJd51"], "userId": "9wAw91Rg"}, {"rewardIds": ["KSOaadEk", "AWc3f2DQ", "b4i3Cx7y"], "userId": "Yf6jpfE0"}, {"rewardIds": ["8JTQFktY", "SQuUlCyR", "z3YJ8ZyY"], "userId": "603PON9v"}]' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminClaimUsersRewards \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 25 'AdminClaimUsersRewards' test.out

#- 26 AdminClaimUserRewardsByGoalCode
# body param: body
echo '{"goalCode": "N5vmHSsH"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminClaimUserRewardsByGoalCode \
    --challengeCode '9xwgdUAG' \
    --namespace $AB_NAMESPACE \
    --userId 'z01XQIMV' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 26 'AdminClaimUserRewardsByGoalCode' test.out

#- 27 AdminGetUserProgression
$CLI_EXE \
    --sn challenge \
    --op AdminGetUserProgression \
    --challengeCode 'sAElG1x1' \
    --namespace $AB_NAMESPACE \
    --userId 'kD9k8KYS' \
    --dateTime '1979-09-23T00:00:00Z' \
    --goalCode 'jSALUElt' \
    --limit '53' \
    --offset '59' \
    --tags '["OyOyGDb0", "R5ZUXHBu", "iRG9OV1B"]' \
    > test.out 2>&1
eval_tap $? 27 'AdminGetUserProgression' test.out

#- 28 AdminGetUserRewards
$CLI_EXE \
    --sn challenge \
    --op AdminGetUserRewards \
    --namespace $AB_NAMESPACE \
    --userId 'gQQarS7M' \
    --challengeCode 'XlFknAF9' \
    --goalProgressionId 'HR2LDkqW' \
    --limit '90' \
    --offset '3' \
    --sortBy 'createdAt' \
    --status 'UNCLAIMED' \
    > test.out 2>&1
eval_tap $? 28 'AdminGetUserRewards' test.out

#- 29 AdminClaimUserRewards
# body param: body
echo '{"rewardIDs": ["ZvQ7KPN4", "C3ItELdi", "vBlzbhOf"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminClaimUserRewards \
    --namespace $AB_NAMESPACE \
    --userId 'cZB77Obw' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 29 'AdminClaimUserRewards' test.out

#- 30 GetChallenges
$CLI_EXE \
    --sn challenge \
    --op GetChallenges \
    --namespace $AB_NAMESPACE \
    --keyword 'xh0sGP0f' \
    --limit '35' \
    --offset '67' \
    --sortBy 'updatedAt' \
    --status 'INIT' \
    --tags '["TQ8oaq3A", "qbmJFT9b", "HW4Hxncw"]' \
    > test.out 2>&1
eval_tap $? 30 'GetChallenges' test.out

#- 31 PublicGetScheduledGoals
$CLI_EXE \
    --sn challenge \
    --op PublicGetScheduledGoals \
    --challengeCode 'QiNdpHHi' \
    --namespace $AB_NAMESPACE \
    --limit '67' \
    --offset '8' \
    --sortBy 'updatedAt:desc' \
    --tags '["HmS1mjTE", "iRSgpTH2", "Djfu6j0i"]' \
    > test.out 2>&1
eval_tap $? 31 'PublicGetScheduledGoals' test.out

#- 32 PublicListSchedulesByGoal
$CLI_EXE \
    --sn challenge \
    --op PublicListSchedulesByGoal \
    --challengeCode 'iBwQ0uIc' \
    --code 'dIHWcI5v' \
    --namespace $AB_NAMESPACE \
    --limit '84' \
    --offset '93' \
    > test.out 2>&1
eval_tap $? 32 'PublicListSchedulesByGoal' test.out

#- 33 PublicListSchedules
$CLI_EXE \
    --sn challenge \
    --op PublicListSchedules \
    --challengeCode 'MJPGKcr8' \
    --namespace $AB_NAMESPACE \
    --dateTime '1984-04-16T00:00:00Z' \
    --limit '24' \
    --offset '21' \
    > test.out 2>&1
eval_tap $? 33 'PublicListSchedules' test.out

#- 34 PublicClaimUserRewardsByGoalCode
# body param: body
echo '{"goalCode": "D3bohGNj"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op PublicClaimUserRewardsByGoalCode \
    --challengeCode 'JwyY6bqO' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 34 'PublicClaimUserRewardsByGoalCode' test.out

#- 35 EvaluateMyProgress
$CLI_EXE \
    --sn challenge \
    --op EvaluateMyProgress \
    --namespace $AB_NAMESPACE \
    --challengeCode '["Qh9kuOj3", "eT1G6k5e", "B7GXlhMQ"]' \
    > test.out 2>&1
eval_tap $? 35 'EvaluateMyProgress' test.out

#- 36 PublicGetUserProgression
$CLI_EXE \
    --sn challenge \
    --op PublicGetUserProgression \
    --challengeCode 'YwXt5EYJ' \
    --namespace $AB_NAMESPACE \
    --dateTime '1982-04-29T00:00:00Z' \
    --goalCode 'rFEEOxgM' \
    --limit '46' \
    --offset '79' \
    --tags '["VSE6U314", "HENRv8CO", "bDFx0kdc"]' \
    > test.out 2>&1
eval_tap $? 36 'PublicGetUserProgression' test.out

#- 37 PublicGetPastUserProgression
$CLI_EXE \
    --sn challenge \
    --op PublicGetPastUserProgression \
    --challengeCode 'f1g4yFUE' \
    --index '51' \
    --namespace $AB_NAMESPACE \
    --goalCode '6l0FRPCq' \
    --limit '87' \
    --offset '80' \
    --tags '["AVMLQoJx", "9VdkIEYC", "hmvqCp3O"]' \
    > test.out 2>&1
eval_tap $? 37 'PublicGetPastUserProgression' test.out

#- 38 PublicGetUserRewards
$CLI_EXE \
    --sn challenge \
    --op PublicGetUserRewards \
    --namespace $AB_NAMESPACE \
    --challengeCode 'srybYYTQ' \
    --goalProgressionId 'ZMMZMynO' \
    --limit '69' \
    --offset '54' \
    --sortBy 'updatedAt:desc' \
    --status 'CLAIMED' \
    > test.out 2>&1
eval_tap $? 38 'PublicGetUserRewards' test.out

#- 39 PublicClaimUserRewards
# body param: body
echo '{"rewardIDs": ["GZaAKjFM", "lb4dqocZ", "hJWpQtKr"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op PublicClaimUserRewards \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 39 'PublicClaimUserRewards' test.out


# remove artifacts
rm -f "$CLI_TOKEN_FILE"
rm -f "$TEMP_JSON_INPUT"
rm -f "$TEMP_FILE_UPLOAD"

exit $EXIT_CODE