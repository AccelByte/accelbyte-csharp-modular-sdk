#!/usr/bin/env bash

# Copyright (c) 2021 AccelByte Inc. All Rights Reserved.
# This is licensed software from AccelByte Inc, for limitations
# and restrictions contact your company contract manager.

# This code is generated by tool. DO NOT EDIT.

# Meta:
# - random seed: 
# - template file: 

# Instructions:
# - Run the Justice SDK Mock Server first before running this script.

export AB_BASE_URL="http://127.0.0.1:8080"
export AB_CLIENT_ID="admin"
export AB_CLIENT_SECRET="admin"
export AB_NAMESPACE="test"
export AB_APP_NAME="UnitTest"

EXIT_CODE=0

eval_tap() {
  if [ $1 -eq 0 ]; then
    echo "ok $2 - $3"
  else
    EXIT_CODE=1
    echo "not ok $2 - $3"
    sed 's/^/# /g' $4
  fi
  rm -f $4
}

CLI_EXE="AccelByte.Sdk.Sample.Cli"
CLI_TOKEN_FILE="$(dirname "$(which $CLI_EXE)")/token.json"
TEMP_JSON_INPUT="input_json.json"
TEMP_FILE_UPLOAD="file_upload.bin"

echo "TAP version 13"
echo "1..39"

#- 1 Login
$CLI_EXE --op login --lt user --user user --pass user > test.out 2>&1
eval_tap $? 1 'Login' test.out

if [ $EXIT_CODE -ne 0 ]; then
  echo "Bail out! Login failed."
  exit $EXIT_CODE
fi

# echo "foo" > "$CLI_TOKEN_FILE"

#- 2 AdminGetChallenges
$CLI_EXE \
    --sn challenge \
    --op AdminGetChallenges \
    --namespace $AB_NAMESPACE \
    --keyword '3SJ8NTrR' \
    --limit '3' \
    --offset '0' \
    --sortBy 'createdAt' \
    --status 'TIED' \
    --tags '["3Q23dJDF", "3t52XgwZ", "PxpLvXQP"]' \
    > test.out 2>&1
eval_tap $? 2 'AdminGetChallenges' test.out

#- 3 AdminCreateChallenge
# body param: body
echo '{"activeGoalsPerRotation": 27, "assignmentRule": "UNSCHEDULED", "code": "rB7oPR6e", "description": "JyMjixKl", "endAfter": 76, "endDate": "1984-10-27T00:00:00Z", "goalsVisibility": "SHOWALL", "name": "xjdCDrDp", "randomizedPerRotation": false, "repeatAfter": 85, "resetConfig": {"resetDate": 32, "resetDay": 41, "resetTime": "M0s2qe1W"}, "rotation": "DAILY", "startDate": "1995-12-30T00:00:00Z", "tags": ["0cgQhuMb", "MmmRZS1t", "Y4Cx6F7G"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminCreateChallenge \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 3 'AdminCreateChallenge' test.out

#- 4 AdminGetItemReferences
$CLI_EXE \
    --sn challenge \
    --op AdminGetItemReferences \
    --namespace $AB_NAMESPACE \
    --itemId 'UVv4UsRr' \
    > test.out 2>&1
eval_tap $? 4 'AdminGetItemReferences' test.out

#- 5 AdminGetActiveChallenges
$CLI_EXE \
    --sn challenge \
    --op AdminGetActiveChallenges \
    --namespace $AB_NAMESPACE \
    --userId 'wrtQiJi7' \
    --limit '34' \
    --offset '72' \
    > test.out 2>&1
eval_tap $? 5 'AdminGetActiveChallenges' test.out

#- 6 AdminGetChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminGetChallenge \
    --challengeCode '22WQ182g' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 6 'AdminGetChallenge' test.out

#- 7 AdminUpdateChallenge
# body param: body
echo '{"activeGoalsPerRotation": 18, "assignmentRule": "UNSCHEDULED", "description": "tdBPUbir", "endAfter": 25, "endDate": "1977-09-09T00:00:00Z", "goalsVisibility": "PERIODONLY", "name": "AoRqHB8L", "randomizedPerRotation": true, "repeatAfter": 58, "resetConfig": {"resetDate": 23, "resetDay": 96, "resetTime": "QVQ6xMwC"}, "rotation": "NONE", "startDate": "1973-09-02T00:00:00Z", "tags": ["5ReJLzH8", "vjT39VMM", "oqVIoPEx"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateChallenge \
    --challengeCode 'DVU0LWOq' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 7 'AdminUpdateChallenge' test.out

#- 8 AdminDeleteChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteChallenge \
    --challengeCode 'S1bKCVaV' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 8 'AdminDeleteChallenge' test.out

#- 9 AdminGetGoals
$CLI_EXE \
    --sn challenge \
    --op AdminGetGoals \
    --challengeCode 'bEtS3btk' \
    --namespace $AB_NAMESPACE \
    --limit '9' \
    --offset '75' \
    --sortBy 'createdAt:desc' \
    --tags '["V56dJ6Q0", "e6X0ANnU", "1ohpkSIA"]' \
    > test.out 2>&1
eval_tap $? 9 'AdminGetGoals' test.out

#- 10 AdminCreateGoal
# body param: body
echo '{"code": "sfkD3UX6", "description": "WLqs71Mn", "isActive": true, "name": "TW0zDMkT", "requirementGroups": [{"operator": "AND", "predicates": [{"matcher": "LESS_THAN", "parameterName": "ApqeXBXN", "parameterType": "STATISTIC_CYCLE", "statCycleId": "yiACzPHU", "targetValue": 0.43724915178188806}, {"matcher": "EQUAL", "parameterName": "TUiuqoqJ", "parameterType": "ACHIEVEMENT", "statCycleId": "55OvVdYM", "targetValue": 0.5704661633769184}, {"matcher": "LESS_THAN_EQUAL", "parameterName": "CeW8keLB", "parameterType": "ACHIEVEMENT", "statCycleId": "ZG4J2Am3", "targetValue": 0.7438711295591836}]}, {"operator": "AND", "predicates": [{"matcher": "GREATER_THAN_EQUAL", "parameterName": "mhDMzFOh", "parameterType": "ACHIEVEMENT", "statCycleId": "hWB0nulE", "targetValue": 0.43625552735506423}, {"matcher": "GREATER_THAN", "parameterName": "PJY42rOo", "parameterType": "STATISTIC", "statCycleId": "caFCjH5t", "targetValue": 0.004791865055331801}, {"matcher": "GREATER_THAN", "parameterName": "sI82UtbV", "parameterType": "STATISTIC", "statCycleId": "nHgC0ZZg", "targetValue": 0.32867152314719017}]}, {"operator": "AND", "predicates": [{"matcher": "LESS_THAN", "parameterName": "Vp1W64hp", "parameterType": "STATISTIC_CYCLE", "statCycleId": "bdLFkboS", "targetValue": 0.3210321600353677}, {"matcher": "GREATER_THAN_EQUAL", "parameterName": "XVv2n9Dc", "parameterType": "USERACCOUNT", "statCycleId": "Tk3DET7x", "targetValue": 0.9340282515248659}, {"matcher": "EQUAL", "parameterName": "Wj4uJ6ku", "parameterType": "STATISTIC_CYCLE", "statCycleId": "zs2SFgsL", "targetValue": 0.7136796523135762}]}], "rewards": [{"itemId": "QwcJZqcY", "itemName": "jPMvT4OZ", "qty": 0.33711378081722687, "type": "STATISTIC"}, {"itemId": "jEeLYZCO", "itemName": "oATipMls", "qty": 0.696602047047131, "type": "STATISTIC"}, {"itemId": "1Nz72bSZ", "itemName": "Zbp9Nvph", "qty": 0.5650310118004752, "type": "STATISTIC"}], "schedule": {"endTime": "1987-06-12T00:00:00Z", "order": 44, "startTime": "1997-03-12T00:00:00Z"}, "tags": ["YyRfmev0", "EROzKkEn", "VSuSPOSK"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminCreateGoal \
    --challengeCode 'GHPE4qIz' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 10 'AdminCreateGoal' test.out

#- 11 AdminGetGoal
$CLI_EXE \
    --sn challenge \
    --op AdminGetGoal \
    --challengeCode '3Can3NSc' \
    --code '3d2zi819' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 11 'AdminGetGoal' test.out

#- 12 AdminUpdateGoals
# body param: body
echo '{"description": "uBS7J0el", "isActive": true, "name": "oKmMBOA6", "requirementGroups": [{"operator": "AND", "predicates": [{"matcher": "GREATER_THAN_EQUAL", "parameterName": "zztOKUlN", "parameterType": "ACHIEVEMENT", "statCycleId": "gxBclyP9", "targetValue": 0.43329471410140274}, {"matcher": "EQUAL", "parameterName": "WgkDmJoh", "parameterType": "ACHIEVEMENT", "statCycleId": "5uXBFxQI", "targetValue": 0.8779575940677842}, {"matcher": "LESS_THAN_EQUAL", "parameterName": "eHqE7kgF", "parameterType": "ENTITLEMENT", "statCycleId": "gY3a1PNV", "targetValue": 0.11561922030114258}]}, {"operator": "AND", "predicates": [{"matcher": "LESS_THAN", "parameterName": "OE9pjP3f", "parameterType": "ENTITLEMENT", "statCycleId": "6y9UGwGw", "targetValue": 0.9690639833540027}, {"matcher": "LESS_THAN", "parameterName": "CxV2hDSe", "parameterType": "STATISTIC", "statCycleId": "ARUt3Ed9", "targetValue": 0.2532941102771403}, {"matcher": "EQUAL", "parameterName": "5c3N09NH", "parameterType": "USERACCOUNT", "statCycleId": "WhTaismi", "targetValue": 0.2389379563928945}]}, {"operator": "AND", "predicates": [{"matcher": "LESS_THAN_EQUAL", "parameterName": "3uh9ZoV8", "parameterType": "ENTITLEMENT", "statCycleId": "hbVfWQoD", "targetValue": 0.34517739573830153}, {"matcher": "GREATER_THAN", "parameterName": "kbVBvZSQ", "parameterType": "ACHIEVEMENT", "statCycleId": "kOVp9Dlj", "targetValue": 0.700836463658255}, {"matcher": "GREATER_THAN_EQUAL", "parameterName": "ls8X3Vdd", "parameterType": "STATISTIC", "statCycleId": "VjkNpQUH", "targetValue": 0.8666892492655771}]}], "rewards": [{"itemId": "5L9aIwht", "itemName": "x2eXw3FU", "qty": 0.16107154311036553, "type": "ENTITLEMENT"}, {"itemId": "0ITGzLCS", "itemName": "lQGXCsCk", "qty": 0.5339439280161113, "type": "ENTITLEMENT"}, {"itemId": "HjlIHRRE", "itemName": "42gmpvbK", "qty": 0.3101562238669262, "type": "ENTITLEMENT"}], "schedule": {"endTime": "1979-06-16T00:00:00Z", "order": 2, "startTime": "1979-11-14T00:00:00Z"}, "tags": ["OUPCRCai", "D498qvoN", "ZVLKHVKI"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateGoals \
    --challengeCode 'M5P8FviN' \
    --code 'vUlSawjN' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 12 'AdminUpdateGoals' test.out

#- 13 AdminDeleteGoal
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteGoal \
    --challengeCode 'sdMIvp9z' \
    --code 'wnSKoLIx' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 13 'AdminDeleteGoal' test.out

#- 14 AdminListSchedulesByGoal
$CLI_EXE \
    --sn challenge \
    --op AdminListSchedulesByGoal \
    --challengeCode '06EFQ2T8' \
    --code 'ihhZ4G15' \
    --namespace $AB_NAMESPACE \
    --limit '97' \
    --offset '96' \
    --userId 'mpFqMKTc' \
    > test.out 2>&1
eval_tap $? 14 'AdminListSchedulesByGoal' test.out

#- 15 AdminGetPeriods
$CLI_EXE \
    --sn challenge \
    --op AdminGetPeriods \
    --challengeCode 'PEubwFhF' \
    --namespace $AB_NAMESPACE \
    --limit '28' \
    --offset '20' \
    > test.out 2>&1
eval_tap $? 15 'AdminGetPeriods' test.out

#- 16 AdminRandomizeChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminRandomizeChallenge \
    --challengeCode 'gRluXamA' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 16 'AdminRandomizeChallenge' test.out

#- 17 AdminListSchedules
$CLI_EXE \
    --sn challenge \
    --op AdminListSchedules \
    --challengeCode 'stw0dbd7' \
    --namespace $AB_NAMESPACE \
    --dateTime '1972-12-11T00:00:00Z' \
    --limit '78' \
    --offset '76' \
    --userId 'YXeRhukh' \
    > test.out 2>&1
eval_tap $? 17 'AdminListSchedules' test.out

#- 18 AdminDeleteTiedChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteTiedChallenge \
    --challengeCode '2aAK7LAd' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 18 'AdminDeleteTiedChallenge' test.out

#- 19 AdminUpdateTiedChallengeSchedule
# body param: body
echo '{"action": "STOP", "endDate": "1978-05-30T00:00:00Z"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateTiedChallengeSchedule \
    --challengeCode 'f6rCUdS1' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 19 'AdminUpdateTiedChallengeSchedule' test.out

#- 20 AdminGetAssignmentPlugin
$CLI_EXE \
    --sn challenge \
    --op AdminGetAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 20 'AdminGetAssignmentPlugin' test.out

#- 21 AdminUpdateAssignmentPlugin
# body param: body
echo '{"appName": "fSyV7JFO", "extendType": "CUSTOM", "grpcServerAddress": "CzjKLUtd"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 21 'AdminUpdateAssignmentPlugin' test.out

#- 22 AdminCreateAssignmentPlugin
# body param: body
echo '{"appName": "uP1Cqklc", "extendType": "APP", "grpcServerAddress": "7gils43h"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminCreateAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 22 'AdminCreateAssignmentPlugin' test.out

#- 23 AdminDeleteAssignmentPlugin
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 23 'AdminDeleteAssignmentPlugin' test.out

#- 24 AdminEvaluateProgress
# body param: body
echo '{"userIds": ["mLyYaxlc", "6E5GLtYp", "bParhEtE"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminEvaluateProgress \
    --namespace $AB_NAMESPACE \
    --challengeCode '["lIX9bSQf", "MPz9k6mI", "Lms6wV1V"]' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 24 'AdminEvaluateProgress' test.out

#- 25 AdminClaimUsersRewards
# body param: body
echo '[{"rewardIds": ["29IXmrxs", "RKYqSr8j", "xSM3NHD8"], "userId": "01191RFr"}, {"rewardIds": ["ttUsIAKE", "szeGxW6d", "LNXHHCnq"], "userId": "nCHr3sEP"}, {"rewardIds": ["ibrar9RS", "l66fwI0j", "Z2JgS4kY"], "userId": "Y9BDrQhk"}]' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminClaimUsersRewards \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 25 'AdminClaimUsersRewards' test.out

#- 26 AdminClaimUserRewardsByGoalCode
# body param: body
echo '{"goalCode": "VbnFTeRW"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminClaimUserRewardsByGoalCode \
    --challengeCode 'nsx8PRaJ' \
    --namespace $AB_NAMESPACE \
    --userId 'Mgm38qN6' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 26 'AdminClaimUserRewardsByGoalCode' test.out

#- 27 AdminGetUserProgression
$CLI_EXE \
    --sn challenge \
    --op AdminGetUserProgression \
    --challengeCode 'KWNDOr93' \
    --namespace $AB_NAMESPACE \
    --userId 'TqJbmKaa' \
    --dateTime '1992-08-22T00:00:00Z' \
    --goalCode 'NlPiKFnZ' \
    --limit '74' \
    --offset '10' \
    --tags '["heatSMZO", "6EhtHgZb", "z0MgkyFd"]' \
    > test.out 2>&1
eval_tap $? 27 'AdminGetUserProgression' test.out

#- 28 AdminGetUserRewards
$CLI_EXE \
    --sn challenge \
    --op AdminGetUserRewards \
    --namespace $AB_NAMESPACE \
    --userId 'PQwlMbRF' \
    --challengeCode 'Pg9JjuPS' \
    --goalProgressionId 'VUujkGNL' \
    --limit '47' \
    --offset '22' \
    --sortBy 'updatedAt:desc' \
    --status 'UNCLAIMED' \
    > test.out 2>&1
eval_tap $? 28 'AdminGetUserRewards' test.out

#- 29 AdminClaimUserRewards
# body param: body
echo '{"rewardIDs": ["v15B5ghF", "NQn12wwl", "da8zdkz6"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminClaimUserRewards \
    --namespace $AB_NAMESPACE \
    --userId 'HxNLjMCE' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 29 'AdminClaimUserRewards' test.out

#- 30 GetChallenges
$CLI_EXE \
    --sn challenge \
    --op GetChallenges \
    --namespace $AB_NAMESPACE \
    --keyword 'BXbErhta' \
    --limit '1' \
    --offset '51' \
    --sortBy 'updatedAt:desc' \
    --status 'TIED' \
    --tags '["yTCLL3fp", "6IMltcRZ", "NwWyQkSL"]' \
    > test.out 2>&1
eval_tap $? 30 'GetChallenges' test.out

#- 31 PublicGetScheduledGoals
$CLI_EXE \
    --sn challenge \
    --op PublicGetScheduledGoals \
    --challengeCode 'GcX50apI' \
    --namespace $AB_NAMESPACE \
    --limit '45' \
    --offset '14' \
    --sortBy 'createdAt:asc' \
    --tags '["DhB2wobi", "ws5QD2PZ", "7FSKVAqx"]' \
    > test.out 2>&1
eval_tap $? 31 'PublicGetScheduledGoals' test.out

#- 32 PublicListSchedulesByGoal
$CLI_EXE \
    --sn challenge \
    --op PublicListSchedulesByGoal \
    --challengeCode 'f39zoIij' \
    --code '08iqiXiQ' \
    --namespace $AB_NAMESPACE \
    --limit '66' \
    --offset '59' \
    > test.out 2>&1
eval_tap $? 32 'PublicListSchedulesByGoal' test.out

#- 33 PublicListSchedules
$CLI_EXE \
    --sn challenge \
    --op PublicListSchedules \
    --challengeCode 'byrgnoKg' \
    --namespace $AB_NAMESPACE \
    --dateTime '1982-03-05T00:00:00Z' \
    --limit '64' \
    --offset '95' \
    > test.out 2>&1
eval_tap $? 33 'PublicListSchedules' test.out

#- 34 PublicClaimUserRewardsByGoalCode
# body param: body
echo '{"goalCode": "1fCWNKdF"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op PublicClaimUserRewardsByGoalCode \
    --challengeCode 'fgLteAxW' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 34 'PublicClaimUserRewardsByGoalCode' test.out

#- 35 EvaluateMyProgress
$CLI_EXE \
    --sn challenge \
    --op EvaluateMyProgress \
    --namespace $AB_NAMESPACE \
    --challengeCode '["5npYObhI", "KLxVk1OO", "Lva06XEP"]' \
    > test.out 2>&1
eval_tap $? 35 'EvaluateMyProgress' test.out

#- 36 PublicGetUserProgression
$CLI_EXE \
    --sn challenge \
    --op PublicGetUserProgression \
    --challengeCode 'S1cGVbsf' \
    --namespace $AB_NAMESPACE \
    --dateTime '1974-09-16T00:00:00Z' \
    --goalCode 'MWI9fkcS' \
    --limit '16' \
    --offset '91' \
    --tags '["B96fbxGH", "jZl2XLVX", "5vWaR7Go"]' \
    > test.out 2>&1
eval_tap $? 36 'PublicGetUserProgression' test.out

#- 37 PublicGetPastUserProgression
$CLI_EXE \
    --sn challenge \
    --op PublicGetPastUserProgression \
    --challengeCode 'ffor9ccj' \
    --index '97' \
    --namespace $AB_NAMESPACE \
    --goalCode 'MUU65bIn' \
    --limit '46' \
    --offset '97' \
    --tags '["BDTHQAEH", "uHpNFVH9", "Xs9y9aIP"]' \
    > test.out 2>&1
eval_tap $? 37 'PublicGetPastUserProgression' test.out

#- 38 PublicGetUserRewards
$CLI_EXE \
    --sn challenge \
    --op PublicGetUserRewards \
    --namespace $AB_NAMESPACE \
    --challengeCode 'UI9rxixP' \
    --goalProgressionId 'C3PjybQj' \
    --limit '35' \
    --offset '45' \
    --sortBy 'createdAt' \
    --status 'CLAIMED' \
    > test.out 2>&1
eval_tap $? 38 'PublicGetUserRewards' test.out

#- 39 PublicClaimUserRewards
# body param: body
echo '{"rewardIDs": ["3KGyWbbY", "ClO4Yoc0", "bGOW0nyb"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op PublicClaimUserRewards \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 39 'PublicClaimUserRewards' test.out


# remove artifacts
rm -f "$CLI_TOKEN_FILE"
rm -f "$TEMP_JSON_INPUT"
rm -f "$TEMP_FILE_UPLOAD"

exit $EXIT_CODE