#!/usr/bin/env bash

# Copyright (c) 2021 AccelByte Inc. All Rights Reserved.
# This is licensed software from AccelByte Inc, for limitations
# and restrictions contact your company contract manager.

# This code is generated by tool. DO NOT EDIT.

# Meta:
# - random seed: 
# - template file: 

# Instructions:
# - Run the Justice SDK Mock Server first before running this script.

export AB_BASE_URL="http://127.0.0.1:8080"
export AB_CLIENT_ID="admin"
export AB_CLIENT_SECRET="admin"
export AB_NAMESPACE="test"
export AB_APP_NAME="UnitTest"

EXIT_CODE=0

eval_tap() {
  if [ $1 -eq 0 ]; then
    echo "ok $2 - $3"
  else
    EXIT_CODE=1
    echo "not ok $2 - $3"
    sed 's/^/# /g' $4
  fi
  rm -f $4
}

CLI_EXE="AccelByte.Sdk.Sample.Cli"
CLI_TOKEN_FILE="$(dirname "$(which $CLI_EXE)")/token.json"
TEMP_JSON_INPUT="input_json.json"
TEMP_FILE_UPLOAD="file_upload.bin"

echo "TAP version 13"
echo "1..82"

#- 1 Login
$CLI_EXE --op login --lt user --user user --pass user > test.out 2>&1
eval_tap $? 1 'Login' test.out

if [ $EXIT_CODE -ne 0 ]; then
  echo "Bail out! Login failed."
  exit $EXIT_CODE
fi

# echo "foo" > "$CLI_TOKEN_FILE"

#- 2 ListConfig
$CLI_EXE \
    --sn dsmc \
    --op ListConfig \
    > test.out 2>&1
eval_tap $? 2 'ListConfig' test.out

#- 3 SaveConfig
eval_tap 0 3 'SaveConfig # SKIP deprecated' test.out

#- 4 UpdateImage
# body param: body
echo '{"artifactPath": "CCYpJK1Q", "coreDumpEnabled": true, "image": "9o9Lm87S", "imageReplicationsMap": {"cg6JSMiL": {"failure_code": "ikki8xBU", "region": "Mo0RlcDf", "status": "MWlw4Zgj", "uri": "0w3h2jg7"}, "fi8FfP7u": {"failure_code": "Ro1eESiM", "region": "n2z5T7AZ", "status": "3VDeHLeA", "uri": "YVHf3CT4"}, "Ib2vqzXi": {"failure_code": "3BKWD3ok", "region": "MmS8kaYC", "status": "zk2GDXFO", "uri": "0fioso6i"}}, "namespace": "0XPpzkCL", "patchVersion": "6Nu79eXw", "persistent": true, "version": "VlFe29fq"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateImage \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 4 'UpdateImage' test.out

#- 5 CreateImage
# body param: body
echo '{"artifactPath": "hvMZVKTB", "coreDumpEnabled": true, "dockerPath": "EhBGFnkQ", "image": "17zrgU6M", "imageSize": 50, "namespace": "tWFpbPJB", "persistent": false, "ulimitFileSize": 54, "version": "Rfjax0xl"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateImage \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 5 'CreateImage' test.out

#- 6 ImportImages
# form data upload: file
echo 'tmp.dat' > $TEMP_FILE_UPLOAD
$CLI_EXE \
    --sn dsmc \
    --op ImportImages \
    --upload file $TEMP_FILE_UPLOAD \
    > test.out 2>&1
eval_tap $? 6 'ImportImages' test.out

#- 7 CreateImagePatch
# body param: body
echo '{"artifactPath": "Fhu98I38", "coreDumpEnabled": true, "dockerPath": "lU1FrwXW", "image": "wE2BuYUq", "imageSize": 66, "namespace": "T15ZFBwg", "patchVersion": "6EwltaWG", "persistent": false, "ulimitFileSize": 62, "uploaderFlag": "pgClSnpu", "version": "qp7YqstQ"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateImagePatch \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 7 'CreateImagePatch' test.out

#- 8 GetLowestInstanceSpec
$CLI_EXE \
    --sn dsmc \
    --op GetLowestInstanceSpec \
    > test.out 2>&1
eval_tap $? 8 'GetLowestInstanceSpec' test.out

#- 9 GetConfig
$CLI_EXE \
    --sn dsmc \
    --op GetConfig \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 9 'GetConfig' test.out

#- 10 CreateConfig
# body param: body
echo '{"claim_timeout": 42, "creation_timeout": 26, "default_version": "PIpztF2Y", "port": 58, "ports": {"ci9jt5Pr": 15, "qHAnkPe7": 90, "cjHxi6RL": 18}, "protocol": "BXyCs8Pv", "providers": ["WXlvQB4p", "UQg7QoDo", "OHcnQXfW"], "session_timeout": 53, "unreachable_timeout": 71}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateConfig \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 10 'CreateConfig' test.out

#- 11 DeleteConfig
$CLI_EXE \
    --sn dsmc \
    --op DeleteConfig \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 11 'DeleteConfig' test.out

#- 12 UpdateConfig
# body param: body
echo '{"claim_timeout": 39, "creation_timeout": 5, "default_version": "RcQWU5fT", "port": 93, "protocol": "UuogRwJu", "providers": ["MsMMCz2M", "r2heFZYH", "ttEG6sb7"], "session_timeout": 41, "unreachable_timeout": 52}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateConfig \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 12 'UpdateConfig' test.out

#- 13 ClearCache
$CLI_EXE \
    --sn dsmc \
    --op ClearCache \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 13 'ClearCache' test.out

#- 14 GetAllDeployment
$CLI_EXE \
    --sn dsmc \
    --op GetAllDeployment \
    --namespace $AB_NAMESPACE \
    --name 'Lje4FQ5X' \
    --count '68' \
    --offset '3' \
    > test.out 2>&1
eval_tap $? 14 'GetAllDeployment' test.out

#- 15 GetDeployment
$CLI_EXE \
    --sn dsmc \
    --op GetDeployment \
    --deployment 'ybvAwXWB' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 15 'GetDeployment' test.out

#- 16 CreateDeployment
# body param: body
echo '{"allow_version_override": false, "buffer_count": 83, "buffer_percent": 73, "configuration": "ZXC14oLi", "enable_region_overrides": false, "extendable_session": true, "game_version": "FNKIWGKL", "max_count": 48, "min_count": 6, "overrides": {"lgYjM6yB": {"buffer_count": 19, "buffer_percent": 60, "configuration": "eiqsPK5s", "enable_region_overrides": false, "extendable_session": true, "game_version": "XYTQQSx4", "max_count": 1, "min_count": 46, "name": "cdzLzVfL", "region_overrides": {"ya62bj83": {"buffer_count": 85, "buffer_percent": 97, "max_count": 2, "min_count": 47, "name": "VtfymzHK", "unlimited": true, "use_buffer_percent": true}, "yG4WhI7q": {"buffer_count": 36, "buffer_percent": 11, "max_count": 50, "min_count": 75, "name": "d72lLhg1", "unlimited": true, "use_buffer_percent": true}, "IX3Rj6kO": {"buffer_count": 38, "buffer_percent": 40, "max_count": 99, "min_count": 83, "name": "ThmmQjH3", "unlimited": true, "use_buffer_percent": false}}, "regions": ["0xjMm5SN", "BRiQVwi9", "35b2WSNq"], "session_timeout": 71, "unlimited": true, "use_buffer_percent": true}, "6u3Ecz3X": {"buffer_count": 85, "buffer_percent": 6, "configuration": "BlY4s5bh", "enable_region_overrides": true, "extendable_session": true, "game_version": "GkHOY5m3", "max_count": 83, "min_count": 52, "name": "pEaRJ5C1", "region_overrides": {"wA6uSn6a": {"buffer_count": 14, "buffer_percent": 87, "max_count": 60, "min_count": 25, "name": "c7nsQMAs", "unlimited": true, "use_buffer_percent": false}, "B6d12upq": {"buffer_count": 65, "buffer_percent": 10, "max_count": 59, "min_count": 8, "name": "terPbWMC", "unlimited": true, "use_buffer_percent": false}, "NzogVSEm": {"buffer_count": 25, "buffer_percent": 69, "max_count": 58, "min_count": 35, "name": "gDA9wzIa", "unlimited": true, "use_buffer_percent": true}}, "regions": ["ctZ0p6Fc", "ekAWrx0c", "9MUqFFMA"], "session_timeout": 75, "unlimited": false, "use_buffer_percent": true}, "WspkZSgF": {"buffer_count": 24, "buffer_percent": 82, "configuration": "wbKU38JI", "enable_region_overrides": true, "extendable_session": true, "game_version": "pu9wRJeD", "max_count": 83, "min_count": 85, "name": "LTIrOCoy", "region_overrides": {"5rQs4IXg": {"buffer_count": 18, "buffer_percent": 70, "max_count": 60, "min_count": 10, "name": "kezaUV7u", "unlimited": true, "use_buffer_percent": true}, "9pTCiPx7": {"buffer_count": 43, "buffer_percent": 16, "max_count": 9, "min_count": 67, "name": "O2FQ1ID2", "unlimited": false, "use_buffer_percent": true}, "RHEdAGhv": {"buffer_count": 39, "buffer_percent": 97, "max_count": 37, "min_count": 14, "name": "Levfwzjs", "unlimited": true, "use_buffer_percent": true}}, "regions": ["TZedL8wG", "ijThEGLA", "Bc3lgvJY"], "session_timeout": 4, "unlimited": false, "use_buffer_percent": false}}, "region_overrides": {"Q441ByCj": {"buffer_count": 88, "buffer_percent": 87, "max_count": 96, "min_count": 78, "name": "v0j9mx7Z", "unlimited": false, "use_buffer_percent": true}, "IKDw80W6": {"buffer_count": 50, "buffer_percent": 85, "max_count": 30, "min_count": 9, "name": "63Pc3Bkh", "unlimited": true, "use_buffer_percent": false}, "zSwqh8tl": {"buffer_count": 35, "buffer_percent": 9, "max_count": 50, "min_count": 96, "name": "12mNXsbp", "unlimited": false, "use_buffer_percent": false}}, "regions": ["Eda2N2DX", "hId1LqNY", "6KdNaX1A"], "session_timeout": 58, "unlimited": false, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateDeployment \
    --deployment 'v1PauMcq' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 16 'CreateDeployment' test.out

#- 17 DeleteDeployment
$CLI_EXE \
    --sn dsmc \
    --op DeleteDeployment \
    --deployment 'GfujmHCm' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 17 'DeleteDeployment' test.out

#- 18 UpdateDeployment
# body param: body
echo '{"allow_version_override": true, "buffer_count": 55, "buffer_percent": 58, "configuration": "jm7wsSbb", "enable_region_overrides": false, "extendable_session": true, "game_version": "Gf2I5dmy", "max_count": 54, "min_count": 45, "regions": ["lDKjkRvp", "5kdEexZH", "GjtQIsJn"], "session_timeout": 20, "unlimited": true, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateDeployment \
    --deployment 'iaHJTKBy' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 18 'UpdateDeployment' test.out

#- 19 CreateRootRegionOverride
# body param: body
echo '{"buffer_count": 18, "buffer_percent": 72, "max_count": 0, "min_count": 89, "unlimited": false, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateRootRegionOverride \
    --deployment 'LGEbLKp7' \
    --namespace $AB_NAMESPACE \
    --region 'D73bR5tf' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 19 'CreateRootRegionOverride' test.out

#- 20 DeleteRootRegionOverride
$CLI_EXE \
    --sn dsmc \
    --op DeleteRootRegionOverride \
    --deployment '0fu26pjE' \
    --namespace $AB_NAMESPACE \
    --region 'I3FOdY4z' \
    > test.out 2>&1
eval_tap $? 20 'DeleteRootRegionOverride' test.out

#- 21 UpdateRootRegionOverride
# body param: body
echo '{"buffer_count": 4, "buffer_percent": 68, "max_count": 99, "min_count": 50, "unlimited": true, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateRootRegionOverride \
    --deployment 'Yccnk0rK' \
    --namespace $AB_NAMESPACE \
    --region 'sElcwegt' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 21 'UpdateRootRegionOverride' test.out

#- 22 CreateDeploymentOverride
# body param: body
echo '{"buffer_count": 38, "buffer_percent": 34, "configuration": "eKu7Li3P", "enable_region_overrides": true, "extendable_session": false, "game_version": "zRqCAs36", "max_count": 93, "min_count": 26, "region_overrides": {"qaIAbR6z": {"buffer_count": 52, "buffer_percent": 43, "max_count": 79, "min_count": 100, "name": "oPCbvBg8", "unlimited": false, "use_buffer_percent": false}, "T5vDNBWF": {"buffer_count": 86, "buffer_percent": 68, "max_count": 27, "min_count": 84, "name": "K7YvhDtl", "unlimited": false, "use_buffer_percent": false}, "ixV0eHEt": {"buffer_count": 63, "buffer_percent": 55, "max_count": 70, "min_count": 12, "name": "B3h8izmo", "unlimited": false, "use_buffer_percent": false}}, "regions": ["rWYw5Swv", "Gk003Ay9", "33u1RBTb"], "session_timeout": 69, "unlimited": true, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateDeploymentOverride \
    --deployment 'j1xoGvd1' \
    --namespace $AB_NAMESPACE \
    --version '5vDlDjrx' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 22 'CreateDeploymentOverride' test.out

#- 23 DeleteDeploymentOverride
$CLI_EXE \
    --sn dsmc \
    --op DeleteDeploymentOverride \
    --deployment 'vLKSdJoA' \
    --namespace $AB_NAMESPACE \
    --version '7N0cloz5' \
    > test.out 2>&1
eval_tap $? 23 'DeleteDeploymentOverride' test.out

#- 24 UpdateDeploymentOverride
# body param: body
echo '{"buffer_count": 37, "buffer_percent": 80, "configuration": "Qhr4IBaU", "enable_region_overrides": true, "game_version": "NHnieLqk", "max_count": 40, "min_count": 2, "regions": ["IMJGHCRi", "df5rfrdg", "jiykkBXh"], "session_timeout": 99, "unlimited": false, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateDeploymentOverride \
    --deployment 'Tz5LEZNT' \
    --namespace $AB_NAMESPACE \
    --version 'G8F294mW' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 24 'UpdateDeploymentOverride' test.out

#- 25 CreateOverrideRegionOverride
# body param: body
echo '{"buffer_count": 10, "buffer_percent": 8, "max_count": 11, "min_count": 69, "unlimited": false, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateOverrideRegionOverride \
    --deployment 'WIIpho1B' \
    --namespace $AB_NAMESPACE \
    --region 'JAprSiRD' \
    --version 'DGRvCVfe' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 25 'CreateOverrideRegionOverride' test.out

#- 26 DeleteOverrideRegionOverride
$CLI_EXE \
    --sn dsmc \
    --op DeleteOverrideRegionOverride \
    --deployment 'gXJNu8Yi' \
    --namespace $AB_NAMESPACE \
    --region 'XHa1ikaa' \
    --version 'SCSlbBms' \
    > test.out 2>&1
eval_tap $? 26 'DeleteOverrideRegionOverride' test.out

#- 27 UpdateOverrideRegionOverride
# body param: body
echo '{"buffer_count": 50, "buffer_percent": 12, "max_count": 9, "min_count": 32, "unlimited": false, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateOverrideRegionOverride \
    --deployment 'mZ5Ezuu8' \
    --namespace $AB_NAMESPACE \
    --region 'Tul3X9pR' \
    --version 'IFAw0vKp' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 27 'UpdateOverrideRegionOverride' test.out

#- 28 GetAllPodConfig
$CLI_EXE \
    --sn dsmc \
    --op GetAllPodConfig \
    --namespace $AB_NAMESPACE \
    --count '70' \
    --offset '9' \
    > test.out 2>&1
eval_tap $? 28 'GetAllPodConfig' test.out

#- 29 GetPodConfig
$CLI_EXE \
    --sn dsmc \
    --op GetPodConfig \
    --name 'LUAKpNPQ' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 29 'GetPodConfig' test.out

#- 30 CreatePodConfig
# body param: body
echo '{"cpu_limit": 5, "mem_limit": 42, "params": "N5PghMyT"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreatePodConfig \
    --name 'J4kujr4D' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 30 'CreatePodConfig' test.out

#- 31 DeletePodConfig
$CLI_EXE \
    --sn dsmc \
    --op DeletePodConfig \
    --name 'npAYQWKm' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 31 'DeletePodConfig' test.out

#- 32 UpdatePodConfig
# body param: body
echo '{"cpu_limit": 78, "mem_limit": 71, "name": "eXCcdmbX", "params": "74rw1M4S"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdatePodConfig \
    --name 'IdB7BDl0' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 32 'UpdatePodConfig' test.out

#- 33 AddPort
# body param: body
echo '{"port": 32}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op AddPort \
    --name 'RNSuDXPO' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 33 'AddPort' test.out

#- 34 DeletePort
$CLI_EXE \
    --sn dsmc \
    --op DeletePort \
    --name '1PUGzvZR' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 34 'DeletePort' test.out

#- 35 UpdatePort
# body param: body
echo '{"name": "xIs8uyCv", "port": 0}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdatePort \
    --name 'Xa4slzPS' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 35 'UpdatePort' test.out

#- 36 ListImages
$CLI_EXE \
    --sn dsmc \
    --op ListImages \
    --namespace $AB_NAMESPACE \
    --q 'T2OBf4Pg' \
    --sortBy 'updatedAt' \
    --sortDirection 'asc' \
    --count '7' \
    --offset '53' \
    > test.out 2>&1
eval_tap $? 36 'ListImages' test.out

#- 37 DeleteImage
$CLI_EXE \
    --sn dsmc \
    --op DeleteImage \
    --namespace $AB_NAMESPACE \
    --imageURI 'kNfLtYmR' \
    --version 'vViRaLIQ' \
    > test.out 2>&1
eval_tap $? 37 'DeleteImage' test.out

#- 38 ExportImages
$CLI_EXE \
    --sn dsmc \
    --op ExportImages \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 38 'ExportImages' test.out

#- 39 GetImageLimit
$CLI_EXE \
    --sn dsmc \
    --op GetImageLimit \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 39 'GetImageLimit' test.out

#- 40 DeleteImagePatch
$CLI_EXE \
    --sn dsmc \
    --op DeleteImagePatch \
    --namespace $AB_NAMESPACE \
    --imageURI 'RrX5boIc' \
    --version '1y7cKJFK' \
    --versionPatch 'S9AY2KsQ' \
    > test.out 2>&1
eval_tap $? 40 'DeleteImagePatch' test.out

#- 41 GetImageDetail
$CLI_EXE \
    --sn dsmc \
    --op GetImageDetail \
    --namespace $AB_NAMESPACE \
    --version 'jQsdU3Dy' \
    > test.out 2>&1
eval_tap $? 41 'GetImageDetail' test.out

#- 42 GetImagePatches
$CLI_EXE \
    --sn dsmc \
    --op GetImagePatches \
    --namespace $AB_NAMESPACE \
    --version 'OUu7hhkm' \
    > test.out 2>&1
eval_tap $? 42 'GetImagePatches' test.out

#- 43 GetImagePatchDetail
$CLI_EXE \
    --sn dsmc \
    --op GetImagePatchDetail \
    --namespace $AB_NAMESPACE \
    --version 'OsCkaNYM' \
    --versionPatch 'c8E41iwE' \
    > test.out 2>&1
eval_tap $? 43 'GetImagePatchDetail' test.out

#- 44 GetRepository
$CLI_EXE \
    --sn dsmc \
    --op GetRepository \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 44 'GetRepository' test.out

#- 45 ListServer
$CLI_EXE \
    --sn dsmc \
    --op ListServer \
    --namespace $AB_NAMESPACE \
    --region 'X8FsH14f' \
    --count '35' \
    --offset '9' \
    > test.out 2>&1
eval_tap $? 45 'ListServer' test.out

#- 46 CountServer
$CLI_EXE \
    --sn dsmc \
    --op CountServer \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 46 'CountServer' test.out

#- 47 CountServerDetailed
$CLI_EXE \
    --sn dsmc \
    --op CountServerDetailed \
    --namespace $AB_NAMESPACE \
    --region 'Q3dXkeq3' \
    > test.out 2>&1
eval_tap $? 47 'CountServerDetailed' test.out

#- 48 ListLocalServer
$CLI_EXE \
    --sn dsmc \
    --op ListLocalServer \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 48 'ListLocalServer' test.out

#- 49 DeleteLocalServer
$CLI_EXE \
    --sn dsmc \
    --op DeleteLocalServer \
    --name 'NgiQB6ju' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 49 'DeleteLocalServer' test.out

#- 50 GetServer
$CLI_EXE \
    --sn dsmc \
    --op GetServer \
    --namespace $AB_NAMESPACE \
    --podName 'OuO00H4O' \
    > test.out 2>&1
eval_tap $? 50 'GetServer' test.out

#- 51 DeleteServer
$CLI_EXE \
    --sn dsmc \
    --op DeleteServer \
    --namespace $AB_NAMESPACE \
    --podName '7tkHi0KQ' \
    > test.out 2>&1
eval_tap $? 51 'DeleteServer' test.out

#- 52 ListSession
$CLI_EXE \
    --sn dsmc \
    --op ListSession \
    --namespace $AB_NAMESPACE \
    --region 'UAtEdymT' \
    --withServer 'true' \
    --count '93' \
    --offset '20' \
    > test.out 2>&1
eval_tap $? 52 'ListSession' test.out

#- 53 CountSession
$CLI_EXE \
    --sn dsmc \
    --op CountSession \
    --namespace $AB_NAMESPACE \
    --region '47aUjbYT' \
    > test.out 2>&1
eval_tap $? 53 'CountSession' test.out

#- 54 DeleteSession
$CLI_EXE \
    --sn dsmc \
    --op DeleteSession \
    --namespace $AB_NAMESPACE \
    --sessionID 'EII12gP7' \
    > test.out 2>&1
eval_tap $? 54 'DeleteSession' test.out

#- 55 CreateRepository
# body param: body
echo '{"namespace": "waVbZ8cq", "repository": "Gl3a6dUB"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateRepository \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 55 'CreateRepository' test.out

#- 56 ExportConfigV1
$CLI_EXE \
    --sn dsmc \
    --op ExportConfigV1 \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 56 'ExportConfigV1' test.out

#- 57 ImportConfigV1
# form data upload: file
echo 'tmp.dat' > $TEMP_FILE_UPLOAD
$CLI_EXE \
    --sn dsmc \
    --op ImportConfigV1 \
    --namespace $AB_NAMESPACE \
    --upload file $TEMP_FILE_UPLOAD \
    > test.out 2>&1
eval_tap $? 57 'ImportConfigV1' test.out

#- 58 GetAllDeploymentClient
$CLI_EXE \
    --sn dsmc \
    --op GetAllDeploymentClient \
    --namespace $AB_NAMESPACE \
    --name 'ePuPfRpO' \
    --count '50' \
    --offset '7' \
    > test.out 2>&1
eval_tap $? 58 'GetAllDeploymentClient' test.out

#- 59 CreateDeploymentClient
# body param: body
echo '{"allow_version_override": false, "buffer_count": 5, "buffer_percent": 9, "configuration": "SSrE5mRR", "enable_region_overrides": true, "extendable_session": false, "game_version": "hCsclmsW", "max_count": 75, "min_count": 30, "overrides": {"gYLW2GeV": {"buffer_count": 96, "buffer_percent": 91, "configuration": "6LbklLfZ", "enable_region_overrides": true, "extendable_session": false, "game_version": "IP28dC4W", "max_count": 68, "min_count": 46, "name": "gSjd9weF", "region_overrides": {"MfaQMSW8": {"buffer_count": 56, "buffer_percent": 3, "max_count": 34, "min_count": 70, "name": "lK76SNmC", "unlimited": true, "use_buffer_percent": true}, "Q5zZRD3y": {"buffer_count": 86, "buffer_percent": 80, "max_count": 38, "min_count": 30, "name": "O3rzpDDo", "unlimited": false, "use_buffer_percent": false}, "OcFBRiEj": {"buffer_count": 28, "buffer_percent": 83, "max_count": 2, "min_count": 29, "name": "PMo5hkj5", "unlimited": false, "use_buffer_percent": false}}, "regions": ["7HK5RN0Q", "E8xxUXML", "IdXtBcDT"], "session_timeout": 54, "unlimited": false, "use_buffer_percent": true}, "XXcpAjeD": {"buffer_count": 50, "buffer_percent": 42, "configuration": "KRWcvvEi", "enable_region_overrides": true, "extendable_session": false, "game_version": "ZV2QKllr", "max_count": 97, "min_count": 17, "name": "FzggDyNQ", "region_overrides": {"pMgg1mFk": {"buffer_count": 42, "buffer_percent": 57, "max_count": 95, "min_count": 98, "name": "I2suCGRU", "unlimited": false, "use_buffer_percent": true}, "o2hDAL4Z": {"buffer_count": 96, "buffer_percent": 62, "max_count": 0, "min_count": 80, "name": "xV1DEsZK", "unlimited": true, "use_buffer_percent": false}, "QiWeQG56": {"buffer_count": 9, "buffer_percent": 81, "max_count": 60, "min_count": 17, "name": "S9IqPjs6", "unlimited": true, "use_buffer_percent": false}}, "regions": ["YCnIDgsa", "8JeULHwv", "dVnITWZ1"], "session_timeout": 23, "unlimited": true, "use_buffer_percent": false}, "Z3mXCa6M": {"buffer_count": 87, "buffer_percent": 82, "configuration": "VkXveQGt", "enable_region_overrides": false, "extendable_session": true, "game_version": "EdmZPWSJ", "max_count": 41, "min_count": 49, "name": "d2vPc1wK", "region_overrides": {"pvORFefH": {"buffer_count": 69, "buffer_percent": 30, "max_count": 98, "min_count": 83, "name": "utsT7fcx", "unlimited": true, "use_buffer_percent": false}, "f2h74vUK": {"buffer_count": 92, "buffer_percent": 20, "max_count": 94, "min_count": 95, "name": "ZQ5ZdMcT", "unlimited": true, "use_buffer_percent": false}, "8CmBLdPb": {"buffer_count": 62, "buffer_percent": 91, "max_count": 12, "min_count": 42, "name": "vYJoOkbX", "unlimited": true, "use_buffer_percent": true}}, "regions": ["bRH6yTw0", "y2Pge7hK", "FEtYOzwR"], "session_timeout": 67, "unlimited": false, "use_buffer_percent": false}}, "region_overrides": {"HNKKVt87": {"buffer_count": 39, "buffer_percent": 33, "max_count": 57, "min_count": 35, "name": "XxySPB3U", "unlimited": true, "use_buffer_percent": false}, "4qmiCF7t": {"buffer_count": 67, "buffer_percent": 54, "max_count": 22, "min_count": 84, "name": "sSH4HoY7", "unlimited": false, "use_buffer_percent": true}, "0ChPvocr": {"buffer_count": 8, "buffer_percent": 76, "max_count": 82, "min_count": 84, "name": "uV5Ah8II", "unlimited": true, "use_buffer_percent": true}}, "regions": ["mfoxqqp8", "cFi9WsWf", "ibXL7mQE"], "session_timeout": 15, "unlimited": true, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateDeploymentClient \
    --deployment 'f8n0p4OI' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 59 'CreateDeploymentClient' test.out

#- 60 DeleteDeploymentClient
$CLI_EXE \
    --sn dsmc \
    --op DeleteDeploymentClient \
    --deployment 'y8jpuYzd' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 60 'DeleteDeploymentClient' test.out

#- 61 GetAllPodConfigClient
$CLI_EXE \
    --sn dsmc \
    --op GetAllPodConfigClient \
    --namespace $AB_NAMESPACE \
    --count '78' \
    --offset '45' \
    > test.out 2>&1
eval_tap $? 61 'GetAllPodConfigClient' test.out

#- 62 CreatePodConfigClient
# body param: body
echo '{"cpu_limit": 70, "mem_limit": 34, "params": "ZeXIhdyF"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreatePodConfigClient \
    --name 'ivXFBytO' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 62 'CreatePodConfigClient' test.out

#- 63 DeletePodConfigClient
$CLI_EXE \
    --sn dsmc \
    --op DeletePodConfigClient \
    --name 'UgvC7TYA' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 63 'DeletePodConfigClient' test.out

#- 64 ListImagesClient
$CLI_EXE \
    --sn dsmc \
    --op ListImagesClient \
    --namespace $AB_NAMESPACE \
    --count '77' \
    --offset '38' \
    --q 'rophB8Ui' \
    --sortBy 'updatedAt' \
    --sortDirection 'asc' \
    > test.out 2>&1
eval_tap $? 64 'ListImagesClient' test.out

#- 65 ImageLimitClient
$CLI_EXE \
    --sn dsmc \
    --op ImageLimitClient \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 65 'ImageLimitClient' test.out

#- 66 ImageDetailClient
$CLI_EXE \
    --sn dsmc \
    --op ImageDetailClient \
    --namespace $AB_NAMESPACE \
    --version 'tR6DXyRl' \
    > test.out 2>&1
eval_tap $? 66 'ImageDetailClient' test.out

#- 67 ListServerClient
$CLI_EXE \
    --sn dsmc \
    --op ListServerClient \
    --namespace $AB_NAMESPACE \
    --region 'dCR0zZjO' \
    --count '84' \
    --offset '71' \
    > test.out 2>&1
eval_tap $? 67 'ListServerClient' test.out

#- 68 ServerHeartbeat
# body param: body
echo '{"podName": "BObQdhT5"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op ServerHeartbeat \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 68 'ServerHeartbeat' test.out

#- 69 DeregisterLocalServer
# body param: body
echo '{"name": "AAbyA2nk"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op DeregisterLocalServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 69 'DeregisterLocalServer' test.out

#- 70 RegisterLocalServer
# body param: body
echo '{"custom_attribute": "zfCmaMgu", "ip": "GnIjoKcq", "name": "hV16QTWV", "port": 17}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op RegisterLocalServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 70 'RegisterLocalServer' test.out

#- 71 RegisterServer
# body param: body
echo '{"custom_attribute": "p0WTJlSa", "pod_name": "qrxW1nF1"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op RegisterServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 71 'RegisterServer' test.out

#- 72 ShutdownServer
# body param: body
echo '{"kill_me": true, "pod_name": "rEE2zGQz"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op ShutdownServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 72 'ShutdownServer' test.out

#- 73 GetServerSessionTimeout
$CLI_EXE \
    --sn dsmc \
    --op GetServerSessionTimeout \
    --namespace $AB_NAMESPACE \
    --podName '78D1qTXN' \
    > test.out 2>&1
eval_tap $? 73 'GetServerSessionTimeout' test.out

#- 74 GetServerSession
$CLI_EXE \
    --sn dsmc \
    --op GetServerSession \
    --namespace $AB_NAMESPACE \
    --podName 'y3Dphqsi' \
    > test.out 2>&1
eval_tap $? 74 'GetServerSession' test.out

#- 75 CreateSession
# body param: body
echo '{"client_version": "XoiXedND", "configuration": "JR3yM97V", "deployment": "fLovfNKW", "game_mode": "SMkG4HdR", "matching_allies": [{"matching_parties": [{"party_attributes": {"xpBjhgpU": {}, "UOBQ28uC": {}, "ttbT2o7q": {}}, "party_id": "8uuqBi0k", "party_members": [{"user_id": "gr0GlEyY"}, {"user_id": "n3Ka54wR"}, {"user_id": "BWsyoxvO"}]}, {"party_attributes": {"dAs5jqiv": {}, "APYP7udy": {}, "9af14DqX": {}}, "party_id": "oVCtvyL9", "party_members": [{"user_id": "pho65STU"}, {"user_id": "LWB5HaeG"}, {"user_id": "6iq8KYYM"}]}, {"party_attributes": {"Ygpglx98": {}, "vmgEf4YM": {}, "aOdOfhWC": {}}, "party_id": "qeTKsH7x", "party_members": [{"user_id": "Qq6xCrho"}, {"user_id": "mszOdzEF"}, {"user_id": "ZjaCxORK"}]}]}, {"matching_parties": [{"party_attributes": {"hbuBAely": {}, "BmG8Xndn": {}, "RpQYrcCP": {}}, "party_id": "JkNVCyeE", "party_members": [{"user_id": "kIAUSsVE"}, {"user_id": "VwijceCN"}, {"user_id": "Bb6cpp3e"}]}, {"party_attributes": {"8hD47d1o": {}, "mq1uymOX": {}, "B4GYhMBt": {}}, "party_id": "wNBrXQIQ", "party_members": [{"user_id": "Wze5lixw"}, {"user_id": "2OW1ajDN"}, {"user_id": "6rqzPSmf"}]}, {"party_attributes": {"tQzrpVaN": {}, "JSVYc2BR": {}, "xdcVvPWo": {}}, "party_id": "nzi6GGx6", "party_members": [{"user_id": "7uncYJ7s"}, {"user_id": "QeJDcoQg"}, {"user_id": "BPHKU88T"}]}]}, {"matching_parties": [{"party_attributes": {"rq6xroQw": {}, "hhErtDcW": {}, "D8psXQ9i": {}}, "party_id": "P95BzJGz", "party_members": [{"user_id": "613U0diA"}, {"user_id": "02ZBJ7f5"}, {"user_id": "eGnpmkHy"}]}, {"party_attributes": {"g5AneWrc": {}, "3fI6ar4m": {}, "Iccmzpos": {}}, "party_id": "nhiN5g57", "party_members": [{"user_id": "YO8f6wdP"}, {"user_id": "oLZpSPLW"}, {"user_id": "x8p7gV2Y"}]}, {"party_attributes": {"uV9nhwOy": {}, "oAnZP1If": {}, "rlgXSEJL": {}}, "party_id": "d9vQQ2Q4", "party_members": [{"user_id": "6DjfzkRR"}, {"user_id": "a9CxHGnP"}, {"user_id": "t786eF8i"}]}]}], "namespace": "ADrByfYU", "notification_payload": {}, "pod_name": "oe6mG59q", "region": "WjIAfJv0", "session_id": "n2EO4T6L"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateSession \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 75 'CreateSession' test.out

#- 76 ClaimServer
# body param: body
echo '{"session_id": "akODARuJ"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op ClaimServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 76 'ClaimServer' test.out

#- 77 GetSession
$CLI_EXE \
    --sn dsmc \
    --op GetSession \
    --namespace $AB_NAMESPACE \
    --sessionID 'Oqxv5ah0' \
    > test.out 2>&1
eval_tap $? 77 'GetSession' test.out

#- 78 CancelSession
$CLI_EXE \
    --sn dsmc \
    --op CancelSession \
    --namespace $AB_NAMESPACE \
    --sessionID 'oV4b3RaZ' \
    > test.out 2>&1
eval_tap $? 78 'CancelSession' test.out

#- 79 GetDefaultProvider
$CLI_EXE \
    --sn dsmc \
    --op GetDefaultProvider \
    > test.out 2>&1
eval_tap $? 79 'GetDefaultProvider' test.out

#- 80 ListProviders
$CLI_EXE \
    --sn dsmc \
    --op ListProviders \
    > test.out 2>&1
eval_tap $? 80 'ListProviders' test.out

#- 81 ListProvidersByRegion
$CLI_EXE \
    --sn dsmc \
    --op ListProvidersByRegion \
    --region 'KFnmlJLc' \
    > test.out 2>&1
eval_tap $? 81 'ListProvidersByRegion' test.out

#- 82 PublicGetMessages
$CLI_EXE \
    --sn dsmc \
    --op PublicGetMessages \
    > test.out 2>&1
eval_tap $? 82 'PublicGetMessages' test.out


# remove artifacts
rm -f "$CLI_TOKEN_FILE"
rm -f "$TEMP_JSON_INPUT"
rm -f "$TEMP_FILE_UPLOAD"

exit $EXIT_CODE