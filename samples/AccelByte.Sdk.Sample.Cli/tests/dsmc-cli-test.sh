#!/usr/bin/env bash

# Copyright (c) 2021 AccelByte Inc. All Rights Reserved.
# This is licensed software from AccelByte Inc, for limitations
# and restrictions contact your company contract manager.

# This code is generated by tool. DO NOT EDIT.

# Meta:
# - random seed: 
# - template file: 

# Instructions:
# - Run the Justice SDK Mock Server first before running this script.

export AB_BASE_URL="http://127.0.0.1:8080"
export AB_CLIENT_ID="admin"
export AB_CLIENT_SECRET="admin"
export AB_NAMESPACE="test"
export AB_APP_NAME="UnitTest"

EXIT_CODE=0

eval_tap() {
  if [ $1 -eq 0 ]; then
    echo "ok $2 - $3"
  else
    EXIT_CODE=1
    echo "not ok $2 - $3"
    sed 's/^/# /g' $4
  fi
  rm -f $4
}

CLI_EXE="AccelByte.Sdk.Sample.Cli"
CLI_TOKEN_FILE="$(dirname "$(which $CLI_EXE)")/token.json"
TEMP_JSON_INPUT="input_json.json"
TEMP_FILE_UPLOAD="file_upload.bin"

echo "TAP version 13"
echo "1..82"

#- 1 Login
$CLI_EXE --op login --lt user --user user --pass user > test.out 2>&1
eval_tap $? 1 'Login' test.out

if [ $EXIT_CODE -ne 0 ]; then
  echo "Bail out! Login failed."
  exit $EXIT_CODE
fi

# echo "foo" > "$CLI_TOKEN_FILE"

#- 2 ListConfig
$CLI_EXE \
    --sn dsmc \
    --op ListConfig \
    > test.out 2>&1
eval_tap $? 2 'ListConfig' test.out

#- 3 SaveConfig
eval_tap 0 3 'SaveConfig # SKIP deprecated' test.out

#- 4 UpdateImage
# body param: body
echo '{"artifactPath": "wBfsz7eu", "coreDumpEnabled": true, "image": "kthKT1D0", "imageReplicationsMap": {"DLzHffDI": {"failure_code": "qOhyp3R1", "region": "Rf2zJO8q", "status": "1dTGRxFi", "uri": "QmThB85L"}, "DamrxU4D": {"failure_code": "fH4iAyVa", "region": "ZF1itKKk", "status": "jk44HaUL", "uri": "NrFZqrOu"}, "LXAtVyCZ": {"failure_code": "yvXebar5", "region": "QWcPxAe5", "status": "xz45K6Le", "uri": "ehLfuJ9g"}}, "namespace": "wJq3XvBd", "patchVersion": "habubGV6", "persistent": false, "version": "bThgQsYd"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateImage \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 4 'UpdateImage' test.out

#- 5 CreateImage
# body param: body
echo '{"artifactPath": "Mz6oOoSp", "coreDumpEnabled": true, "dockerPath": "SNOa4ddu", "image": "Palv8Ltn", "imageSize": 75, "namespace": "qI6QR9MF", "persistent": true, "ulimitFileSize": 100, "version": "gPaOK8qW"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateImage \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 5 'CreateImage' test.out

#- 6 ImportImages
# form data upload: file
echo 'tmp.dat' > $TEMP_FILE_UPLOAD
$CLI_EXE \
    --sn dsmc \
    --op ImportImages \
    --upload file $TEMP_FILE_UPLOAD \
    > test.out 2>&1
eval_tap $? 6 'ImportImages' test.out

#- 7 CreateImagePatch
# body param: body
echo '{"artifactPath": "ybVoSqCm", "coreDumpEnabled": true, "dockerPath": "rrtYeT5y", "image": "SUsNhI7F", "imageSize": 75, "namespace": "StBOhwWH", "patchVersion": "iZ4ENi7Y", "persistent": true, "ulimitFileSize": 92, "uploaderFlag": "5qNT2epm", "version": "NBAoED4D"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateImagePatch \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 7 'CreateImagePatch' test.out

#- 8 GetLowestInstanceSpec
$CLI_EXE \
    --sn dsmc \
    --op GetLowestInstanceSpec \
    > test.out 2>&1
eval_tap $? 8 'GetLowestInstanceSpec' test.out

#- 9 GetConfig
$CLI_EXE \
    --sn dsmc \
    --op GetConfig \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 9 'GetConfig' test.out

#- 10 CreateConfig
# body param: body
echo '{"claim_timeout": 21, "creation_timeout": 72, "default_version": "EGVXyBNP", "port": 62, "ports": {"dvFzOggI": 10, "WCZ9SCsW": 8, "7yUhFIKM": 45}, "protocol": "AX6ztqNM", "providers": ["0D86bXTs", "g5lkvWlW", "D66eQwT8"], "session_timeout": 90, "unreachable_timeout": 66}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateConfig \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 10 'CreateConfig' test.out

#- 11 DeleteConfig
$CLI_EXE \
    --sn dsmc \
    --op DeleteConfig \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 11 'DeleteConfig' test.out

#- 12 UpdateConfig
# body param: body
echo '{"claim_timeout": 53, "creation_timeout": 95, "default_version": "gSc5nUPU", "port": 17, "protocol": "e4czCwio", "providers": ["n8a9VJJL", "CL9YuXBf", "Bn9mhHB5"], "session_timeout": 28, "unreachable_timeout": 8}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateConfig \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 12 'UpdateConfig' test.out

#- 13 ClearCache
$CLI_EXE \
    --sn dsmc \
    --op ClearCache \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 13 'ClearCache' test.out

#- 14 GetAllDeployment
$CLI_EXE \
    --sn dsmc \
    --op GetAllDeployment \
    --namespace $AB_NAMESPACE \
    --name 'ibnJuURn' \
    --count '23' \
    --offset '19' \
    > test.out 2>&1
eval_tap $? 14 'GetAllDeployment' test.out

#- 15 GetDeployment
$CLI_EXE \
    --sn dsmc \
    --op GetDeployment \
    --deployment '32OiUusg' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 15 'GetDeployment' test.out

#- 16 CreateDeployment
# body param: body
echo '{"allow_version_override": true, "buffer_count": 15, "buffer_percent": 14, "configuration": "HSRBhezK", "enable_region_overrides": true, "extendable_session": false, "game_version": "XduGiX9c", "max_count": 30, "min_count": 44, "overrides": {"4UMQxxf3": {"buffer_count": 60, "buffer_percent": 68, "configuration": "TjM98ER4", "enable_region_overrides": false, "extendable_session": true, "game_version": "LgjK4fg8", "max_count": 7, "min_count": 89, "name": "qcjpxnaK", "region_overrides": {"UTufdOaC": {"buffer_count": 12, "buffer_percent": 84, "max_count": 50, "min_count": 1, "name": "iPUUIrjY", "unlimited": true, "use_buffer_percent": true}, "SmpVEvvS": {"buffer_count": 80, "buffer_percent": 8, "max_count": 94, "min_count": 31, "name": "6AsqTbw8", "unlimited": true, "use_buffer_percent": false}, "LsksR6vX": {"buffer_count": 30, "buffer_percent": 6, "max_count": 71, "min_count": 61, "name": "YBrAeM3p", "unlimited": true, "use_buffer_percent": false}}, "regions": ["4aAiy6wJ", "zrwIpbcg", "22b5Ze2w"], "session_timeout": 42, "unlimited": false, "use_buffer_percent": true}, "rg3ljDAr": {"buffer_count": 36, "buffer_percent": 45, "configuration": "JUWZhpFh", "enable_region_overrides": false, "extendable_session": true, "game_version": "T9tmVGGr", "max_count": 13, "min_count": 30, "name": "j20xKL2Z", "region_overrides": {"RQIhfnJV": {"buffer_count": 75, "buffer_percent": 80, "max_count": 38, "min_count": 25, "name": "3JdbPSw7", "unlimited": true, "use_buffer_percent": false}, "jaPCcvQA": {"buffer_count": 9, "buffer_percent": 54, "max_count": 51, "min_count": 69, "name": "G1ZIaS3w", "unlimited": true, "use_buffer_percent": true}, "BnvRS736": {"buffer_count": 95, "buffer_percent": 85, "max_count": 74, "min_count": 51, "name": "u5G931he", "unlimited": false, "use_buffer_percent": false}}, "regions": ["Tk1oOyws", "gttx4shS", "7uwOVvHj"], "session_timeout": 64, "unlimited": false, "use_buffer_percent": false}, "I9LQveLz": {"buffer_count": 32, "buffer_percent": 68, "configuration": "XAaSJRPB", "enable_region_overrides": true, "extendable_session": true, "game_version": "bBzErHA8", "max_count": 82, "min_count": 70, "name": "wwCQjDSh", "region_overrides": {"qHXsIRvU": {"buffer_count": 63, "buffer_percent": 41, "max_count": 63, "min_count": 96, "name": "FKn5sPH8", "unlimited": true, "use_buffer_percent": false}, "RDF6MUuU": {"buffer_count": 74, "buffer_percent": 71, "max_count": 88, "min_count": 64, "name": "J6EkRXRq", "unlimited": false, "use_buffer_percent": true}, "tRSuKqqn": {"buffer_count": 56, "buffer_percent": 91, "max_count": 74, "min_count": 4, "name": "XKGUOpjP", "unlimited": false, "use_buffer_percent": false}}, "regions": ["QwtvFDGr", "aztptBsT", "GHlyOGVP"], "session_timeout": 24, "unlimited": true, "use_buffer_percent": true}}, "region_overrides": {"0EQz9CUw": {"buffer_count": 78, "buffer_percent": 40, "max_count": 5, "min_count": 80, "name": "Hthh4TPw", "unlimited": false, "use_buffer_percent": true}, "ZOhJUuGC": {"buffer_count": 89, "buffer_percent": 33, "max_count": 43, "min_count": 49, "name": "F5wP2eLp", "unlimited": true, "use_buffer_percent": true}, "XAs3ZdO5": {"buffer_count": 88, "buffer_percent": 17, "max_count": 30, "min_count": 15, "name": "5vJ1P2UI", "unlimited": false, "use_buffer_percent": true}}, "regions": ["ijlt8SRR", "5CUkcgUD", "Y3VoQHwO"], "session_timeout": 98, "unlimited": false, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateDeployment \
    --deployment '7SDgAqfA' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 16 'CreateDeployment' test.out

#- 17 DeleteDeployment
$CLI_EXE \
    --sn dsmc \
    --op DeleteDeployment \
    --deployment 'sedfhbDa' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 17 'DeleteDeployment' test.out

#- 18 UpdateDeployment
# body param: body
echo '{"allow_version_override": true, "buffer_count": 59, "buffer_percent": 53, "configuration": "YtoKv0AF", "enable_region_overrides": true, "extendable_session": true, "game_version": "0YQq6GQW", "max_count": 36, "min_count": 98, "regions": ["YtQltTey", "N54UI2Wz", "veyzmjVY"], "session_timeout": 71, "unlimited": true, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateDeployment \
    --deployment '09ajIpiX' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 18 'UpdateDeployment' test.out

#- 19 CreateRootRegionOverride
# body param: body
echo '{"buffer_count": 18, "buffer_percent": 9, "max_count": 100, "min_count": 95, "unlimited": true, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateRootRegionOverride \
    --deployment 'p41Qip5Q' \
    --namespace $AB_NAMESPACE \
    --region '3icc8aV5' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 19 'CreateRootRegionOverride' test.out

#- 20 DeleteRootRegionOverride
$CLI_EXE \
    --sn dsmc \
    --op DeleteRootRegionOverride \
    --deployment 'Jc7wyzoF' \
    --namespace $AB_NAMESPACE \
    --region 'Iw7C8UN1' \
    > test.out 2>&1
eval_tap $? 20 'DeleteRootRegionOverride' test.out

#- 21 UpdateRootRegionOverride
# body param: body
echo '{"buffer_count": 50, "buffer_percent": 71, "max_count": 9, "min_count": 35, "unlimited": true, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateRootRegionOverride \
    --deployment 'zWaDTsrq' \
    --namespace $AB_NAMESPACE \
    --region 'kxxc2ZBr' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 21 'UpdateRootRegionOverride' test.out

#- 22 CreateDeploymentOverride
# body param: body
echo '{"buffer_count": 94, "buffer_percent": 55, "configuration": "VN9NMURR", "enable_region_overrides": true, "extendable_session": false, "game_version": "P6VeTbuu", "max_count": 53, "min_count": 40, "region_overrides": {"ND1LlxsN": {"buffer_count": 33, "buffer_percent": 43, "max_count": 76, "min_count": 6, "name": "M5Z8qrxk", "unlimited": true, "use_buffer_percent": false}, "jmfosjPo": {"buffer_count": 68, "buffer_percent": 45, "max_count": 77, "min_count": 68, "name": "8pVzEze0", "unlimited": false, "use_buffer_percent": false}, "9ciE64yJ": {"buffer_count": 58, "buffer_percent": 7, "max_count": 30, "min_count": 25, "name": "z6xwJXxM", "unlimited": true, "use_buffer_percent": false}}, "regions": ["sAQXQeC3", "zGb7t6tK", "VCjzZOpK"], "session_timeout": 92, "unlimited": true, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateDeploymentOverride \
    --deployment '3WKNpyec' \
    --namespace $AB_NAMESPACE \
    --version 'RdAeO3Rv' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 22 'CreateDeploymentOverride' test.out

#- 23 DeleteDeploymentOverride
$CLI_EXE \
    --sn dsmc \
    --op DeleteDeploymentOverride \
    --deployment 'Jm1L4tG6' \
    --namespace $AB_NAMESPACE \
    --version 'MYD1Zghc' \
    > test.out 2>&1
eval_tap $? 23 'DeleteDeploymentOverride' test.out

#- 24 UpdateDeploymentOverride
# body param: body
echo '{"buffer_count": 78, "buffer_percent": 7, "configuration": "6TLABqrM", "enable_region_overrides": true, "game_version": "d8RpXPxA", "max_count": 51, "min_count": 27, "regions": ["oDEVgrWQ", "YvroigtP", "ovM47uF2"], "session_timeout": 63, "unlimited": true, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateDeploymentOverride \
    --deployment 'UKuRsXhr' \
    --namespace $AB_NAMESPACE \
    --version 'tQMh18Z1' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 24 'UpdateDeploymentOverride' test.out

#- 25 CreateOverrideRegionOverride
# body param: body
echo '{"buffer_count": 91, "buffer_percent": 24, "max_count": 60, "min_count": 30, "unlimited": true, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateOverrideRegionOverride \
    --deployment 'hyWg8SKT' \
    --namespace $AB_NAMESPACE \
    --region 'jQeDqvmJ' \
    --version 'R7iZiK5t' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 25 'CreateOverrideRegionOverride' test.out

#- 26 DeleteOverrideRegionOverride
$CLI_EXE \
    --sn dsmc \
    --op DeleteOverrideRegionOverride \
    --deployment 'fRF3fGdG' \
    --namespace $AB_NAMESPACE \
    --region 'Z8Qu1qFu' \
    --version 'T5D3POOn' \
    > test.out 2>&1
eval_tap $? 26 'DeleteOverrideRegionOverride' test.out

#- 27 UpdateOverrideRegionOverride
# body param: body
echo '{"buffer_count": 61, "buffer_percent": 7, "max_count": 77, "min_count": 81, "unlimited": false, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateOverrideRegionOverride \
    --deployment 'VPKOhDcY' \
    --namespace $AB_NAMESPACE \
    --region 'smYSolmq' \
    --version 'fGowiCHK' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 27 'UpdateOverrideRegionOverride' test.out

#- 28 GetAllPodConfig
$CLI_EXE \
    --sn dsmc \
    --op GetAllPodConfig \
    --namespace $AB_NAMESPACE \
    --count '35' \
    --offset '10' \
    > test.out 2>&1
eval_tap $? 28 'GetAllPodConfig' test.out

#- 29 GetPodConfig
$CLI_EXE \
    --sn dsmc \
    --op GetPodConfig \
    --name 'RPkLTgPc' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 29 'GetPodConfig' test.out

#- 30 CreatePodConfig
# body param: body
echo '{"cpu_limit": 92, "mem_limit": 55, "params": "Npblz0Qh"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreatePodConfig \
    --name '1AcO5Lf3' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 30 'CreatePodConfig' test.out

#- 31 DeletePodConfig
$CLI_EXE \
    --sn dsmc \
    --op DeletePodConfig \
    --name 'ZicwBHXc' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 31 'DeletePodConfig' test.out

#- 32 UpdatePodConfig
# body param: body
echo '{"cpu_limit": 37, "mem_limit": 47, "name": "V2l2wEsy", "params": "uIVaY3XX"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdatePodConfig \
    --name 'DzEdGn0J' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 32 'UpdatePodConfig' test.out

#- 33 AddPort
# body param: body
echo '{"port": 28}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op AddPort \
    --name 'mTBSQ0Rr' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 33 'AddPort' test.out

#- 34 DeletePort
$CLI_EXE \
    --sn dsmc \
    --op DeletePort \
    --name 'auqAhvru' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 34 'DeletePort' test.out

#- 35 UpdatePort
# body param: body
echo '{"name": "knx6lsMO", "port": 79}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdatePort \
    --name 'r6jFNK7g' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 35 'UpdatePort' test.out

#- 36 ListImages
$CLI_EXE \
    --sn dsmc \
    --op ListImages \
    --namespace $AB_NAMESPACE \
    --q 'Tp49UrF3' \
    --sortBy 'version' \
    --sortDirection 'asc' \
    --count '1' \
    --offset '16' \
    > test.out 2>&1
eval_tap $? 36 'ListImages' test.out

#- 37 DeleteImage
$CLI_EXE \
    --sn dsmc \
    --op DeleteImage \
    --namespace $AB_NAMESPACE \
    --imageURI 'aHKsHWqh' \
    --version 'zq7HyG1r' \
    > test.out 2>&1
eval_tap $? 37 'DeleteImage' test.out

#- 38 ExportImages
$CLI_EXE \
    --sn dsmc \
    --op ExportImages \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 38 'ExportImages' test.out

#- 39 GetImageLimit
$CLI_EXE \
    --sn dsmc \
    --op GetImageLimit \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 39 'GetImageLimit' test.out

#- 40 DeleteImagePatch
$CLI_EXE \
    --sn dsmc \
    --op DeleteImagePatch \
    --namespace $AB_NAMESPACE \
    --imageURI 'NsUbKwb7' \
    --version '7uDONQM0' \
    --versionPatch 'LXM3st5B' \
    > test.out 2>&1
eval_tap $? 40 'DeleteImagePatch' test.out

#- 41 GetImageDetail
$CLI_EXE \
    --sn dsmc \
    --op GetImageDetail \
    --namespace $AB_NAMESPACE \
    --version 'Xn44Jcs3' \
    > test.out 2>&1
eval_tap $? 41 'GetImageDetail' test.out

#- 42 GetImagePatches
$CLI_EXE \
    --sn dsmc \
    --op GetImagePatches \
    --namespace $AB_NAMESPACE \
    --version 'kD9NElLk' \
    > test.out 2>&1
eval_tap $? 42 'GetImagePatches' test.out

#- 43 GetImagePatchDetail
$CLI_EXE \
    --sn dsmc \
    --op GetImagePatchDetail \
    --namespace $AB_NAMESPACE \
    --version 'NubtBeO0' \
    --versionPatch 'G8PO3gNq' \
    > test.out 2>&1
eval_tap $? 43 'GetImagePatchDetail' test.out

#- 44 GetRepository
$CLI_EXE \
    --sn dsmc \
    --op GetRepository \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 44 'GetRepository' test.out

#- 45 ListServer
$CLI_EXE \
    --sn dsmc \
    --op ListServer \
    --namespace $AB_NAMESPACE \
    --region 'b9mz47zd' \
    --count '23' \
    --offset '7' \
    > test.out 2>&1
eval_tap $? 45 'ListServer' test.out

#- 46 CountServer
$CLI_EXE \
    --sn dsmc \
    --op CountServer \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 46 'CountServer' test.out

#- 47 CountServerDetailed
$CLI_EXE \
    --sn dsmc \
    --op CountServerDetailed \
    --namespace $AB_NAMESPACE \
    --region 'W21flEFE' \
    > test.out 2>&1
eval_tap $? 47 'CountServerDetailed' test.out

#- 48 ListLocalServer
$CLI_EXE \
    --sn dsmc \
    --op ListLocalServer \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 48 'ListLocalServer' test.out

#- 49 DeleteLocalServer
$CLI_EXE \
    --sn dsmc \
    --op DeleteLocalServer \
    --name 'akRziqcO' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 49 'DeleteLocalServer' test.out

#- 50 GetServer
$CLI_EXE \
    --sn dsmc \
    --op GetServer \
    --namespace $AB_NAMESPACE \
    --podName 'nUYnjdPd' \
    > test.out 2>&1
eval_tap $? 50 'GetServer' test.out

#- 51 DeleteServer
$CLI_EXE \
    --sn dsmc \
    --op DeleteServer \
    --namespace $AB_NAMESPACE \
    --podName 'Spdz2iFN' \
    > test.out 2>&1
eval_tap $? 51 'DeleteServer' test.out

#- 52 ListSession
$CLI_EXE \
    --sn dsmc \
    --op ListSession \
    --namespace $AB_NAMESPACE \
    --region 'NoPZ9RA4' \
    --withServer 'false' \
    --count '41' \
    --offset '29' \
    > test.out 2>&1
eval_tap $? 52 'ListSession' test.out

#- 53 CountSession
$CLI_EXE \
    --sn dsmc \
    --op CountSession \
    --namespace $AB_NAMESPACE \
    --region 'yu5I1zrI' \
    > test.out 2>&1
eval_tap $? 53 'CountSession' test.out

#- 54 DeleteSession
$CLI_EXE \
    --sn dsmc \
    --op DeleteSession \
    --namespace $AB_NAMESPACE \
    --sessionID 'i0pMUxwi' \
    > test.out 2>&1
eval_tap $? 54 'DeleteSession' test.out

#- 55 CreateRepository
# body param: body
echo '{"namespace": "dt3BDpJj", "repository": "1wtSQnxb"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateRepository \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 55 'CreateRepository' test.out

#- 56 ExportConfigV1
$CLI_EXE \
    --sn dsmc \
    --op ExportConfigV1 \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 56 'ExportConfigV1' test.out

#- 57 ImportConfigV1
# form data upload: file
echo 'tmp.dat' > $TEMP_FILE_UPLOAD
$CLI_EXE \
    --sn dsmc \
    --op ImportConfigV1 \
    --namespace $AB_NAMESPACE \
    --upload file $TEMP_FILE_UPLOAD \
    > test.out 2>&1
eval_tap $? 57 'ImportConfigV1' test.out

#- 58 GetAllDeploymentClient
$CLI_EXE \
    --sn dsmc \
    --op GetAllDeploymentClient \
    --namespace $AB_NAMESPACE \
    --name 'cry0UNo9' \
    --count '67' \
    --offset '37' \
    > test.out 2>&1
eval_tap $? 58 'GetAllDeploymentClient' test.out

#- 59 CreateDeploymentClient
# body param: body
echo '{"allow_version_override": true, "buffer_count": 54, "buffer_percent": 17, "configuration": "wLk8J9vt", "enable_region_overrides": false, "extendable_session": true, "game_version": "RmHAUPme", "max_count": 66, "min_count": 63, "overrides": {"7kAoptF9": {"buffer_count": 80, "buffer_percent": 53, "configuration": "kkI7xTc1", "enable_region_overrides": true, "extendable_session": false, "game_version": "9umsGoyX", "max_count": 9, "min_count": 4, "name": "NLmz9SnX", "region_overrides": {"FvzeeryG": {"buffer_count": 12, "buffer_percent": 37, "max_count": 56, "min_count": 14, "name": "SnLVGAxO", "unlimited": false, "use_buffer_percent": true}, "amGZo9ie": {"buffer_count": 64, "buffer_percent": 5, "max_count": 59, "min_count": 22, "name": "sUcRowTW", "unlimited": false, "use_buffer_percent": false}, "97hoFBtX": {"buffer_count": 89, "buffer_percent": 45, "max_count": 2, "min_count": 85, "name": "86z4r74i", "unlimited": true, "use_buffer_percent": false}}, "regions": ["NBijRmoc", "cQTLiHY3", "9J24wWks"], "session_timeout": 32, "unlimited": false, "use_buffer_percent": true}, "qzAQ6IfY": {"buffer_count": 39, "buffer_percent": 75, "configuration": "LrmCQPED", "enable_region_overrides": true, "extendable_session": false, "game_version": "d8Ai5aCr", "max_count": 33, "min_count": 35, "name": "OX99bxRs", "region_overrides": {"SUYk2C7h": {"buffer_count": 26, "buffer_percent": 22, "max_count": 51, "min_count": 18, "name": "J4v6Gxpq", "unlimited": true, "use_buffer_percent": true}, "IGoYliVy": {"buffer_count": 58, "buffer_percent": 68, "max_count": 56, "min_count": 85, "name": "IiEq3z93", "unlimited": true, "use_buffer_percent": true}, "lYFyCC5i": {"buffer_count": 58, "buffer_percent": 10, "max_count": 18, "min_count": 33, "name": "J975nG1V", "unlimited": false, "use_buffer_percent": true}}, "regions": ["vEuunfeq", "iRcxVTEN", "tgPKI5qN"], "session_timeout": 91, "unlimited": true, "use_buffer_percent": false}, "JIZyy8Vk": {"buffer_count": 37, "buffer_percent": 85, "configuration": "7RQY2EzA", "enable_region_overrides": true, "extendable_session": false, "game_version": "XDCd3iUP", "max_count": 55, "min_count": 51, "name": "DgiCTpni", "region_overrides": {"cZUC6FkA": {"buffer_count": 92, "buffer_percent": 76, "max_count": 73, "min_count": 90, "name": "LT5fznPh", "unlimited": true, "use_buffer_percent": false}, "SyJfSIHd": {"buffer_count": 36, "buffer_percent": 44, "max_count": 57, "min_count": 61, "name": "T2QnP5oA", "unlimited": true, "use_buffer_percent": true}, "iDJKzBrL": {"buffer_count": 47, "buffer_percent": 19, "max_count": 61, "min_count": 99, "name": "ZlzVxZuh", "unlimited": true, "use_buffer_percent": false}}, "regions": ["EsyhiO01", "S5uqYqai", "G8DY9lvD"], "session_timeout": 74, "unlimited": true, "use_buffer_percent": false}}, "region_overrides": {"xiv3S7M4": {"buffer_count": 39, "buffer_percent": 13, "max_count": 92, "min_count": 48, "name": "Oq4rCwpw", "unlimited": false, "use_buffer_percent": true}, "u07UbD9J": {"buffer_count": 95, "buffer_percent": 64, "max_count": 66, "min_count": 0, "name": "haUAVMpn", "unlimited": false, "use_buffer_percent": true}, "IHWlTOdg": {"buffer_count": 91, "buffer_percent": 90, "max_count": 76, "min_count": 84, "name": "yZ5XWUXv", "unlimited": true, "use_buffer_percent": true}}, "regions": ["rZdwkP6E", "Fe5SZ7Xf", "V6eRpLuC"], "session_timeout": 97, "unlimited": false, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateDeploymentClient \
    --deployment 'SPvTWu7h' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 59 'CreateDeploymentClient' test.out

#- 60 DeleteDeploymentClient
$CLI_EXE \
    --sn dsmc \
    --op DeleteDeploymentClient \
    --deployment 'fAxUQT2p' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 60 'DeleteDeploymentClient' test.out

#- 61 GetAllPodConfigClient
$CLI_EXE \
    --sn dsmc \
    --op GetAllPodConfigClient \
    --namespace $AB_NAMESPACE \
    --count '37' \
    --offset '76' \
    > test.out 2>&1
eval_tap $? 61 'GetAllPodConfigClient' test.out

#- 62 CreatePodConfigClient
# body param: body
echo '{"cpu_limit": 85, "mem_limit": 14, "params": "n4En5U2P"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreatePodConfigClient \
    --name 'yiPQIpsA' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 62 'CreatePodConfigClient' test.out

#- 63 DeletePodConfigClient
$CLI_EXE \
    --sn dsmc \
    --op DeletePodConfigClient \
    --name '4riVBCXo' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 63 'DeletePodConfigClient' test.out

#- 64 ListImagesClient
$CLI_EXE \
    --sn dsmc \
    --op ListImagesClient \
    --namespace $AB_NAMESPACE \
    --count '18' \
    --offset '7' \
    --q 'ZkSrvaQs' \
    --sortBy 'createdAt' \
    --sortDirection 'desc' \
    > test.out 2>&1
eval_tap $? 64 'ListImagesClient' test.out

#- 65 ImageLimitClient
$CLI_EXE \
    --sn dsmc \
    --op ImageLimitClient \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 65 'ImageLimitClient' test.out

#- 66 ImageDetailClient
$CLI_EXE \
    --sn dsmc \
    --op ImageDetailClient \
    --namespace $AB_NAMESPACE \
    --version 'ywDdVGv7' \
    > test.out 2>&1
eval_tap $? 66 'ImageDetailClient' test.out

#- 67 ListServerClient
$CLI_EXE \
    --sn dsmc \
    --op ListServerClient \
    --namespace $AB_NAMESPACE \
    --region 'wx8go6Of' \
    --count '30' \
    --offset '36' \
    > test.out 2>&1
eval_tap $? 67 'ListServerClient' test.out

#- 68 ServerHeartbeat
# body param: body
echo '{"podName": "egApoiQ6"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op ServerHeartbeat \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 68 'ServerHeartbeat' test.out

#- 69 DeregisterLocalServer
# body param: body
echo '{"name": "oOwtJtgq"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op DeregisterLocalServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 69 'DeregisterLocalServer' test.out

#- 70 RegisterLocalServer
# body param: body
echo '{"custom_attribute": "7cD0ZEct", "ip": "rHbabKlE", "name": "1aJF8Qr6", "port": 36}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op RegisterLocalServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 70 'RegisterLocalServer' test.out

#- 71 RegisterServer
# body param: body
echo '{"custom_attribute": "3mGmL4nw", "pod_name": "c9CZMSHS"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op RegisterServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 71 'RegisterServer' test.out

#- 72 ShutdownServer
# body param: body
echo '{"kill_me": true, "pod_name": "a1KxyZST"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op ShutdownServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 72 'ShutdownServer' test.out

#- 73 GetServerSessionTimeout
$CLI_EXE \
    --sn dsmc \
    --op GetServerSessionTimeout \
    --namespace $AB_NAMESPACE \
    --podName 'EU7igEZH' \
    > test.out 2>&1
eval_tap $? 73 'GetServerSessionTimeout' test.out

#- 74 GetServerSession
$CLI_EXE \
    --sn dsmc \
    --op GetServerSession \
    --namespace $AB_NAMESPACE \
    --podName 'OK4NJWxO' \
    > test.out 2>&1
eval_tap $? 74 'GetServerSession' test.out

#- 75 CreateSession
# body param: body
echo '{"client_version": "pPXlaiXx", "configuration": "nL3OV22j", "deployment": "BBg6ofWB", "game_mode": "jbLyaDNT", "matching_allies": [{"matching_parties": [{"party_attributes": {"3yDoo08r": {}, "rVsw4dPH": {}, "3vXAIkum": {}}, "party_id": "KqwBgNaw", "party_members": [{"user_id": "6DyXMLGJ"}, {"user_id": "H9irqnBR"}, {"user_id": "kT96DPG6"}]}, {"party_attributes": {"VoLTWpKz": {}, "lRYzinW7": {}, "DAP9rUki": {}}, "party_id": "Pw8EOdZZ", "party_members": [{"user_id": "Bed5EDHO"}, {"user_id": "H8i9G1PR"}, {"user_id": "d1HD2NUc"}]}, {"party_attributes": {"9BgJwxX8": {}, "1EvaI7wp": {}, "lF1s0ma3": {}}, "party_id": "SBdTjvdB", "party_members": [{"user_id": "DhXf1GPa"}, {"user_id": "DAqihq7D"}, {"user_id": "LNZWH3vc"}]}]}, {"matching_parties": [{"party_attributes": {"1LhaQbxy": {}, "dkBKWiDb": {}, "NUDq9E8M": {}}, "party_id": "Wju6qv1j", "party_members": [{"user_id": "X1FLtDUc"}, {"user_id": "aqlxwjqC"}, {"user_id": "idh6xzzq"}]}, {"party_attributes": {"KNBmldQ4": {}, "vmi95vfj": {}, "ea55hLxz": {}}, "party_id": "tOhbYba5", "party_members": [{"user_id": "hGMzLAlt"}, {"user_id": "Yer07CYL"}, {"user_id": "LxIRv1dX"}]}, {"party_attributes": {"fkrGp7yA": {}, "qEUjRWRP": {}, "dxOrpeVR": {}}, "party_id": "stJksPIW", "party_members": [{"user_id": "AcQwBt36"}, {"user_id": "3MIS1DU3"}, {"user_id": "l8k7NW67"}]}]}, {"matching_parties": [{"party_attributes": {"EvH8fUvh": {}, "7jCeOshl": {}, "daMqbMDs": {}}, "party_id": "t24EUrFp", "party_members": [{"user_id": "xykjLDIH"}, {"user_id": "4F4nHpp7"}, {"user_id": "nZSUBx8s"}]}, {"party_attributes": {"u4C1lFMr": {}, "vZ87Ry5G": {}, "LDKmjiVZ": {}}, "party_id": "igplIBPO", "party_members": [{"user_id": "R5VdaXem"}, {"user_id": "I8bs15xt"}, {"user_id": "wPossWRj"}]}, {"party_attributes": {"H5dLGAVj": {}, "arVDvV2u": {}, "cnvNDElx": {}}, "party_id": "sIfJdxCy", "party_members": [{"user_id": "zKXV6iC1"}, {"user_id": "RUnH0Q1t"}, {"user_id": "pNHoIjBq"}]}]}], "namespace": "Ki1Rl1xV", "notification_payload": {}, "pod_name": "SUiGdgBQ", "region": "dulZY4KN", "session_id": "YaBNxL7C"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateSession \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 75 'CreateSession' test.out

#- 76 ClaimServer
# body param: body
echo '{"session_id": "GwAcBhtI"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op ClaimServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 76 'ClaimServer' test.out

#- 77 GetSession
$CLI_EXE \
    --sn dsmc \
    --op GetSession \
    --namespace $AB_NAMESPACE \
    --sessionID 'yVArqLY9' \
    > test.out 2>&1
eval_tap $? 77 'GetSession' test.out

#- 78 CancelSession
$CLI_EXE \
    --sn dsmc \
    --op CancelSession \
    --namespace $AB_NAMESPACE \
    --sessionID 'u58aFdqA' \
    > test.out 2>&1
eval_tap $? 78 'CancelSession' test.out

#- 79 GetDefaultProvider
$CLI_EXE \
    --sn dsmc \
    --op GetDefaultProvider \
    > test.out 2>&1
eval_tap $? 79 'GetDefaultProvider' test.out

#- 80 ListProviders
$CLI_EXE \
    --sn dsmc \
    --op ListProviders \
    > test.out 2>&1
eval_tap $? 80 'ListProviders' test.out

#- 81 ListProvidersByRegion
$CLI_EXE \
    --sn dsmc \
    --op ListProvidersByRegion \
    --region 'iZpDlfZY' \
    > test.out 2>&1
eval_tap $? 81 'ListProvidersByRegion' test.out

#- 82 PublicGetMessages
$CLI_EXE \
    --sn dsmc \
    --op PublicGetMessages \
    > test.out 2>&1
eval_tap $? 82 'PublicGetMessages' test.out


# remove artifacts
rm -f "$CLI_TOKEN_FILE"
rm -f "$TEMP_JSON_INPUT"
rm -f "$TEMP_FILE_UPLOAD"

exit $EXIT_CODE