#!/usr/bin/env bash

# Copyright (c) 2021 AccelByte Inc. All Rights Reserved.
# This is licensed software from AccelByte Inc, for limitations
# and restrictions contact your company contract manager.

# This code is generated by tool. DO NOT EDIT.

# Meta:
# - random seed: 
# - template file: 

# Instructions:
# - Run the Justice SDK Mock Server first before running this script.

export AB_BASE_URL="http://127.0.0.1:8080"
export AB_CLIENT_ID="admin"
export AB_CLIENT_SECRET="admin"
export AB_NAMESPACE="test"
export AB_APP_NAME="UnitTest"

EXIT_CODE=0

eval_tap() {
  if [ $1 -eq 0 ]; then
    echo "ok $2 - $3"
  else
    EXIT_CODE=1
    echo "not ok $2 - $3"
    sed 's/^/# /g' $4
  fi
  rm -f $4
}

CLI_EXE="AccelByte.Sdk.Sample.Cli"
CLI_TOKEN_FILE="$(dirname "$(which $CLI_EXE)")/token.json"
TEMP_JSON_INPUT="input_json.json"
TEMP_FILE_UPLOAD="file_upload.bin"

echo "TAP version 13"
echo "1..82"

#- 1 Login
$CLI_EXE --op login --lt user --user user --pass user > test.out 2>&1
eval_tap $? 1 'Login' test.out

if [ $EXIT_CODE -ne 0 ]; then
  echo "Bail out! Login failed."
  exit $EXIT_CODE
fi

# echo "foo" > "$CLI_TOKEN_FILE"

#- 2 ListConfig
$CLI_EXE \
    --sn dsmc \
    --op ListConfig \
    > test.out 2>&1
eval_tap $? 2 'ListConfig' test.out

#- 3 SaveConfig
eval_tap 0 3 'SaveConfig # SKIP deprecated' test.out

#- 4 UpdateImage
# body param: body
echo '{"artifactPath": "0PUdqUhX", "coreDumpEnabled": false, "image": "NZFYshRX", "imageReplicationsMap": {"ZkUp3yh1": {"failure_code": "dy2FyDhK", "region": "Pqs6K1UG", "status": "MetkMuUg", "uri": "iYEzasrT"}, "M6IrJM3t": {"failure_code": "4THGclZc", "region": "aoC98xVh", "status": "IOEkUF6L", "uri": "pjFSjhnT"}, "erkyLSzr": {"failure_code": "odkjZnKb", "region": "kvgQI5fS", "status": "j5dPpQeH", "uri": "e4kANNGT"}}, "namespace": "eJ7PxlSF", "patchVersion": "sHCZT7tO", "persistent": true, "version": "gYkttXIu"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateImage \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 4 'UpdateImage' test.out

#- 5 CreateImage
# body param: body
echo '{"artifactPath": "XvjESw7K", "coreDumpEnabled": false, "dockerPath": "Qm58gxck", "image": "ixtKr5rH", "imageSize": 12, "namespace": "CewcxhoS", "persistent": true, "ulimitFileSize": 37, "version": "RTVXwcKj"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateImage \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 5 'CreateImage' test.out

#- 6 ImportImages
# form data upload: file
echo 'tmp.dat' > $TEMP_FILE_UPLOAD
$CLI_EXE \
    --sn dsmc \
    --op ImportImages \
    --upload file $TEMP_FILE_UPLOAD \
    > test.out 2>&1
eval_tap $? 6 'ImportImages' test.out

#- 7 CreateImagePatch
# body param: body
echo '{"artifactPath": "S5Q37Lvk", "coreDumpEnabled": true, "dockerPath": "r3nalNOK", "image": "hlao4xMV", "imageSize": 84, "namespace": "3SUFtYYw", "patchVersion": "m4kuLapk", "persistent": false, "ulimitFileSize": 75, "uploaderFlag": "ImcZcvsv", "version": "NcJ6LH2V"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateImagePatch \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 7 'CreateImagePatch' test.out

#- 8 GetLowestInstanceSpec
$CLI_EXE \
    --sn dsmc \
    --op GetLowestInstanceSpec \
    > test.out 2>&1
eval_tap $? 8 'GetLowestInstanceSpec' test.out

#- 9 GetConfig
$CLI_EXE \
    --sn dsmc \
    --op GetConfig \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 9 'GetConfig' test.out

#- 10 CreateConfig
# body param: body
echo '{"claim_timeout": 79, "creation_timeout": 74, "default_version": "yyCTUIKr", "port": 14, "ports": {"n8Trj3pR": 71, "G1JmrAA4": 76, "wjkg2uZV": 74}, "protocol": "d2xYM9y3", "providers": ["nCnVBmyG", "2ULyzP6w", "tr6VlNbt"], "session_timeout": 9, "unreachable_timeout": 40}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateConfig \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 10 'CreateConfig' test.out

#- 11 DeleteConfig
$CLI_EXE \
    --sn dsmc \
    --op DeleteConfig \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 11 'DeleteConfig' test.out

#- 12 UpdateConfig
# body param: body
echo '{"claim_timeout": 15, "creation_timeout": 63, "default_version": "ZhutPN4p", "port": 57, "protocol": "WjvGFQJY", "providers": ["uSNKQE14", "J21jOKZj", "S5GodbZV"], "session_timeout": 81, "unreachable_timeout": 42}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateConfig \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 12 'UpdateConfig' test.out

#- 13 ClearCache
$CLI_EXE \
    --sn dsmc \
    --op ClearCache \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 13 'ClearCache' test.out

#- 14 GetAllDeployment
$CLI_EXE \
    --sn dsmc \
    --op GetAllDeployment \
    --namespace $AB_NAMESPACE \
    --name 'kfKZGpxv' \
    --count '58' \
    --offset '2' \
    > test.out 2>&1
eval_tap $? 14 'GetAllDeployment' test.out

#- 15 GetDeployment
$CLI_EXE \
    --sn dsmc \
    --op GetDeployment \
    --deployment 'A12Ynq49' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 15 'GetDeployment' test.out

#- 16 CreateDeployment
# body param: body
echo '{"allow_version_override": false, "buffer_count": 14, "buffer_percent": 59, "configuration": "r8dAOgX5", "enable_region_overrides": false, "extendable_session": true, "game_version": "dpt9Ua0R", "max_count": 41, "min_count": 6, "overrides": {"tNuJYbbF": {"buffer_count": 94, "buffer_percent": 76, "configuration": "o5Z0HH19", "enable_region_overrides": false, "extendable_session": false, "game_version": "FoAvE3zO", "max_count": 51, "min_count": 53, "name": "ax8ubCWi", "region_overrides": {"pbTQ2aq3": {"buffer_count": 13, "buffer_percent": 26, "max_count": 91, "min_count": 33, "name": "nNlWTehL", "unlimited": false, "use_buffer_percent": true}, "QozxkXBM": {"buffer_count": 44, "buffer_percent": 94, "max_count": 46, "min_count": 97, "name": "MlIR1Fsu", "unlimited": true, "use_buffer_percent": false}, "7aDqhJva": {"buffer_count": 19, "buffer_percent": 89, "max_count": 37, "min_count": 48, "name": "BTui0Jgl", "unlimited": true, "use_buffer_percent": false}}, "regions": ["zd2mnft8", "6XGv6SRF", "Ts7KxKl3"], "session_timeout": 39, "unlimited": false, "use_buffer_percent": false}, "Ttlt9YNn": {"buffer_count": 60, "buffer_percent": 53, "configuration": "vDlpTo6G", "enable_region_overrides": true, "extendable_session": true, "game_version": "CujbgLk8", "max_count": 31, "min_count": 89, "name": "OmViQ6bS", "region_overrides": {"VPNTAQx8": {"buffer_count": 62, "buffer_percent": 57, "max_count": 73, "min_count": 47, "name": "37o4FkdV", "unlimited": false, "use_buffer_percent": true}, "4UERuB8L": {"buffer_count": 34, "buffer_percent": 91, "max_count": 14, "min_count": 89, "name": "kiCEZGJ1", "unlimited": true, "use_buffer_percent": true}, "EiOKOUOM": {"buffer_count": 30, "buffer_percent": 61, "max_count": 83, "min_count": 59, "name": "gMpCxjP1", "unlimited": false, "use_buffer_percent": true}}, "regions": ["F59lcmQG", "I4quWtgv", "mFszH53I"], "session_timeout": 93, "unlimited": true, "use_buffer_percent": false}, "NRY82Izo": {"buffer_count": 27, "buffer_percent": 33, "configuration": "ZCHZADZ1", "enable_region_overrides": true, "extendable_session": true, "game_version": "lkFM3MVN", "max_count": 7, "min_count": 92, "name": "u0efjlIe", "region_overrides": {"eBNG7sH7": {"buffer_count": 44, "buffer_percent": 61, "max_count": 14, "min_count": 0, "name": "vEAOFHFQ", "unlimited": false, "use_buffer_percent": false}, "T3U3UcI6": {"buffer_count": 38, "buffer_percent": 66, "max_count": 15, "min_count": 60, "name": "fFkhp7xV", "unlimited": false, "use_buffer_percent": true}, "uyD7uImK": {"buffer_count": 37, "buffer_percent": 16, "max_count": 50, "min_count": 21, "name": "FKAcO8Vx", "unlimited": true, "use_buffer_percent": true}}, "regions": ["4lfrDFt4", "sVifw9bl", "5k6zckVD"], "session_timeout": 54, "unlimited": true, "use_buffer_percent": false}}, "region_overrides": {"pub3o1pi": {"buffer_count": 85, "buffer_percent": 17, "max_count": 80, "min_count": 9, "name": "1IgwM0MX", "unlimited": false, "use_buffer_percent": false}, "XYwdfkKM": {"buffer_count": 34, "buffer_percent": 98, "max_count": 1, "min_count": 28, "name": "8eeKomq8", "unlimited": true, "use_buffer_percent": false}, "GO1z2wIm": {"buffer_count": 98, "buffer_percent": 62, "max_count": 18, "min_count": 15, "name": "jMqdyH1c", "unlimited": true, "use_buffer_percent": false}}, "regions": ["rfnxG809", "ehtnArGV", "GHHT3g8C"], "session_timeout": 41, "unlimited": false, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateDeployment \
    --deployment 'ry9Dcb2l' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 16 'CreateDeployment' test.out

#- 17 DeleteDeployment
$CLI_EXE \
    --sn dsmc \
    --op DeleteDeployment \
    --deployment '4MyDf2wo' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 17 'DeleteDeployment' test.out

#- 18 UpdateDeployment
# body param: body
echo '{"allow_version_override": true, "buffer_count": 60, "buffer_percent": 80, "configuration": "m5YVMkws", "enable_region_overrides": false, "extendable_session": false, "game_version": "OEIPKJz4", "max_count": 13, "min_count": 100, "regions": ["eOXwU9ty", "3jGio26D", "lkytfChe"], "session_timeout": 38, "unlimited": true, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateDeployment \
    --deployment 'BNsB0bX0' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 18 'UpdateDeployment' test.out

#- 19 CreateRootRegionOverride
# body param: body
echo '{"buffer_count": 44, "buffer_percent": 64, "max_count": 28, "min_count": 18, "unlimited": true, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateRootRegionOverride \
    --deployment 'HONcNHf8' \
    --namespace $AB_NAMESPACE \
    --region 'v8dIuzi1' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 19 'CreateRootRegionOverride' test.out

#- 20 DeleteRootRegionOverride
$CLI_EXE \
    --sn dsmc \
    --op DeleteRootRegionOverride \
    --deployment 'oHPljULj' \
    --namespace $AB_NAMESPACE \
    --region '6ERHOk8g' \
    > test.out 2>&1
eval_tap $? 20 'DeleteRootRegionOverride' test.out

#- 21 UpdateRootRegionOverride
# body param: body
echo '{"buffer_count": 73, "buffer_percent": 87, "max_count": 41, "min_count": 12, "unlimited": false, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateRootRegionOverride \
    --deployment 'AJ1e0eei' \
    --namespace $AB_NAMESPACE \
    --region 'rLfpPru8' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 21 'UpdateRootRegionOverride' test.out

#- 22 CreateDeploymentOverride
# body param: body
echo '{"buffer_count": 87, "buffer_percent": 92, "configuration": "Si7KUiKh", "enable_region_overrides": false, "extendable_session": false, "game_version": "7fH1m2Gb", "max_count": 0, "min_count": 91, "region_overrides": {"H3EztMyu": {"buffer_count": 99, "buffer_percent": 44, "max_count": 71, "min_count": 93, "name": "Y43flerA", "unlimited": false, "use_buffer_percent": false}, "2raAFCds": {"buffer_count": 56, "buffer_percent": 80, "max_count": 36, "min_count": 92, "name": "2LhkoLwH", "unlimited": false, "use_buffer_percent": false}, "xKEe8X7Q": {"buffer_count": 36, "buffer_percent": 85, "max_count": 43, "min_count": 75, "name": "Iu9ZJXNH", "unlimited": false, "use_buffer_percent": true}}, "regions": ["1Jm5OOZ9", "hPBQImek", "jaGO8fSO"], "session_timeout": 96, "unlimited": true, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateDeploymentOverride \
    --deployment 'rk1iAKtl' \
    --namespace $AB_NAMESPACE \
    --version 'Ri053GG8' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 22 'CreateDeploymentOverride' test.out

#- 23 DeleteDeploymentOverride
$CLI_EXE \
    --sn dsmc \
    --op DeleteDeploymentOverride \
    --deployment 'NICRIsKM' \
    --namespace $AB_NAMESPACE \
    --version 'lJBsxWeR' \
    > test.out 2>&1
eval_tap $? 23 'DeleteDeploymentOverride' test.out

#- 24 UpdateDeploymentOverride
# body param: body
echo '{"buffer_count": 73, "buffer_percent": 50, "configuration": "PBWTzqlt", "enable_region_overrides": false, "game_version": "qe6uETGI", "max_count": 86, "min_count": 73, "regions": ["ZR3yjLHl", "L7rryNZ7", "cz0PC11O"], "session_timeout": 22, "unlimited": true, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateDeploymentOverride \
    --deployment 'fhhXIMmy' \
    --namespace $AB_NAMESPACE \
    --version '7zWlyLPH' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 24 'UpdateDeploymentOverride' test.out

#- 25 CreateOverrideRegionOverride
# body param: body
echo '{"buffer_count": 22, "buffer_percent": 94, "max_count": 45, "min_count": 96, "unlimited": true, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateOverrideRegionOverride \
    --deployment '1lsq1D2C' \
    --namespace $AB_NAMESPACE \
    --region '8eYBk4A1' \
    --version 'fDXWAqki' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 25 'CreateOverrideRegionOverride' test.out

#- 26 DeleteOverrideRegionOverride
$CLI_EXE \
    --sn dsmc \
    --op DeleteOverrideRegionOverride \
    --deployment 'mN9E0M36' \
    --namespace $AB_NAMESPACE \
    --region 'YNG7IYNF' \
    --version 'oi6Z9W4m' \
    > test.out 2>&1
eval_tap $? 26 'DeleteOverrideRegionOverride' test.out

#- 27 UpdateOverrideRegionOverride
# body param: body
echo '{"buffer_count": 89, "buffer_percent": 78, "max_count": 89, "min_count": 97, "unlimited": true, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateOverrideRegionOverride \
    --deployment 'cVZxntAG' \
    --namespace $AB_NAMESPACE \
    --region 'iNn7WPLB' \
    --version 'wLTdXsrh' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 27 'UpdateOverrideRegionOverride' test.out

#- 28 GetAllPodConfig
$CLI_EXE \
    --sn dsmc \
    --op GetAllPodConfig \
    --namespace $AB_NAMESPACE \
    --count '48' \
    --offset '87' \
    > test.out 2>&1
eval_tap $? 28 'GetAllPodConfig' test.out

#- 29 GetPodConfig
$CLI_EXE \
    --sn dsmc \
    --op GetPodConfig \
    --name 'oEYYjYlQ' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 29 'GetPodConfig' test.out

#- 30 CreatePodConfig
# body param: body
echo '{"cpu_limit": 85, "mem_limit": 77, "params": "1q4xyVwf"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreatePodConfig \
    --name 'YUzHuLvP' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 30 'CreatePodConfig' test.out

#- 31 DeletePodConfig
$CLI_EXE \
    --sn dsmc \
    --op DeletePodConfig \
    --name 'Cau9v4q8' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 31 'DeletePodConfig' test.out

#- 32 UpdatePodConfig
# body param: body
echo '{"cpu_limit": 59, "mem_limit": 62, "name": "yd3PdI7p", "params": "MueuQYSO"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdatePodConfig \
    --name 'b4zD1gdI' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 32 'UpdatePodConfig' test.out

#- 33 AddPort
# body param: body
echo '{"port": 15}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op AddPort \
    --name 'pFmHTxfQ' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 33 'AddPort' test.out

#- 34 DeletePort
$CLI_EXE \
    --sn dsmc \
    --op DeletePort \
    --name 'HpdAq0kf' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 34 'DeletePort' test.out

#- 35 UpdatePort
# body param: body
echo '{"name": "fuTaOY3n", "port": 96}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdatePort \
    --name 'UCUyf6Pd' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 35 'UpdatePort' test.out

#- 36 ListImages
$CLI_EXE \
    --sn dsmc \
    --op ListImages \
    --namespace $AB_NAMESPACE \
    --q 'd1aIXRLz' \
    --sortBy 'createdAt' \
    --sortDirection 'desc' \
    --count '18' \
    --offset '57' \
    > test.out 2>&1
eval_tap $? 36 'ListImages' test.out

#- 37 DeleteImage
$CLI_EXE \
    --sn dsmc \
    --op DeleteImage \
    --namespace $AB_NAMESPACE \
    --imageURI 'DPew3BvF' \
    --version 'J4mOeGYp' \
    > test.out 2>&1
eval_tap $? 37 'DeleteImage' test.out

#- 38 ExportImages
$CLI_EXE \
    --sn dsmc \
    --op ExportImages \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 38 'ExportImages' test.out

#- 39 GetImageLimit
$CLI_EXE \
    --sn dsmc \
    --op GetImageLimit \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 39 'GetImageLimit' test.out

#- 40 DeleteImagePatch
$CLI_EXE \
    --sn dsmc \
    --op DeleteImagePatch \
    --namespace $AB_NAMESPACE \
    --imageURI '2Xysmem7' \
    --version 'hxmaeATB' \
    --versionPatch 'FkyGhoIQ' \
    > test.out 2>&1
eval_tap $? 40 'DeleteImagePatch' test.out

#- 41 GetImageDetail
$CLI_EXE \
    --sn dsmc \
    --op GetImageDetail \
    --namespace $AB_NAMESPACE \
    --version 'SLeVJBRL' \
    > test.out 2>&1
eval_tap $? 41 'GetImageDetail' test.out

#- 42 GetImagePatches
$CLI_EXE \
    --sn dsmc \
    --op GetImagePatches \
    --namespace $AB_NAMESPACE \
    --version 'gxFHd7q7' \
    > test.out 2>&1
eval_tap $? 42 'GetImagePatches' test.out

#- 43 GetImagePatchDetail
$CLI_EXE \
    --sn dsmc \
    --op GetImagePatchDetail \
    --namespace $AB_NAMESPACE \
    --version 'TdPl6K3p' \
    --versionPatch 'ThTdEDD0' \
    > test.out 2>&1
eval_tap $? 43 'GetImagePatchDetail' test.out

#- 44 GetRepository
$CLI_EXE \
    --sn dsmc \
    --op GetRepository \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 44 'GetRepository' test.out

#- 45 ListServer
$CLI_EXE \
    --sn dsmc \
    --op ListServer \
    --namespace $AB_NAMESPACE \
    --region '0ozcHsss' \
    --count '45' \
    --offset '76' \
    > test.out 2>&1
eval_tap $? 45 'ListServer' test.out

#- 46 CountServer
$CLI_EXE \
    --sn dsmc \
    --op CountServer \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 46 'CountServer' test.out

#- 47 CountServerDetailed
$CLI_EXE \
    --sn dsmc \
    --op CountServerDetailed \
    --namespace $AB_NAMESPACE \
    --region 'SOzLgWOY' \
    > test.out 2>&1
eval_tap $? 47 'CountServerDetailed' test.out

#- 48 ListLocalServer
$CLI_EXE \
    --sn dsmc \
    --op ListLocalServer \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 48 'ListLocalServer' test.out

#- 49 DeleteLocalServer
$CLI_EXE \
    --sn dsmc \
    --op DeleteLocalServer \
    --name 'oJTAyrED' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 49 'DeleteLocalServer' test.out

#- 50 GetServer
$CLI_EXE \
    --sn dsmc \
    --op GetServer \
    --namespace $AB_NAMESPACE \
    --podName 'K7kTBPJx' \
    > test.out 2>&1
eval_tap $? 50 'GetServer' test.out

#- 51 DeleteServer
$CLI_EXE \
    --sn dsmc \
    --op DeleteServer \
    --namespace $AB_NAMESPACE \
    --podName 'tCwLvc3U' \
    > test.out 2>&1
eval_tap $? 51 'DeleteServer' test.out

#- 52 ListSession
$CLI_EXE \
    --sn dsmc \
    --op ListSession \
    --namespace $AB_NAMESPACE \
    --region 'LoFdgnsS' \
    --withServer 'false' \
    --count '43' \
    --offset '66' \
    > test.out 2>&1
eval_tap $? 52 'ListSession' test.out

#- 53 CountSession
$CLI_EXE \
    --sn dsmc \
    --op CountSession \
    --namespace $AB_NAMESPACE \
    --region '9R8bY2IX' \
    > test.out 2>&1
eval_tap $? 53 'CountSession' test.out

#- 54 DeleteSession
$CLI_EXE \
    --sn dsmc \
    --op DeleteSession \
    --namespace $AB_NAMESPACE \
    --sessionID '7BouvW4n' \
    > test.out 2>&1
eval_tap $? 54 'DeleteSession' test.out

#- 55 CreateRepository
# body param: body
echo '{"namespace": "umbPmEJK", "repository": "1P1BoAXA"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateRepository \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 55 'CreateRepository' test.out

#- 56 ExportConfigV1
$CLI_EXE \
    --sn dsmc \
    --op ExportConfigV1 \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 56 'ExportConfigV1' test.out

#- 57 ImportConfigV1
# form data upload: file
echo 'tmp.dat' > $TEMP_FILE_UPLOAD
$CLI_EXE \
    --sn dsmc \
    --op ImportConfigV1 \
    --namespace $AB_NAMESPACE \
    --upload file $TEMP_FILE_UPLOAD \
    > test.out 2>&1
eval_tap $? 57 'ImportConfigV1' test.out

#- 58 GetAllDeploymentClient
$CLI_EXE \
    --sn dsmc \
    --op GetAllDeploymentClient \
    --namespace $AB_NAMESPACE \
    --name '4DHRQnIA' \
    --count '17' \
    --offset '23' \
    > test.out 2>&1
eval_tap $? 58 'GetAllDeploymentClient' test.out

#- 59 CreateDeploymentClient
# body param: body
echo '{"allow_version_override": false, "buffer_count": 100, "buffer_percent": 95, "configuration": "Vt8md50t", "enable_region_overrides": false, "extendable_session": false, "game_version": "kOsO9emO", "max_count": 8, "min_count": 43, "overrides": {"ET6QOeci": {"buffer_count": 35, "buffer_percent": 26, "configuration": "ZLaaF4wg", "enable_region_overrides": true, "extendable_session": true, "game_version": "rDPAxOqk", "max_count": 77, "min_count": 61, "name": "fCZiEcyC", "region_overrides": {"LzLdjT8X": {"buffer_count": 28, "buffer_percent": 82, "max_count": 100, "min_count": 86, "name": "yJh9GFR4", "unlimited": true, "use_buffer_percent": true}, "zczoagfE": {"buffer_count": 29, "buffer_percent": 74, "max_count": 55, "min_count": 4, "name": "mblnpK2V", "unlimited": false, "use_buffer_percent": false}, "Bm2bvk4T": {"buffer_count": 59, "buffer_percent": 17, "max_count": 85, "min_count": 30, "name": "apmUtO8i", "unlimited": true, "use_buffer_percent": false}}, "regions": ["4KBMp8sC", "xvNT6Q3v", "amvmTUI1"], "session_timeout": 30, "unlimited": false, "use_buffer_percent": false}, "uE5mxmzk": {"buffer_count": 89, "buffer_percent": 11, "configuration": "sD4r8CkW", "enable_region_overrides": true, "extendable_session": true, "game_version": "BGbRtACF", "max_count": 69, "min_count": 70, "name": "P6hUvP1l", "region_overrides": {"ADEJQOdu": {"buffer_count": 65, "buffer_percent": 50, "max_count": 94, "min_count": 51, "name": "ZU7IEc34", "unlimited": true, "use_buffer_percent": true}, "3hUstyPt": {"buffer_count": 64, "buffer_percent": 63, "max_count": 88, "min_count": 53, "name": "SE9DJjIx", "unlimited": false, "use_buffer_percent": true}, "YqtpIT6t": {"buffer_count": 13, "buffer_percent": 10, "max_count": 18, "min_count": 2, "name": "nAdRCFKH", "unlimited": true, "use_buffer_percent": true}}, "regions": ["sGlt4J2l", "h5J44U7w", "hiZR7YQY"], "session_timeout": 66, "unlimited": false, "use_buffer_percent": false}, "zx5a1Ahh": {"buffer_count": 16, "buffer_percent": 69, "configuration": "DkB1INwZ", "enable_region_overrides": true, "extendable_session": false, "game_version": "aw7rgCIY", "max_count": 79, "min_count": 94, "name": "u6NmzjEw", "region_overrides": {"db04Otlm": {"buffer_count": 88, "buffer_percent": 77, "max_count": 0, "min_count": 63, "name": "16WOXm6w", "unlimited": true, "use_buffer_percent": true}, "gGStqlrk": {"buffer_count": 10, "buffer_percent": 20, "max_count": 62, "min_count": 11, "name": "upH0JUot", "unlimited": true, "use_buffer_percent": true}, "MgpdMaX3": {"buffer_count": 68, "buffer_percent": 72, "max_count": 4, "min_count": 89, "name": "I7Mw3sTM", "unlimited": false, "use_buffer_percent": true}}, "regions": ["4zrrRFzm", "QZyfWFB8", "fQD3C9d7"], "session_timeout": 26, "unlimited": false, "use_buffer_percent": false}}, "region_overrides": {"q8Ovm4kn": {"buffer_count": 31, "buffer_percent": 26, "max_count": 19, "min_count": 16, "name": "sqNJ5dTJ", "unlimited": false, "use_buffer_percent": true}, "bjPuaCi8": {"buffer_count": 94, "buffer_percent": 98, "max_count": 72, "min_count": 43, "name": "VVYztonA", "unlimited": true, "use_buffer_percent": false}, "2BNnNVWH": {"buffer_count": 9, "buffer_percent": 59, "max_count": 66, "min_count": 48, "name": "21uH987R", "unlimited": false, "use_buffer_percent": false}}, "regions": ["05TWJIMy", "Ygwkwj2I", "YrAGuGwe"], "session_timeout": 46, "unlimited": true, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateDeploymentClient \
    --deployment 'Za1yemZk' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 59 'CreateDeploymentClient' test.out

#- 60 DeleteDeploymentClient
$CLI_EXE \
    --sn dsmc \
    --op DeleteDeploymentClient \
    --deployment 'O6AAppfg' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 60 'DeleteDeploymentClient' test.out

#- 61 GetAllPodConfigClient
$CLI_EXE \
    --sn dsmc \
    --op GetAllPodConfigClient \
    --namespace $AB_NAMESPACE \
    --count '21' \
    --offset '52' \
    > test.out 2>&1
eval_tap $? 61 'GetAllPodConfigClient' test.out

#- 62 CreatePodConfigClient
# body param: body
echo '{"cpu_limit": 100, "mem_limit": 35, "params": "PLuPY2Vj"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreatePodConfigClient \
    --name 'eYdXpgTy' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 62 'CreatePodConfigClient' test.out

#- 63 DeletePodConfigClient
$CLI_EXE \
    --sn dsmc \
    --op DeletePodConfigClient \
    --name 'ZxKbtE3W' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 63 'DeletePodConfigClient' test.out

#- 64 ListImagesClient
$CLI_EXE \
    --sn dsmc \
    --op ListImagesClient \
    --namespace $AB_NAMESPACE \
    --count '59' \
    --offset '11' \
    --q 'G0FSuC1Y' \
    --sortBy 'createdAt' \
    --sortDirection 'desc' \
    > test.out 2>&1
eval_tap $? 64 'ListImagesClient' test.out

#- 65 ImageLimitClient
$CLI_EXE \
    --sn dsmc \
    --op ImageLimitClient \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 65 'ImageLimitClient' test.out

#- 66 ImageDetailClient
$CLI_EXE \
    --sn dsmc \
    --op ImageDetailClient \
    --namespace $AB_NAMESPACE \
    --version 'TNXGH8MP' \
    > test.out 2>&1
eval_tap $? 66 'ImageDetailClient' test.out

#- 67 ListServerClient
$CLI_EXE \
    --sn dsmc \
    --op ListServerClient \
    --namespace $AB_NAMESPACE \
    --region 'ck09y3YE' \
    --count '50' \
    --offset '90' \
    > test.out 2>&1
eval_tap $? 67 'ListServerClient' test.out

#- 68 ServerHeartbeat
# body param: body
echo '{"podName": "A6Y3CGyX"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op ServerHeartbeat \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 68 'ServerHeartbeat' test.out

#- 69 DeregisterLocalServer
# body param: body
echo '{"name": "t4d381dR"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op DeregisterLocalServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 69 'DeregisterLocalServer' test.out

#- 70 RegisterLocalServer
# body param: body
echo '{"custom_attribute": "I3HFjbhN", "ip": "2NY1G2Hh", "name": "QgHmCxKw", "port": 17}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op RegisterLocalServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 70 'RegisterLocalServer' test.out

#- 71 RegisterServer
# body param: body
echo '{"custom_attribute": "0rA3LD4T", "pod_name": "Hiht0EnK"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op RegisterServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 71 'RegisterServer' test.out

#- 72 ShutdownServer
# body param: body
echo '{"kill_me": false, "pod_name": "dA3srr8a"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op ShutdownServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 72 'ShutdownServer' test.out

#- 73 GetServerSessionTimeout
$CLI_EXE \
    --sn dsmc \
    --op GetServerSessionTimeout \
    --namespace $AB_NAMESPACE \
    --podName 'oXGXaKoo' \
    > test.out 2>&1
eval_tap $? 73 'GetServerSessionTimeout' test.out

#- 74 GetServerSession
$CLI_EXE \
    --sn dsmc \
    --op GetServerSession \
    --namespace $AB_NAMESPACE \
    --podName 'LoUW8Lcs' \
    > test.out 2>&1
eval_tap $? 74 'GetServerSession' test.out

#- 75 CreateSession
# body param: body
echo '{"client_version": "T571NEug", "configuration": "WZWADrtx", "deployment": "NixeLbDd", "game_mode": "SgQIAQ75", "matching_allies": [{"matching_parties": [{"party_attributes": {"TFtYOt9l": {}, "aZhsMLKV": {}, "n6q9tj24": {}}, "party_id": "mH9cIjhx", "party_members": [{"user_id": "TItthgLA"}, {"user_id": "injpnDpW"}, {"user_id": "XwwVLWa6"}]}, {"party_attributes": {"jpYjJzdR": {}, "ABFxoRh6": {}, "v8ZgjSBI": {}}, "party_id": "gmDWGjzo", "party_members": [{"user_id": "nyLZ1CFv"}, {"user_id": "Ttc7rBwu"}, {"user_id": "lSWZ54bQ"}]}, {"party_attributes": {"Xf6l4EIR": {}, "JkGyHhec": {}, "96XinjYp": {}}, "party_id": "PafRIdjE", "party_members": [{"user_id": "C6Ye7Ukv"}, {"user_id": "FzCKP4ja"}, {"user_id": "6vcTl6KD"}]}]}, {"matching_parties": [{"party_attributes": {"Aw0huBME": {}, "BHcnt9UM": {}, "QtSMh8ON": {}}, "party_id": "YR2UpFgZ", "party_members": [{"user_id": "CTdmeQ0B"}, {"user_id": "qQrL8BEv"}, {"user_id": "E4Bs0rNh"}]}, {"party_attributes": {"CJHfW9Sl": {}, "nnTe9WTa": {}, "ZAwOUXHY": {}}, "party_id": "NT46cwda", "party_members": [{"user_id": "pBIoPBsZ"}, {"user_id": "eKP385Lq"}, {"user_id": "Cxp2982R"}]}, {"party_attributes": {"SbzNxswP": {}, "0bc88x2w": {}, "KsVcDHNc": {}}, "party_id": "ioW1mVyx", "party_members": [{"user_id": "JUL5s4bF"}, {"user_id": "YAAMicLq"}, {"user_id": "mXMfpDyK"}]}]}, {"matching_parties": [{"party_attributes": {"Mk2UeI5H": {}, "uKDEjcJn": {}, "2QneQsHY": {}}, "party_id": "RcnnGO4Q", "party_members": [{"user_id": "BgONyFLV"}, {"user_id": "JUJd5M1d"}, {"user_id": "sjmqRVQm"}]}, {"party_attributes": {"u95ARuec": {}, "IJieSsMX": {}, "gqKwEEAO": {}}, "party_id": "ucsZX44r", "party_members": [{"user_id": "b6xKwlCq"}, {"user_id": "n2BDNHz3"}, {"user_id": "vCQOIQpl"}]}, {"party_attributes": {"ssnixUHE": {}, "NTmm1X9B": {}, "4rCOLzAV": {}}, "party_id": "Okk0KnFl", "party_members": [{"user_id": "hio7MCcZ"}, {"user_id": "VmWdhUng"}, {"user_id": "aeD4kiir"}]}]}], "namespace": "CPoAYKlw", "notification_payload": {}, "pod_name": "UP65kJmR", "region": "UQQSFm8h", "session_id": "1CREkHZw"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateSession \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 75 'CreateSession' test.out

#- 76 ClaimServer
# body param: body
echo '{"session_id": "BCRhM4oK"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op ClaimServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 76 'ClaimServer' test.out

#- 77 GetSession
$CLI_EXE \
    --sn dsmc \
    --op GetSession \
    --namespace $AB_NAMESPACE \
    --sessionID 'dN2Mwc0G' \
    > test.out 2>&1
eval_tap $? 77 'GetSession' test.out

#- 78 CancelSession
$CLI_EXE \
    --sn dsmc \
    --op CancelSession \
    --namespace $AB_NAMESPACE \
    --sessionID 'Vy4snxG2' \
    > test.out 2>&1
eval_tap $? 78 'CancelSession' test.out

#- 79 GetDefaultProvider
$CLI_EXE \
    --sn dsmc \
    --op GetDefaultProvider \
    > test.out 2>&1
eval_tap $? 79 'GetDefaultProvider' test.out

#- 80 ListProviders
$CLI_EXE \
    --sn dsmc \
    --op ListProviders \
    > test.out 2>&1
eval_tap $? 80 'ListProviders' test.out

#- 81 ListProvidersByRegion
$CLI_EXE \
    --sn dsmc \
    --op ListProvidersByRegion \
    --region 'D1UPmzvc' \
    > test.out 2>&1
eval_tap $? 81 'ListProvidersByRegion' test.out

#- 82 PublicGetMessages
$CLI_EXE \
    --sn dsmc \
    --op PublicGetMessages \
    > test.out 2>&1
eval_tap $? 82 'PublicGetMessages' test.out


# remove artifacts
rm -f "$CLI_TOKEN_FILE"
rm -f "$TEMP_JSON_INPUT"
rm -f "$TEMP_FILE_UPLOAD"

exit $EXIT_CODE