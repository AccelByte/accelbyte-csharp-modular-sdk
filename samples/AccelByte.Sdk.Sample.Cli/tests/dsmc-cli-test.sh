#!/usr/bin/env bash

# Copyright (c) 2021 AccelByte Inc. All Rights Reserved.
# This is licensed software from AccelByte Inc, for limitations
# and restrictions contact your company contract manager.

# This code is generated by tool. DO NOT EDIT.

# Meta:
# - random seed: 
# - template file: 

# Instructions:
# - Run the Justice SDK Mock Server first before running this script.

export AB_BASE_URL="http://127.0.0.1:8080"
export AB_CLIENT_ID="admin"
export AB_CLIENT_SECRET="admin"
export AB_NAMESPACE="test"
export AB_APP_NAME="UnitTest"

EXIT_CODE=0

eval_tap() {
  if [ $1 -eq 0 ]; then
    echo "ok $2 - $3"
  else
    EXIT_CODE=1
    echo "not ok $2 - $3"
    sed 's/^/# /g' $4
  fi
  rm -f $4
}

CLI_EXE="AccelByte.Sdk.Sample.Cli"
CLI_TOKEN_FILE="$(dirname "$(which $CLI_EXE)")/token.json"
TEMP_JSON_INPUT="input_json.json"
TEMP_FILE_UPLOAD="file_upload.bin"

echo "TAP version 13"
echo "1..89"

#- 1 Login
$CLI_EXE --op login --lt user --user user --pass user > test.out 2>&1
eval_tap $? 1 'Login' test.out

if [ $EXIT_CODE -ne 0 ]; then
  echo "Bail out! Login failed."
  exit $EXIT_CODE
fi

# echo "foo" > "$CLI_TOKEN_FILE"

#- 2 ListConfig
$CLI_EXE \
    --sn dsmc \
    --op ListConfig \
    > test.out 2>&1
eval_tap $? 2 'ListConfig' test.out

#- 3 SaveConfig
eval_tap 0 3 'SaveConfig # SKIP deprecated' test.out

#- 4 UpdateImage
# body param: body
echo '{"artifactPath": "kyohYRth", "coreDumpEnabled": false, "image": "gBXl3lMU", "imageReplicationsMap": {"f9uYu3z7": {"failure_code": "yjh2Vry5", "region": "ThIri8ZJ", "status": "Les3CRmK", "uri": "5jse7ILH"}, "RhKC7zX5": {"failure_code": "pWPI1EdO", "region": "KXcYQ8NQ", "status": "xsAcaVQv", "uri": "VENIYEGY"}, "b6ZHr6V1": {"failure_code": "NzdSFEZU", "region": "7Jma6HsO", "status": "09OhvPe6", "uri": "PW9Plaxm"}}, "namespace": "HIebKS8a", "patchVersion": "0TJxgKIS", "persistent": false, "ulimitFileSize": 36, "version": "l6U537Hd"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateImage \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 4 'UpdateImage' test.out

#- 5 CreateImage
# body param: body
echo '{"artifactPath": "eYQr1tU5", "coreDumpEnabled": true, "dockerPath": "P5h3THzB", "image": "g1AsYqq6", "imageSize": 88, "namespace": "JFWIqkv0", "persistent": true, "ulimitFileSize": 84, "version": "b4tgPuXq"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateImage \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 5 'CreateImage' test.out

#- 6 CreateImagePatch
# body param: body
echo '{"artifactPath": "JYg7OTlY", "coreDumpEnabled": true, "dockerPath": "aJFSAtk8", "image": "rqnsnT8E", "imageSize": 77, "namespace": "tMePAwxk", "patchVersion": "5A5bkEa4", "persistent": false, "ulimitFileSize": 14, "uploaderFlag": "bbuTnUOG", "version": "jpg10m3l"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateImagePatch \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 6 'CreateImagePatch' test.out

#- 7 GetLowestInstanceSpec
$CLI_EXE \
    --sn dsmc \
    --op GetLowestInstanceSpec \
    > test.out 2>&1
eval_tap $? 7 'GetLowestInstanceSpec' test.out

#- 8 GetWorkerConfig
$CLI_EXE \
    --sn dsmc \
    --op GetWorkerConfig \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 8 'GetWorkerConfig' test.out

#- 9 UpdateWorkerConfig
# body param: body
echo '{"auto_deletion": true, "ghost_worker": true, "manual_buffer_override": true, "zombie_worker": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateWorkerConfig \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 9 'UpdateWorkerConfig' test.out

#- 10 CreateWorkerConfig
# body param: body
echo '{"auto_deletion": false, "ghost_worker": true, "manual_buffer_override": true, "zombie_worker": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateWorkerConfig \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 10 'CreateWorkerConfig' test.out

#- 11 GetConfig
$CLI_EXE \
    --sn dsmc \
    --op GetConfig \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 11 'GetConfig' test.out

#- 12 CreateConfig
# body param: body
echo '{"claim_timeout": 12, "creation_timeout": 42, "default_version": "cFAify9B", "port": 34, "ports": {"b6JVbihd": 72, "FkFgWbQ0": 13, "7yQIiBLh": 35}, "protocol": "T3qAmySV", "providers": ["N8jklsC8", "fAEdYUzr", "oGO20Xty"], "session_timeout": 47, "unreachable_timeout": 78}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateConfig \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 12 'CreateConfig' test.out

#- 13 DeleteConfig
$CLI_EXE \
    --sn dsmc \
    --op DeleteConfig \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 13 'DeleteConfig' test.out

#- 14 UpdateConfig
# body param: body
echo '{"claim_timeout": 24, "creation_timeout": 34, "default_version": "ZqFyMwwy", "port": 74, "protocol": "IcGhHuNt", "providers": ["U9kvuTMR", "85TxlJI4", "qi7DNHCM"], "session_timeout": 48, "unreachable_timeout": 46}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateConfig \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 14 'UpdateConfig' test.out

#- 15 ClearCache
$CLI_EXE \
    --sn dsmc \
    --op ClearCache \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 15 'ClearCache' test.out

#- 16 GetAllDeployment
$CLI_EXE \
    --sn dsmc \
    --op GetAllDeployment \
    --namespace $AB_NAMESPACE \
    --name '9xFrAPsP' \
    --count '28' \
    --offset '10' \
    > test.out 2>&1
eval_tap $? 16 'GetAllDeployment' test.out

#- 17 GetDeployment
$CLI_EXE \
    --sn dsmc \
    --op GetDeployment \
    --deployment 'xNsoFydI' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 17 'GetDeployment' test.out

#- 18 CreateDeployment
# body param: body
echo '{"allow_version_override": true, "buffer_count": 32, "buffer_percent": 4, "configuration": "HD8y6EFl", "enable_region_overrides": true, "extendable_session": true, "game_version": "mJrBEdEL", "max_count": 0, "min_count": 23, "overrides": {"LuKiw66B": {"buffer_count": 43, "buffer_percent": 26, "configuration": "5Zt2UIj4", "enable_region_overrides": false, "extendable_session": true, "game_version": "LtH7ItsK", "max_count": 18, "min_count": 71, "name": "xSUjlx72", "region_overrides": {"6qmEupiC": {"buffer_count": 65, "buffer_percent": 41, "max_count": 66, "min_count": 44, "name": "A8776x5c", "unlimited": true, "use_buffer_percent": false}, "kCHtrhPM": {"buffer_count": 36, "buffer_percent": 20, "max_count": 58, "min_count": 40, "name": "S9qceiq7", "unlimited": true, "use_buffer_percent": false}, "14iBWMIK": {"buffer_count": 81, "buffer_percent": 9, "max_count": 65, "min_count": 11, "name": "imW0nkZc", "unlimited": true, "use_buffer_percent": false}}, "regions": ["YhcBgB47", "aimkEN35", "JWoqmQfL"], "session_timeout": 7, "unlimited": false, "use_buffer_percent": false}, "pFzUlgUj": {"buffer_count": 45, "buffer_percent": 57, "configuration": "M2rCKzps", "enable_region_overrides": false, "extendable_session": false, "game_version": "dY4munD8", "max_count": 98, "min_count": 53, "name": "R9vkIcD2", "region_overrides": {"IrEwmIm3": {"buffer_count": 59, "buffer_percent": 85, "max_count": 53, "min_count": 22, "name": "EC4TVgY1", "unlimited": true, "use_buffer_percent": true}, "FZh16cz4": {"buffer_count": 14, "buffer_percent": 73, "max_count": 88, "min_count": 58, "name": "Q91XXQ4I", "unlimited": false, "use_buffer_percent": false}, "gzRc3BqY": {"buffer_count": 65, "buffer_percent": 54, "max_count": 21, "min_count": 22, "name": "n60EHVKx", "unlimited": false, "use_buffer_percent": false}}, "regions": ["8ETDLEXS", "oCnpIURo", "qPaPOOEz"], "session_timeout": 30, "unlimited": false, "use_buffer_percent": false}, "9KYzGZ5j": {"buffer_count": 93, "buffer_percent": 73, "configuration": "vOLquH9h", "enable_region_overrides": false, "extendable_session": false, "game_version": "II4J6qMt", "max_count": 15, "min_count": 93, "name": "XWgUXyVA", "region_overrides": {"O0XiDU7Z": {"buffer_count": 48, "buffer_percent": 32, "max_count": 41, "min_count": 84, "name": "LOc03yMU", "unlimited": false, "use_buffer_percent": true}, "8ETqLeCB": {"buffer_count": 9, "buffer_percent": 28, "max_count": 66, "min_count": 87, "name": "dczPOzni", "unlimited": false, "use_buffer_percent": false}, "or1kRcLC": {"buffer_count": 76, "buffer_percent": 26, "max_count": 11, "min_count": 30, "name": "F3wDYMRK", "unlimited": false, "use_buffer_percent": true}}, "regions": ["x8k0naWF", "oSvMg9Ng", "HE29ow6r"], "session_timeout": 33, "unlimited": false, "use_buffer_percent": true}}, "region_overrides": {"GBZTxJQu": {"buffer_count": 100, "buffer_percent": 7, "max_count": 76, "min_count": 56, "name": "pjhkjOzp", "unlimited": false, "use_buffer_percent": true}, "gm79iZMX": {"buffer_count": 37, "buffer_percent": 24, "max_count": 95, "min_count": 47, "name": "HcA91XP4", "unlimited": false, "use_buffer_percent": false}, "5PyfUwfI": {"buffer_count": 56, "buffer_percent": 32, "max_count": 36, "min_count": 95, "name": "HJm0ciPT", "unlimited": false, "use_buffer_percent": true}}, "regions": ["Ek9F3tzA", "kl7AYEfH", "kA1lyG6r"], "session_timeout": 55, "unlimited": true, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateDeployment \
    --deployment 'udh22VdR' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 18 'CreateDeployment' test.out

#- 19 DeleteDeployment
$CLI_EXE \
    --sn dsmc \
    --op DeleteDeployment \
    --deployment 'ZdOh700N' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 19 'DeleteDeployment' test.out

#- 20 UpdateDeployment
# body param: body
echo '{"allow_version_override": true, "buffer_count": 0, "buffer_percent": 68, "configuration": "rDxuexPN", "enable_region_overrides": true, "extendable_session": false, "game_version": "ZQ1TbSet", "max_count": 18, "min_count": 8, "regions": ["SVLleH51", "SzJbQKqv", "XcNLQkrZ"], "session_timeout": 63, "unlimited": false, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateDeployment \
    --deployment 'yzt95i5T' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 20 'UpdateDeployment' test.out

#- 21 CreateRootRegionOverride
# body param: body
echo '{"buffer_count": 86, "buffer_percent": 58, "max_count": 65, "min_count": 98, "unlimited": true, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateRootRegionOverride \
    --deployment 'aogHCyAD' \
    --namespace $AB_NAMESPACE \
    --region 'IDiz9UkB' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 21 'CreateRootRegionOverride' test.out

#- 22 DeleteRootRegionOverride
$CLI_EXE \
    --sn dsmc \
    --op DeleteRootRegionOverride \
    --deployment '7ZP6RCHI' \
    --namespace $AB_NAMESPACE \
    --region 'YNpmotCT' \
    > test.out 2>&1
eval_tap $? 22 'DeleteRootRegionOverride' test.out

#- 23 UpdateRootRegionOverride
# body param: body
echo '{"buffer_count": 16, "buffer_percent": 100, "max_count": 8, "min_count": 47, "unlimited": true, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateRootRegionOverride \
    --deployment 'uwlV6stB' \
    --namespace $AB_NAMESPACE \
    --region 'lYa4NYmO' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 23 'UpdateRootRegionOverride' test.out

#- 24 CreateDeploymentOverride
# body param: body
echo '{"buffer_count": 39, "buffer_percent": 95, "configuration": "QIATunZn", "enable_region_overrides": true, "extendable_session": false, "game_version": "CBVoLBDU", "max_count": 53, "min_count": 77, "region_overrides": {"neChstVY": {"buffer_count": 12, "buffer_percent": 92, "max_count": 56, "min_count": 45, "name": "WkGBJAOk", "unlimited": false, "use_buffer_percent": false}, "yZ5ISyO6": {"buffer_count": 50, "buffer_percent": 7, "max_count": 57, "min_count": 61, "name": "346nBk1H", "unlimited": true, "use_buffer_percent": true}, "YBJWkJUd": {"buffer_count": 32, "buffer_percent": 97, "max_count": 90, "min_count": 2, "name": "OOOUXODx", "unlimited": true, "use_buffer_percent": true}}, "regions": ["8lR58aOL", "yvZ4I0zf", "pMvxb40U"], "session_timeout": 93, "unlimited": true, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateDeploymentOverride \
    --deployment 'IQBBwUSP' \
    --namespace $AB_NAMESPACE \
    --version 'MR76RuJx' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 24 'CreateDeploymentOverride' test.out

#- 25 DeleteDeploymentOverride
$CLI_EXE \
    --sn dsmc \
    --op DeleteDeploymentOverride \
    --deployment 'wa1pbymu' \
    --namespace $AB_NAMESPACE \
    --version 'K2jbEXvd' \
    > test.out 2>&1
eval_tap $? 25 'DeleteDeploymentOverride' test.out

#- 26 UpdateDeploymentOverride
# body param: body
echo '{"buffer_count": 72, "buffer_percent": 91, "configuration": "Fk8tiZxP", "enable_region_overrides": false, "game_version": "lNBkICcL", "max_count": 22, "min_count": 33, "regions": ["wFdaZKcG", "aKTVKdXF", "Z25VNbYL"], "session_timeout": 69, "unlimited": false, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateDeploymentOverride \
    --deployment 'OoKmS9kr' \
    --namespace $AB_NAMESPACE \
    --version 'pqje3Lqs' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 26 'UpdateDeploymentOverride' test.out

#- 27 CreateOverrideRegionOverride
# body param: body
echo '{"buffer_count": 2, "buffer_percent": 32, "max_count": 73, "min_count": 43, "unlimited": false, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateOverrideRegionOverride \
    --deployment 'M1jCVCmz' \
    --namespace $AB_NAMESPACE \
    --region 'udVmZ3V0' \
    --version 'ZwQVzkf7' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 27 'CreateOverrideRegionOverride' test.out

#- 28 DeleteOverrideRegionOverride
$CLI_EXE \
    --sn dsmc \
    --op DeleteOverrideRegionOverride \
    --deployment '4hN8Ja8a' \
    --namespace $AB_NAMESPACE \
    --region 'OU3pUFFs' \
    --version '1In2aSXQ' \
    > test.out 2>&1
eval_tap $? 28 'DeleteOverrideRegionOverride' test.out

#- 29 UpdateOverrideRegionOverride
# body param: body
echo '{"buffer_count": 34, "buffer_percent": 33, "max_count": 63, "min_count": 36, "unlimited": true, "use_buffer_percent": false}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdateOverrideRegionOverride \
    --deployment '0cv3Oj0e' \
    --namespace $AB_NAMESPACE \
    --region 'EquOYC1G' \
    --version 'edwmmss8' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 29 'UpdateOverrideRegionOverride' test.out

#- 30 DeleteCreatingServerCountQueue
$CLI_EXE \
    --sn dsmc \
    --op DeleteCreatingServerCountQueue \
    --deployment 'g1NbyMID' \
    --namespace $AB_NAMESPACE \
    --version 'PRkzaEt8' \
    > test.out 2>&1
eval_tap $? 30 'DeleteCreatingServerCountQueue' test.out

#- 31 GetAllPodConfig
$CLI_EXE \
    --sn dsmc \
    --op GetAllPodConfig \
    --namespace $AB_NAMESPACE \
    --count '67' \
    --offset '99' \
    > test.out 2>&1
eval_tap $? 31 'GetAllPodConfig' test.out

#- 32 GetPodConfig
$CLI_EXE \
    --sn dsmc \
    --op GetPodConfig \
    --name 'e4Ki3EH0' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 32 'GetPodConfig' test.out

#- 33 CreatePodConfig
# body param: body
echo '{"cpu_limit": 37, "mem_limit": 1, "params": "AhTvKJ34"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreatePodConfig \
    --name 'FxWmy9Py' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 33 'CreatePodConfig' test.out

#- 34 DeletePodConfig
$CLI_EXE \
    --sn dsmc \
    --op DeletePodConfig \
    --name 'jQzJYMlK' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 34 'DeletePodConfig' test.out

#- 35 UpdatePodConfig
# body param: body
echo '{"cpu_limit": 65, "mem_limit": 33, "name": "dNc4LfrN", "params": "kCumHNQO"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdatePodConfig \
    --name 'r3OdGzSt' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 35 'UpdatePodConfig' test.out

#- 36 AddPort
# body param: body
echo '{"port": 61}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op AddPort \
    --name 'oSor8AKb' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 36 'AddPort' test.out

#- 37 DeletePort
$CLI_EXE \
    --sn dsmc \
    --op DeletePort \
    --name 'xQIBkeb5' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 37 'DeletePort' test.out

#- 38 UpdatePort
# body param: body
echo '{"name": "IUUczTsE", "port": 18}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op UpdatePort \
    --name 'wKdE6mu9' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 38 'UpdatePort' test.out

#- 39 ListImages
$CLI_EXE \
    --sn dsmc \
    --op ListImages \
    --namespace $AB_NAMESPACE \
    --q 'o4awRnp2' \
    --sortBy 'version' \
    --sortDirection 'asc' \
    --count '99' \
    --offset '42' \
    > test.out 2>&1
eval_tap $? 39 'ListImages' test.out

#- 40 DeleteImage
$CLI_EXE \
    --sn dsmc \
    --op DeleteImage \
    --namespace $AB_NAMESPACE \
    --imageURI 'E4kHb6pC' \
    --version 'IvMwHtnC' \
    > test.out 2>&1
eval_tap $? 40 'DeleteImage' test.out

#- 41 GetImageLimit
$CLI_EXE \
    --sn dsmc \
    --op GetImageLimit \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 41 'GetImageLimit' test.out

#- 42 DeleteImagePatch
$CLI_EXE \
    --sn dsmc \
    --op DeleteImagePatch \
    --namespace $AB_NAMESPACE \
    --imageURI 'u5yJNgqT' \
    --version 'dGIpkWZV' \
    --versionPatch '8ncCXLy0' \
    > test.out 2>&1
eval_tap $? 42 'DeleteImagePatch' test.out

#- 43 GetImageDetail
$CLI_EXE \
    --sn dsmc \
    --op GetImageDetail \
    --namespace $AB_NAMESPACE \
    --version 'AjXpWTXG' \
    > test.out 2>&1
eval_tap $? 43 'GetImageDetail' test.out

#- 44 GetImagePatches
$CLI_EXE \
    --sn dsmc \
    --op GetImagePatches \
    --namespace $AB_NAMESPACE \
    --version 'GseEUlkU' \
    > test.out 2>&1
eval_tap $? 44 'GetImagePatches' test.out

#- 45 GetImagePatchDetail
$CLI_EXE \
    --sn dsmc \
    --op GetImagePatchDetail \
    --namespace $AB_NAMESPACE \
    --version 'OQhMyc7i' \
    --versionPatch 'np2knzDx' \
    > test.out 2>&1
eval_tap $? 45 'GetImagePatchDetail' test.out

#- 46 AddBuffer
# body param: body
echo '{"AllocCount": 32, "DeploymentName": "lInGp1fL", "JobCount": 86, "JobPriority": 81, "OverrideVersion": "BrAUYFkk", "Region": "4NmNf0k6"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op AddBuffer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 46 'AddBuffer' test.out

#- 47 GetRepository
$CLI_EXE \
    --sn dsmc \
    --op GetRepository \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 47 'GetRepository' test.out

#- 48 ListServer
$CLI_EXE \
    --sn dsmc \
    --op ListServer \
    --namespace $AB_NAMESPACE \
    --region 'y219OuVh' \
    --count '13' \
    --offset '62' \
    > test.out 2>&1
eval_tap $? 48 'ListServer' test.out

#- 49 CountServer
$CLI_EXE \
    --sn dsmc \
    --op CountServer \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 49 'CountServer' test.out

#- 50 CountServerDetailed
$CLI_EXE \
    --sn dsmc \
    --op CountServerDetailed \
    --namespace $AB_NAMESPACE \
    --region 'IFdKKqQV' \
    > test.out 2>&1
eval_tap $? 50 'CountServerDetailed' test.out

#- 51 ListLocalServer
$CLI_EXE \
    --sn dsmc \
    --op ListLocalServer \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 51 'ListLocalServer' test.out

#- 52 DeleteLocalServer
$CLI_EXE \
    --sn dsmc \
    --op DeleteLocalServer \
    --name '1IgSINFl' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 52 'DeleteLocalServer' test.out

#- 53 GetServer
$CLI_EXE \
    --sn dsmc \
    --op GetServer \
    --namespace $AB_NAMESPACE \
    --podName '1ZtmG2pm' \
    > test.out 2>&1
eval_tap $? 53 'GetServer' test.out

#- 54 DeleteServer
$CLI_EXE \
    --sn dsmc \
    --op DeleteServer \
    --namespace $AB_NAMESPACE \
    --podName 'O43R6Vgt' \
    > test.out 2>&1
eval_tap $? 54 'DeleteServer' test.out

#- 55 ListSession
$CLI_EXE \
    --sn dsmc \
    --op ListSession \
    --namespace $AB_NAMESPACE \
    --region 'DMbg07Ma' \
    --withServer 'true' \
    --count '41' \
    --offset '33' \
    > test.out 2>&1
eval_tap $? 55 'ListSession' test.out

#- 56 CountSession
$CLI_EXE \
    --sn dsmc \
    --op CountSession \
    --namespace $AB_NAMESPACE \
    --region '9KdYfjxR' \
    > test.out 2>&1
eval_tap $? 56 'CountSession' test.out

#- 57 DeleteSession
$CLI_EXE \
    --sn dsmc \
    --op DeleteSession \
    --namespace $AB_NAMESPACE \
    --sessionID '14vB4lEx' \
    > test.out 2>&1
eval_tap $? 57 'DeleteSession' test.out

#- 58 RunGhostCleanerRequestHandler
$CLI_EXE \
    --sn dsmc \
    --op RunGhostCleanerRequestHandler \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 58 'RunGhostCleanerRequestHandler' test.out

#- 59 RunZombieCleanerRequestHandler
# body param: body
echo '{"JobCount": 6, "Region": "tSq39dII", "TimeoutSecond": 27, "ZombieCount": 75}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op RunZombieCleanerRequestHandler \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 59 'RunZombieCleanerRequestHandler' test.out

#- 60 CreateRepository
# body param: body
echo '{"namespace": "sIE3MAlc", "repository": "xHZw5zej"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateRepository \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 60 'CreateRepository' test.out

#- 61 ExportConfigV1
$CLI_EXE \
    --sn dsmc \
    --op ExportConfigV1 \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 61 'ExportConfigV1' test.out

#- 62 ImportConfigV1
# form data upload: file
echo 'tmp.dat' > $TEMP_FILE_UPLOAD
$CLI_EXE \
    --sn dsmc \
    --op ImportConfigV1 \
    --namespace $AB_NAMESPACE \
    --upload file $TEMP_FILE_UPLOAD \
    > test.out 2>&1
eval_tap $? 62 'ImportConfigV1' test.out

#- 63 GetAllDeploymentClient
$CLI_EXE \
    --sn dsmc \
    --op GetAllDeploymentClient \
    --namespace $AB_NAMESPACE \
    --name 'EGugB7V6' \
    --count '45' \
    --offset '85' \
    > test.out 2>&1
eval_tap $? 63 'GetAllDeploymentClient' test.out

#- 64 GetDeploymentClient
$CLI_EXE \
    --sn dsmc \
    --op GetDeploymentClient \
    --deployment 'eRocdOtS' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 64 'GetDeploymentClient' test.out

#- 65 CreateDeploymentClient
# body param: body
echo '{"allow_version_override": true, "buffer_count": 15, "buffer_percent": 19, "configuration": "KN1YGUvJ", "enable_region_overrides": true, "extendable_session": true, "game_version": "G6rnWkRR", "max_count": 3, "min_count": 21, "overrides": {"PxKQAKf5": {"buffer_count": 89, "buffer_percent": 27, "configuration": "zUZKrWZr", "enable_region_overrides": true, "extendable_session": false, "game_version": "VIZQBZxd", "max_count": 31, "min_count": 17, "name": "wgrVHBLG", "region_overrides": {"gjSJHSuH": {"buffer_count": 5, "buffer_percent": 79, "max_count": 93, "min_count": 18, "name": "ZFYovnGy", "unlimited": false, "use_buffer_percent": true}, "inwhYfOr": {"buffer_count": 92, "buffer_percent": 99, "max_count": 55, "min_count": 85, "name": "vkHcKSlI", "unlimited": true, "use_buffer_percent": false}, "RwYR9YvX": {"buffer_count": 68, "buffer_percent": 12, "max_count": 44, "min_count": 24, "name": "F4QSRcOx", "unlimited": true, "use_buffer_percent": false}}, "regions": ["5sJC6aS8", "0oFHT6dv", "EGadFjhG"], "session_timeout": 53, "unlimited": false, "use_buffer_percent": false}, "KFqYioTI": {"buffer_count": 28, "buffer_percent": 27, "configuration": "EUB7Quvs", "enable_region_overrides": false, "extendable_session": true, "game_version": "fiUDkrCR", "max_count": 57, "min_count": 19, "name": "F2KbLvW4", "region_overrides": {"pjFqn7js": {"buffer_count": 3, "buffer_percent": 63, "max_count": 76, "min_count": 33, "name": "NU42TZuE", "unlimited": false, "use_buffer_percent": false}, "xx58Ur5c": {"buffer_count": 18, "buffer_percent": 84, "max_count": 27, "min_count": 63, "name": "jVOusDrd", "unlimited": false, "use_buffer_percent": true}, "ihMql39F": {"buffer_count": 95, "buffer_percent": 6, "max_count": 89, "min_count": 100, "name": "X5HFbuez", "unlimited": true, "use_buffer_percent": false}}, "regions": ["zVEewVFl", "rotIhbDq", "DQK3fgGo"], "session_timeout": 84, "unlimited": false, "use_buffer_percent": true}, "9tl71lvt": {"buffer_count": 38, "buffer_percent": 57, "configuration": "3Wou5aO7", "enable_region_overrides": true, "extendable_session": false, "game_version": "j7LebNwE", "max_count": 49, "min_count": 37, "name": "Aj5jMagT", "region_overrides": {"2Fh9uPwh": {"buffer_count": 0, "buffer_percent": 57, "max_count": 59, "min_count": 12, "name": "DLKK3ozj", "unlimited": false, "use_buffer_percent": false}, "Db6GudZl": {"buffer_count": 50, "buffer_percent": 93, "max_count": 12, "min_count": 44, "name": "Vfs8vpET", "unlimited": true, "use_buffer_percent": true}, "uEu0NxGc": {"buffer_count": 97, "buffer_percent": 97, "max_count": 22, "min_count": 24, "name": "AGJljmtO", "unlimited": false, "use_buffer_percent": false}}, "regions": ["YZomnLdH", "duoUNXwH", "dAkpSQT9"], "session_timeout": 30, "unlimited": false, "use_buffer_percent": true}}, "region_overrides": {"faraWqeD": {"buffer_count": 93, "buffer_percent": 38, "max_count": 99, "min_count": 32, "name": "ykUj8fxx", "unlimited": true, "use_buffer_percent": true}, "bI1QlfMc": {"buffer_count": 33, "buffer_percent": 66, "max_count": 95, "min_count": 78, "name": "74G20UBX", "unlimited": false, "use_buffer_percent": false}, "n1baW9y0": {"buffer_count": 93, "buffer_percent": 99, "max_count": 90, "min_count": 2, "name": "1lljHm1k", "unlimited": false, "use_buffer_percent": true}}, "regions": ["DquGodn7", "fHo3x2BG", "sNyLuM0v"], "session_timeout": 37, "unlimited": true, "use_buffer_percent": true}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateDeploymentClient \
    --deployment 'idA5Pizr' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 65 'CreateDeploymentClient' test.out

#- 66 DeleteDeploymentClient
$CLI_EXE \
    --sn dsmc \
    --op DeleteDeploymentClient \
    --deployment 'cxINApdY' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 66 'DeleteDeploymentClient' test.out

#- 67 GetAllPodConfigClient
$CLI_EXE \
    --sn dsmc \
    --op GetAllPodConfigClient \
    --namespace $AB_NAMESPACE \
    --count '29' \
    --offset '68' \
    > test.out 2>&1
eval_tap $? 67 'GetAllPodConfigClient' test.out

#- 68 CreatePodConfigClient
# body param: body
echo '{"cpu_limit": 87, "mem_limit": 40, "params": "iL5vYMwp"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreatePodConfigClient \
    --name 'G9yP6tBR' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 68 'CreatePodConfigClient' test.out

#- 69 DeletePodConfigClient
$CLI_EXE \
    --sn dsmc \
    --op DeletePodConfigClient \
    --name 'l2Mjb0th' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 69 'DeletePodConfigClient' test.out

#- 70 ListImagesClient
$CLI_EXE \
    --sn dsmc \
    --op ListImagesClient \
    --namespace $AB_NAMESPACE \
    --count '24' \
    --offset '83' \
    --q 'FFbCLKe2' \
    --sortBy 'version' \
    --sortDirection 'asc' \
    > test.out 2>&1
eval_tap $? 70 'ListImagesClient' test.out

#- 71 ImageLimitClient
$CLI_EXE \
    --sn dsmc \
    --op ImageLimitClient \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 71 'ImageLimitClient' test.out

#- 72 ImageDetailClient
$CLI_EXE \
    --sn dsmc \
    --op ImageDetailClient \
    --namespace $AB_NAMESPACE \
    --version 'GYgLajwq' \
    > test.out 2>&1
eval_tap $? 72 'ImageDetailClient' test.out

#- 73 ListServerClient
$CLI_EXE \
    --sn dsmc \
    --op ListServerClient \
    --namespace $AB_NAMESPACE \
    --region 'aeXUEd2t' \
    --count '50' \
    --offset '32' \
    > test.out 2>&1
eval_tap $? 73 'ListServerClient' test.out

#- 74 CountServerDetailedClient
$CLI_EXE \
    --sn dsmc \
    --op CountServerDetailedClient \
    --namespace $AB_NAMESPACE \
    --region 'aobQvW1Y' \
    > test.out 2>&1
eval_tap $? 74 'CountServerDetailedClient' test.out

#- 75 ServerHeartbeat
# body param: body
echo '{"podName": "dgAAS5Zo"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op ServerHeartbeat \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 75 'ServerHeartbeat' test.out

#- 76 DeregisterLocalServer
# body param: body
echo '{"name": "Gx9oFFFi"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op DeregisterLocalServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 76 'DeregisterLocalServer' test.out

#- 77 RegisterLocalServer
# body param: body
echo '{"custom_attribute": "PisrGzRL", "ip": "Hb1LWYvA", "name": "zyPsbd72", "port": 0}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op RegisterLocalServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 77 'RegisterLocalServer' test.out

#- 78 RegisterServer
# body param: body
echo '{"custom_attribute": "Rww9Lzc9", "pod_name": "nzODittm"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op RegisterServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 78 'RegisterServer' test.out

#- 79 ShutdownServer
# body param: body
echo '{"kill_me": true, "pod_name": "OZmdlZU5"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op ShutdownServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 79 'ShutdownServer' test.out

#- 80 GetServerSessionTimeout
$CLI_EXE \
    --sn dsmc \
    --op GetServerSessionTimeout \
    --namespace $AB_NAMESPACE \
    --podName 'hgpiq99j' \
    > test.out 2>&1
eval_tap $? 80 'GetServerSessionTimeout' test.out

#- 81 GetServerSession
$CLI_EXE \
    --sn dsmc \
    --op GetServerSession \
    --namespace $AB_NAMESPACE \
    --podName 'fLE2HvKM' \
    > test.out 2>&1
eval_tap $? 81 'GetServerSession' test.out

#- 82 CreateSession
# body param: body
echo '{"client_version": "q8to9dFj", "configuration": "oXnFe4B3", "deployment": "AcMZokDw", "game_mode": "UIc0CP2c", "matching_allies": [{"matching_parties": [{"party_attributes": {"aH7XtW51": {}, "RiKwVDNh": {}, "CBPCwWqa": {}}, "party_id": "mcYqTIU3", "party_members": [{"user_id": "YayCOV4v"}, {"user_id": "FHglnu5V"}, {"user_id": "48brsxmi"}]}, {"party_attributes": {"ZXH11lsn": {}, "2dctVlWV": {}, "4moBadN8": {}}, "party_id": "f7YJcyAn", "party_members": [{"user_id": "Oicwob0s"}, {"user_id": "3RyU6Nqe"}, {"user_id": "Uwqod3Fn"}]}, {"party_attributes": {"3NW4isg3": {}, "lGGCyCRB": {}, "CcZ9rUOp": {}}, "party_id": "67ynibXZ", "party_members": [{"user_id": "ZoiQ0irb"}, {"user_id": "bAgNxp8l"}, {"user_id": "UM5IjdZi"}]}]}, {"matching_parties": [{"party_attributes": {"cXBTErDG": {}, "nuxFPQuL": {}, "ZUvhxbro": {}}, "party_id": "GTQIOP6w", "party_members": [{"user_id": "Q6ifWyuS"}, {"user_id": "aqimCpnF"}, {"user_id": "aKiTzlzS"}]}, {"party_attributes": {"Gu6H2SPy": {}, "zvwhaX3j": {}, "SUDxFY1B": {}}, "party_id": "x0ABiccF", "party_members": [{"user_id": "DcGfPPDX"}, {"user_id": "HLSYFisZ"}, {"user_id": "ZOueWGqH"}]}, {"party_attributes": {"jGGMbX0a": {}, "VUkDj0RL": {}, "ayhFEJ4R": {}}, "party_id": "n6J3A685", "party_members": [{"user_id": "cgLn1VfV"}, {"user_id": "eDXgEXrv"}, {"user_id": "5X6K9ifw"}]}]}, {"matching_parties": [{"party_attributes": {"WG9wpDsY": {}, "lOR21mT0": {}, "zZrKs4SJ": {}}, "party_id": "Ong10jRR", "party_members": [{"user_id": "GlGgCHdx"}, {"user_id": "STFHqjXO"}, {"user_id": "tNdsc577"}]}, {"party_attributes": {"EhHshEzv": {}, "w67B1GSK": {}, "mcnHBORf": {}}, "party_id": "ixdVe85o", "party_members": [{"user_id": "fIFrYnxj"}, {"user_id": "52LqQ2wI"}, {"user_id": "3wqiHwur"}]}, {"party_attributes": {"J10BgJO6": {}, "X8igyrgp": {}, "mjcts8s8": {}}, "party_id": "hWUBL6Vw", "party_members": [{"user_id": "4Oxr6L2r"}, {"user_id": "FTO6TV0Q"}, {"user_id": "7heI3ZEO"}]}]}], "namespace": "9kJoIAWd", "notification_payload": {}, "pod_name": "vhODkgj6", "region": "d0PaH048", "session_id": "hFvZ0g7P"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op CreateSession \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 82 'CreateSession' test.out

#- 83 ClaimServer
# body param: body
echo '{"game_mode": "IPAbn84g", "matching_allies": [{"matching_parties": [{"party_attributes": {"SXqfRnhY": {}, "vsOOSnmo": {}, "ZGjBRHy4": {}}, "party_id": "z6rQePaK", "party_members": [{"user_id": "8sXlolKU"}, {"user_id": "RgnPve43"}, {"user_id": "53Kbufom"}]}, {"party_attributes": {"ruB2vkMu": {}, "cpG0BIIT": {}, "UX4pgAKZ": {}}, "party_id": "KgMyJizJ", "party_members": [{"user_id": "5FWuK1LR"}, {"user_id": "Snkwqvof"}, {"user_id": "jsBNhWOT"}]}, {"party_attributes": {"ACLZSG3i": {}, "Dd6WkKHj": {}, "sKsDEbkR": {}}, "party_id": "TUO2Be8S", "party_members": [{"user_id": "U2RRGT46"}, {"user_id": "5tEAFmON"}, {"user_id": "zMT2lNL8"}]}]}, {"matching_parties": [{"party_attributes": {"C6fsmoea": {}, "4QT7NaxV": {}, "PcaoXJG9": {}}, "party_id": "hZLvTTnP", "party_members": [{"user_id": "AdnzmNwB"}, {"user_id": "JsDZEabT"}, {"user_id": "UZRLpxsj"}]}, {"party_attributes": {"FR1im02C": {}, "fCkI9kvv": {}, "GyosZyBA": {}}, "party_id": "jg5VVjo7", "party_members": [{"user_id": "hrqDXzw2"}, {"user_id": "0DdBgEhk"}, {"user_id": "61WiKyI4"}]}, {"party_attributes": {"wpQejVJE": {}, "Ru84NtiZ": {}, "KkCPyZq6": {}}, "party_id": "bJJwplks", "party_members": [{"user_id": "aJqdMq0x"}, {"user_id": "XAkzei2V"}, {"user_id": "GGZvHeVA"}]}]}, {"matching_parties": [{"party_attributes": {"e5pyiqQg": {}, "t37PkML6": {}, "OTGYCwpg": {}}, "party_id": "bqsMYUBO", "party_members": [{"user_id": "4gW3btUM"}, {"user_id": "bkJfUbPP"}, {"user_id": "4S2NFp2x"}]}, {"party_attributes": {"4GKowcH3": {}, "Fl0OZ6fY": {}, "IVCQXpEM": {}}, "party_id": "NzgfFLZL", "party_members": [{"user_id": "hRr2vBhv"}, {"user_id": "d0SNsN90"}, {"user_id": "4onDCM8U"}]}, {"party_attributes": {"kYfUfaOA": {}, "u7yNOnz9": {}, "ynyLD1Cc": {}}, "party_id": "FxD72I1X", "party_members": [{"user_id": "Gy2IBA3h"}, {"user_id": "2NJyBdCp"}, {"user_id": "LjtTiCGY"}]}]}], "namespace": "RdgpC4Wj", "notification_payload": {}, "session_id": "iMqdpjlO"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn dsmc \
    --op ClaimServer \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 83 'ClaimServer' test.out

#- 84 GetSession
$CLI_EXE \
    --sn dsmc \
    --op GetSession \
    --namespace $AB_NAMESPACE \
    --sessionID 'wKyr3rs1' \
    > test.out 2>&1
eval_tap $? 84 'GetSession' test.out

#- 85 CancelSession
$CLI_EXE \
    --sn dsmc \
    --op CancelSession \
    --namespace $AB_NAMESPACE \
    --sessionID 'cUj2L0a7' \
    > test.out 2>&1
eval_tap $? 85 'CancelSession' test.out

#- 86 GetDefaultProvider
$CLI_EXE \
    --sn dsmc \
    --op GetDefaultProvider \
    > test.out 2>&1
eval_tap $? 86 'GetDefaultProvider' test.out

#- 87 ListProviders
$CLI_EXE \
    --sn dsmc \
    --op ListProviders \
    > test.out 2>&1
eval_tap $? 87 'ListProviders' test.out

#- 88 ListProvidersByRegion
$CLI_EXE \
    --sn dsmc \
    --op ListProvidersByRegion \
    --region 'qeRbgNUW' \
    > test.out 2>&1
eval_tap $? 88 'ListProvidersByRegion' test.out

#- 89 PublicGetMessages
$CLI_EXE \
    --sn dsmc \
    --op PublicGetMessages \
    > test.out 2>&1
eval_tap $? 89 'PublicGetMessages' test.out


# remove artifacts
rm -f "$CLI_TOKEN_FILE"
rm -f "$TEMP_JSON_INPUT"
rm -f "$TEMP_FILE_UPLOAD"

exit $EXIT_CODE