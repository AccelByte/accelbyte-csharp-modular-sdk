// Copyright (c) 2022-2026 AccelByte Inc. All Rights Reserved.
// This is licensed software from AccelByte Inc, for limitations
// and restrictions contact your company contract manager.

// This code is generated by tool. DO NOT EDIT.

using System;
using System.Collections.Generic;
using System.Text;
using System.Text.Json;
using System.Net;
using System.Net.Http;
using System.IO;
using System.Threading.Tasks;

using AccelByte.Sdk.Core;
using AccelByte.Sdk.Core.Net.Http;

using AccelByte.Sdk.Api.Legal.Model;

namespace AccelByte.Sdk.Api.Legal.Operation
{
    /// <summary>
    /// oldRetrieveLatestPoliciesByNamespaceAndCountryPublic
    ///
    /// Retrieve all active latest policies based on a namespace and country.
    /// Other detail info:
    /// 
    ///   * Leave the policyType empty if you want to be responded with all policy type
    ///   *  Fill the tags if you want to filter the responded policy by tags
    ///   *  Fill the defaultOnEmpty with true if you want to be responded with default country-specific policy if your requested country is not exist
    ///   *  Fill the alwaysIncludeDefault with true if you want to be responded with always include default policy. If there are duplicate policies (default policies and country specific policies with same base policy) it'll include policy with same country code, for example:
    ///     * Document 1 (default): Region US (default), UA
    ///     * Document 2 (default): Region US (default)
    ///     * Document 3 (default): Region US (default)
    ///     * User: Region UA
    ///     * Query: alwaysIncludeDefault: true
    ///     * Response: Document 1 (UA), Document 2 (US), Document 3 (US)
    /// </summary>
    public class OldRetrieveLatestPoliciesByNamespaceAndCountryPublic : AccelByte.Sdk.Core.Operation
    {
        #region Builder Part
        public static OldRetrieveLatestPoliciesByNamespaceAndCountryPublicBuilder Builder { get => new OldRetrieveLatestPoliciesByNamespaceAndCountryPublicBuilder(); }

        public interface IOldRetrieveLatestPoliciesByNamespaceAndCountryPublicBuilder
        {

            bool? AlwaysIncludeDefault { get; }

            bool? DefaultOnEmpty { get; }

            OldRetrieveLatestPoliciesByNamespaceAndCountryPublicPolicyType? PolicyType { get; }

            string? Tags { get; }

            bool? VisibleOnly { get; }





        }

        public abstract class OldRetrieveLatestPoliciesByNamespaceAndCountryPublicAbstractBuilder<TImpl>
            : OperationBuilder<TImpl>, IOldRetrieveLatestPoliciesByNamespaceAndCountryPublicBuilder
            where TImpl : OldRetrieveLatestPoliciesByNamespaceAndCountryPublicAbstractBuilder<TImpl>
        {

            public bool? AlwaysIncludeDefault { get; set; }

            public bool? DefaultOnEmpty { get; set; }

            public OldRetrieveLatestPoliciesByNamespaceAndCountryPublicPolicyType? PolicyType { get; set; }

            public string? Tags { get; set; }

            public bool? VisibleOnly { get; set; }





            public OldRetrieveLatestPoliciesByNamespaceAndCountryPublicAbstractBuilder() { }

            public OldRetrieveLatestPoliciesByNamespaceAndCountryPublicAbstractBuilder(IAccelByteSdk sdk)
            {
                _Sdk = sdk;
            }


            public TImpl SetAlwaysIncludeDefault(bool _alwaysIncludeDefault)
            {
                AlwaysIncludeDefault = _alwaysIncludeDefault;
                return (TImpl)this;
            }

            public TImpl SetDefaultOnEmpty(bool _defaultOnEmpty)
            {
                DefaultOnEmpty = _defaultOnEmpty;
                return (TImpl)this;
            }

            public TImpl SetPolicyType(OldRetrieveLatestPoliciesByNamespaceAndCountryPublicPolicyType _policyType)
            {
                PolicyType = _policyType;
                return (TImpl)this;
            }

            public TImpl SetTags(string _tags)
            {
                Tags = _tags;
                return (TImpl)this;
            }

            public TImpl SetVisibleOnly(bool _visibleOnly)
            {
                VisibleOnly = _visibleOnly;
                return (TImpl)this;
            }





            public OldRetrieveLatestPoliciesByNamespaceAndCountryPublic Build(
                string countryCode,
                string namespace_
            )
            {
                OldRetrieveLatestPoliciesByNamespaceAndCountryPublic op = new OldRetrieveLatestPoliciesByNamespaceAndCountryPublic(this,
                    countryCode,                    
                    namespace_                    
                );

                op.SetBaseFields<TImpl>(this);
                return op;
            }

            protected OldRetrieveLatestPoliciesByNamespaceAndCountryPublic.Response InternalExecute(
                string countryCode,
                string namespace_
            )
            {
                OldRetrieveLatestPoliciesByNamespaceAndCountryPublic op = Build(
                    countryCode,
                    namespace_
                );

                if (_Sdk == null)
                    throw IncompleteComponentException.NoSdkObject;

                var response = _Sdk.RunRequest(op);
                return op.ParseResponse(
                    response.Code, 
                    response.ContentType,
                    response.Payload);
            }
            protected async Task<OldRetrieveLatestPoliciesByNamespaceAndCountryPublic.Response> InternalExecuteAsync(
                string countryCode,
                string namespace_
            )
            {
                OldRetrieveLatestPoliciesByNamespaceAndCountryPublic op = Build(
                    countryCode,
                    namespace_
                );

                if (_Sdk == null)
                    throw IncompleteComponentException.NoSdkObject;

                var response = await _Sdk.RunRequestAsync(op);
                return op.ParseResponse(
                    response.Code, 
                    response.ContentType,
                    response.Payload);
            }
        }

        public class OldRetrieveLatestPoliciesByNamespaceAndCountryPublicBuilder : OldRetrieveLatestPoliciesByNamespaceAndCountryPublicAbstractBuilder<OldRetrieveLatestPoliciesByNamespaceAndCountryPublicBuilder>
        {
            public OldRetrieveLatestPoliciesByNamespaceAndCountryPublicBuilder() : base() { }

            public OldRetrieveLatestPoliciesByNamespaceAndCountryPublicBuilder(IAccelByteSdk sdk) : base(sdk) { }

            public OldRetrieveLatestPoliciesByNamespaceAndCountryPublic.Response Execute(
                string countryCode,
                string namespace_
            )
            {
                return InternalExecute(
                    countryCode,
                    namespace_
                );
            }
            public async Task<OldRetrieveLatestPoliciesByNamespaceAndCountryPublic.Response> ExecuteAsync(
                string countryCode,
                string namespace_
            )
            {
                return await InternalExecuteAsync(
                    countryCode,
                    namespace_
                );
            }
        }


        public OldRetrieveLatestPoliciesByNamespaceAndCountryPublic(IOldRetrieveLatestPoliciesByNamespaceAndCountryPublicBuilder builder,
            string countryCode,
            string namespace_
        )
        {
            PathParams["countryCode"] = countryCode;
            PathParams["namespace"] = namespace_;
            
            if (builder.AlwaysIncludeDefault != null) QueryParams["alwaysIncludeDefault"] = Convert.ToString(builder.AlwaysIncludeDefault)!;
            if (builder.DefaultOnEmpty != null) QueryParams["defaultOnEmpty"] = Convert.ToString(builder.DefaultOnEmpty)!;
            if (builder.PolicyType is not null) QueryParams["policyType"] = builder.PolicyType.Value;
            if (builder.Tags is not null) QueryParams["tags"] = builder.Tags;
            if (builder.VisibleOnly != null) QueryParams["visibleOnly"] = Convert.ToString(builder.VisibleOnly)!;
            

            
            
            

        }
        #endregion

        #region Response Part        
        public class Response : ApiResponse<List<Model.RetrievePolicyPublicResponse>>
        {


            protected override string GetFullOperationId() => "Legal::Policies::OldRetrieveLatestPoliciesByNamespaceAndCountryPublic";
        }

        #endregion

        public OldRetrieveLatestPoliciesByNamespaceAndCountryPublic(
            string countryCode,            
            string namespace_,            
            bool? alwaysIncludeDefault,            
            bool? defaultOnEmpty,            
            OldRetrieveLatestPoliciesByNamespaceAndCountryPublicPolicyType? policyType,            
            string? tags,            
            bool? visibleOnly            
        )
        {
            PathParams["countryCode"] = countryCode;
            PathParams["namespace"] = namespace_;
            
            if (alwaysIncludeDefault != null) QueryParams["alwaysIncludeDefault"] = Convert.ToString(alwaysIncludeDefault)!;
            if (defaultOnEmpty != null) QueryParams["defaultOnEmpty"] = Convert.ToString(defaultOnEmpty)!;
            if (policyType is not null) QueryParams["policyType"] = policyType.Value;
            if (tags is not null) QueryParams["tags"] = tags;
            if (visibleOnly != null) QueryParams["visibleOnly"] = Convert.ToString(visibleOnly)!;
            

            
            
            

        }

        public override string Path => "/agreement/public/policies/namespaces/{namespace}/countries/{countryCode}";

        public override HttpMethod Method => HttpMethod.Get;

        public override List<string> Consumes => new() {  };

        public override List<string> Produces => new() { "application/json" };
        
        public OldRetrieveLatestPoliciesByNamespaceAndCountryPublic.Response ParseResponse(HttpStatusCode code, string contentType, Stream payload)
        {
            var response = new OldRetrieveLatestPoliciesByNamespaceAndCountryPublic.Response()
            {
                StatusCode = code,
                ContentType = contentType
            };

            if (code == (HttpStatusCode)204)
            {
                response.IsSuccess = true;
            }
            else if ((code == (HttpStatusCode)201) || (code == (HttpStatusCode)202) || (code == (HttpStatusCode)200))
            {
                response.Payload = payload.ReadToString();
                response.Data = JsonSerializer.Deserialize<List<Model.RetrievePolicyPublicResponse>>(response.Payload, ResponseJsonOptions);
                response.IsSuccess = true;
            }

            return response;
        }
    }

    public class OldRetrieveLatestPoliciesByNamespaceAndCountryPublicPolicyType : StringEnum<OldRetrieveLatestPoliciesByNamespaceAndCountryPublicPolicyType>
    {
        public static readonly OldRetrieveLatestPoliciesByNamespaceAndCountryPublicPolicyType LEGALDOCUMENTTYPE
            = new OldRetrieveLatestPoliciesByNamespaceAndCountryPublicPolicyType("LEGAL_DOCUMENT_TYPE");

        public static readonly OldRetrieveLatestPoliciesByNamespaceAndCountryPublicPolicyType MARKETINGPREFERENCETYPE
            = new OldRetrieveLatestPoliciesByNamespaceAndCountryPublicPolicyType("MARKETING_PREFERENCE_TYPE");


        public static implicit operator OldRetrieveLatestPoliciesByNamespaceAndCountryPublicPolicyType(string value)
        {
            return NewValue(value);
        }

        public OldRetrieveLatestPoliciesByNamespaceAndCountryPublicPolicyType(string enumValue)
            : base(enumValue)
        {

        }
    }

}