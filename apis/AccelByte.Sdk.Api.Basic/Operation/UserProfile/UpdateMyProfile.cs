// Copyright (c) 2022-2026 AccelByte Inc. All Rights Reserved.
// This is licensed software from AccelByte Inc, for limitations
// and restrictions contact your company contract manager.

// This code is generated by tool. DO NOT EDIT.

using System;
using System.Collections.Generic;
using System.Text;
using System.Text.Json;
using System.Net;
using System.Net.Http;
using System.IO;
using System.Threading.Tasks;

using AccelByte.Sdk.Core;
using AccelByte.Sdk.Core.Net.Http;

using AccelByte.Sdk.Api.Basic.Model;

namespace AccelByte.Sdk.Api.Basic.Operation
{
    /// <summary>
    /// updateMyProfile
    ///
    /// Update my profile.
    /// Updates user profile in the target namespace (namespace in the path). If token's namespace doesn't match the target namespace, the service automatically maps the token's user ID into the user ID in the target namespace. The endpoint returns the updated user profile on a successful call.
    /// Other detail info:
    /// 
    ///   * Action code : 11402
    ///   *  Returns : user profile
    ///   *  Path's namespace :
    ///     * can be filled with publisher namespace in order to update publisher user profile
    ///     * can be filled with game namespace in order to update game user profile
    ///   *  Language : allowed format: en, en-US
    ///   *  Timezone : IANA time zone, e.g. Asia/Shanghai
    /// </summary>
    public class UpdateMyProfile : AccelByte.Sdk.Core.Operation
    {
        #region Builder Part
        public static UpdateMyProfileBuilder Builder { get => new UpdateMyProfileBuilder(); }

        public interface IUpdateMyProfileBuilder
        {


            Model.UserProfileUpdate? Body { get; }




        }

        public abstract class UpdateMyProfileAbstractBuilder<TImpl>
            : OperationBuilder<TImpl>, IUpdateMyProfileBuilder
            where TImpl : UpdateMyProfileAbstractBuilder<TImpl>
        {


            public Model.UserProfileUpdate? Body { get; set; }




            public UpdateMyProfileAbstractBuilder() { }

            public UpdateMyProfileAbstractBuilder(IAccelByteSdk sdk)
            {
                _Sdk = sdk;
            }



            public TImpl SetBody(Model.UserProfileUpdate _body)
            {
                Body = _body;
                return (TImpl)this;
            }




            public UpdateMyProfile Build(
                string namespace_
            )
            {
                UpdateMyProfile op = new UpdateMyProfile(this,
                    namespace_                    
                );

                op.SetBaseFields<TImpl>(this);
                return op;
            }

            protected UpdateMyProfile.Response InternalExecute(
                string namespace_
            )
            {
                UpdateMyProfile op = Build(
                    namespace_
                );

                if (_Sdk == null)
                    throw IncompleteComponentException.NoSdkObject;

                var response = _Sdk.RunRequest(op);
                return op.ParseResponse(
                    response.Code, 
                    response.ContentType,
                    response.Payload);
            }
            protected async Task<UpdateMyProfile.Response> InternalExecuteAsync(
                string namespace_
            )
            {
                UpdateMyProfile op = Build(
                    namespace_
                );

                if (_Sdk == null)
                    throw IncompleteComponentException.NoSdkObject;

                var response = await _Sdk.RunRequestAsync(op);
                return op.ParseResponse(
                    response.Code, 
                    response.ContentType,
                    response.Payload);
            }

            protected UpdateMyProfile.Response<T1, T2> InternalExecute<T1, T2>(
                string namespace_
            )
            {
                UpdateMyProfile op = Build(
                    namespace_
                );

                if (_Sdk == null)
                    throw IncompleteComponentException.NoSdkObject;

                var response = _Sdk.RunRequest(op);
                return op.ParseResponse<T1, T2>(
                    response.Code, 
                    response.ContentType,
                    response.Payload);
            }
            protected async Task<UpdateMyProfile.Response<T1, T2>> InternalExecuteAsync<T1, T2>(
                string namespace_
            )
            {
                UpdateMyProfile op = Build(
                    namespace_
                );

                if (_Sdk == null)
                    throw IncompleteComponentException.NoSdkObject;

                var response = await _Sdk.RunRequestAsync(op);
                return op.ParseResponse<T1, T2>(
                    response.Code, 
                    response.ContentType,
                    response.Payload);
            }
        }

        public class UpdateMyProfileBuilder : UpdateMyProfileAbstractBuilder<UpdateMyProfileBuilder>
        {
            public UpdateMyProfileBuilder() : base() { }

            public UpdateMyProfileBuilder(IAccelByteSdk sdk) : base(sdk) { }

            public UpdateMyProfile.Response Execute(
                string namespace_
            )
            {
                return InternalExecute(
                    namespace_
                );
            }
            public async Task<UpdateMyProfile.Response> ExecuteAsync(
                string namespace_
            )
            {
                return await InternalExecuteAsync(
                    namespace_
                );
            }

            public UpdateMyProfile.Response<T1, T2> Execute<T1, T2>(
                string namespace_
            )
            {
                return InternalExecute<T1, T2>(
                    namespace_
                );
            }
            public async Task<UpdateMyProfile.Response<T1, T2>> ExecuteAsync<T1, T2>(
                string namespace_
            )
            {
                return await InternalExecuteAsync<T1, T2>(
                    namespace_
                );
            }
        }


        public UpdateMyProfile(IUpdateMyProfileBuilder builder,
            string namespace_
        )
        {
            PathParams["namespace"] = namespace_;
            
            

            
            
            BodyParams = builder.Body;
            

            Securities.Add(AccelByte.Sdk.Core.Operation.SECURITY_BEARER);
        }
        #endregion

        #region Response Part        
        public class Response : ApiResponse<Model.UserProfilePrivateInfo>
        {

            public ValidationErrorEntity? Error400 { get; set; } = null;

            public ErrorEntity? Error401 { get; set; } = null;

            public ErrorEntity? Error403 { get; set; } = null;

            public ErrorEntity? Error404 { get; set; } = null;


            protected override string GetFullOperationId() => "Basic::UserProfile::UpdateMyProfile";
        }

        public class Response<T1, T2> : ApiResponse<Model.UserProfilePrivateInfo<T1, T2>>
        {
            public ValidationErrorEntity? Error400 { get; set; } = null;

            public ErrorEntity? Error401 { get; set; } = null;

            public ErrorEntity? Error403 { get; set; } = null;

            public ErrorEntity? Error404 { get; set; } = null;


            protected override string GetFullOperationId() => "Basic::UserProfile::UpdateMyProfile";
        }
        #endregion

        public UpdateMyProfile(
            string namespace_,            
            Model.UserProfileUpdate body            
        )
        {
            PathParams["namespace"] = namespace_;
            
            

            
            
            BodyParams = body;
            

            Securities.Add(AccelByte.Sdk.Core.Operation.SECURITY_BEARER);
        }

        public override string Path => "/basic/v1/public/namespaces/{namespace}/users/me/profiles";

        public override HttpMethod Method => HttpMethod.Put;

        public override List<string> Consumes => new() { "application/json" };

        public override List<string> Produces => new() { "application/json" };
        
        public UpdateMyProfile.Response ParseResponse(HttpStatusCode code, string contentType, Stream payload)
        {
            var response = new UpdateMyProfile.Response()
            {
                StatusCode = code,
                ContentType = contentType
            };

            if (code == (HttpStatusCode)204)
            {
                response.IsSuccess = true;
            }
            else if ((code == (HttpStatusCode)201) || (code == (HttpStatusCode)202) || (code == (HttpStatusCode)200))
            {
                response.Payload = payload.ReadToString();
                response.Data = JsonSerializer.Deserialize<Model.UserProfilePrivateInfo>(response.Payload, ResponseJsonOptions);
                response.IsSuccess = true;
            }
            else if (code == (HttpStatusCode)400)
            {
                response.Payload = payload.ReadToString();
                response.Error400 = JsonSerializer.Deserialize<ValidationErrorEntity>(response.Payload, ResponseJsonOptions);
                response.Error = response.Error400!.TranslateToApiError();
            }
            else if (code == (HttpStatusCode)401)
            {
                response.Payload = payload.ReadToString();
                response.Error401 = JsonSerializer.Deserialize<ErrorEntity>(response.Payload, ResponseJsonOptions);
                response.Error = response.Error401!.TranslateToApiError();
            }
            else if (code == (HttpStatusCode)403)
            {
                response.Payload = payload.ReadToString();
                response.Error403 = JsonSerializer.Deserialize<ErrorEntity>(response.Payload, ResponseJsonOptions);
                response.Error = response.Error403!.TranslateToApiError();
            }
            else if (code == (HttpStatusCode)404)
            {
                response.Payload = payload.ReadToString();
                response.Error404 = JsonSerializer.Deserialize<ErrorEntity>(response.Payload, ResponseJsonOptions);
                response.Error = response.Error404!.TranslateToApiError();
            }

            return response;
        }

        public UpdateMyProfile.Response<T1, T2> ParseResponse<T1, T2>(HttpStatusCode code, string contentType, Stream payload)
        {
            var response = new UpdateMyProfile.Response<T1, T2>()
            {
                StatusCode = code,
                ContentType = contentType
            };

            if (code == (HttpStatusCode)204)
            {
                response.IsSuccess = true;
            }            
            else if ((code == (HttpStatusCode)201) || (code == (HttpStatusCode)202) || (code == (HttpStatusCode)200))
            {
                response.Payload = payload.ReadToString();
                response.Data = JsonSerializer.Deserialize<Model.UserProfilePrivateInfo<T1, T2>>(response.Payload, ResponseJsonOptions);
                response.IsSuccess = true;
            }
            else if (code == (HttpStatusCode)400)
            {
                response.Payload = payload.ReadToString();
                response.Error400 = JsonSerializer.Deserialize<ValidationErrorEntity>(response.Payload, ResponseJsonOptions);
                response.Error = response.Error400!.TranslateToApiError();
            }
            else if (code == (HttpStatusCode)401)
            {
                response.Payload = payload.ReadToString();
                response.Error401 = JsonSerializer.Deserialize<ErrorEntity>(response.Payload, ResponseJsonOptions);
                response.Error = response.Error401!.TranslateToApiError();
            }
            else if (code == (HttpStatusCode)403)
            {
                response.Payload = payload.ReadToString();
                response.Error403 = JsonSerializer.Deserialize<ErrorEntity>(response.Payload, ResponseJsonOptions);
                response.Error = response.Error403!.TranslateToApiError();
            }
            else if (code == (HttpStatusCode)404)
            {
                response.Payload = payload.ReadToString();
                response.Error404 = JsonSerializer.Deserialize<ErrorEntity>(response.Payload, ResponseJsonOptions);
                response.Error = response.Error404!.TranslateToApiError();
            }
            
            return response;
        }
    }

}